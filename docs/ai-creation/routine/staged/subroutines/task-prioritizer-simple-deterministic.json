{
  "id": "7829564732190850250",
  "publicId": "task-prioritizer-simple-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [],
  "versions": [
    {
      "id": "7829564732190850251",
      "publicId": "task-prioritizer-simple-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Orders tasks by importance and urgency",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineCode",
      "config": {
        "__version": "1.0",
        "callDataCode": {
          "__version": "1.0",
          "schema": {
            "language": "javascript",
            "logic": "function prioritizeTasks({ pendingTasks, dueDates, importanceScores }) {\n  const tasks = Array.isArray(pendingTasks) ? pendingTasks : [pendingTasks].filter(Boolean);\n  const deadlines = Array.isArray(dueDates) ? dueDates : [dueDates].filter(Boolean);\n  const priorities = Array.isArray(importanceScores) ? importanceScores : [importanceScores].filter(Boolean);\n  \n  const prioritizedTasks = tasks.map((task, index) => {\n    const taskData = typeof task === 'string' ? { name: task } : task;\n    const deadline = deadlines[index] || taskData.deadline || taskData.dueDate;\n    const importance = priorities[index] || taskData.priority || taskData.importance || 'medium';\n    \n    let urgencyScore = 0;\n    if (deadline) {\n      const daysUntilDue = Math.ceil((new Date(deadline) - new Date()) / (1000 * 60 * 60 * 24));\n      if (daysUntilDue <= 0) urgencyScore = 100;\n      else if (daysUntilDue <= 1) urgencyScore = 90;\n      else if (daysUntilDue <= 3) urgencyScore = 75;\n      else if (daysUntilDue <= 7) urgencyScore = 50;\n      else if (daysUntilDue <= 14) urgencyScore = 25;\n      else urgencyScore = 10;\n    }\n    \n    const importanceMap = { 'critical': 100, 'high': 75, 'medium': 50, 'low': 25 };\n    const importanceScore = importanceMap[importance.toLowerCase()] || 50;\n    \n    const finalScore = (urgencyScore * 0.6) + (importanceScore * 0.4);\n    \n    return {\n      ...taskData,\n      originalIndex: index,\n      urgencyScore,\n      importanceScore,\n      finalScore: Math.round(finalScore),\n      deadline,\n      priority: importance\n    };\n  }).sort((a, b) => b.finalScore - a.finalScore);\n  \n  const criticalTasks = prioritizedTasks.filter(t => t.finalScore >= 80);\n  const flexibleTasks = prioritizedTasks.filter(t => t.finalScore < 60);\n  \n  return {\n    orderedTaskList: prioritizedTasks,\n    mustDoTasks: criticalTasks,\n    optionalWork: flexibleTasks\n  };\n}"
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "pendingTasks",
                "id": "pending_tasks_input",
                "label": "Task List",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "List of pending tasks"
                }
              },
              {
                "fieldName": "dueDates",
                "id": "due_dates_input",
                "label": "Deadlines",
                "type": "JSON",
                "isRequired": false,
                "props": {
                  "placeholder": "Task due dates"
                }
              },
              {
                "fieldName": "importanceScores",
                "id": "importance_scores_input",
                "label": "Priorities",
                "type": "JSON",
                "isRequired": false,
                "props": {
                  "placeholder": "Task importance levels"
                }
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "orderedTaskList",
                "id": "ordered_task_list_output",
                "label": "Prioritized Tasks",
                "type": "JSON"
              },
              {
                "fieldName": "mustDoTasks",
                "id": "must_do_tasks_output",
                "label": "Critical Path",
                "type": "JSON"
              },
              {
                "fieldName": "optionalWork",
                "id": "optional_work_output",
                "label": "Flexible Tasks",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "deterministic"
      },
      "translations": [
        {
          "id": "7829564732190850252",
          "language": "en",
          "name": "Task Prioritizer (Simple)",
          "description": "Orders tasks by importance and urgency using a weighted scoring system.",
          "instructions": "Provide task list, deadlines, and importance scores. The routine will prioritize tasks and identify critical vs flexible work."
        }
      ]
    }
  ]
}