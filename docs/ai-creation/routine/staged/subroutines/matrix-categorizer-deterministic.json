{
  "id": "7829564732190850271",
  "publicId": "matrix-categorizer-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [],
  "versions": [
    {
      "id": "7829564732190850272",
      "publicId": "matrix-categorizer-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Places tasks in urgent/important matrix quadrants",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineCode",
      "config": {
        "__version": "1.0",
        "callDataCode": {
          "__version": "1.0",
          "schema": {
            "language": "javascript",
            "logic": "function categorizeIntoQuadrants({ urgencyScores, importanceScores, quadrantBoundaries }) {\n  const urgency = Array.isArray(urgencyScores) ? urgencyScores : [urgencyScores].filter(Boolean);\n  const importance = Array.isArray(importanceScores) ? importanceScores : [importanceScores].filter(Boolean);\n  const boundaries = quadrantBoundaries || getDefaultBoundaries();\n  \n  // Initialize quadrants\n  const doFirst = [];        // Q1: Urgent + Important\n  const schedule = [];       // Q2: Not Urgent + Important\n  const delegate = [];       // Q3: Urgent + Not Important\n  const eliminate = [];      // Q4: Not Urgent + Not Important\n  \n  // Process each task\n  for (let i = 0; i < Math.max(urgency.length, importance.length); i++) {\n    const urgencyData = urgency[i] || { urgencyScore: 0, taskName: `Task ${i + 1}` };\n    const importanceData = importance[i] || { importanceScore: 0, taskName: `Task ${i + 1}` };\n    \n    const taskData = {\n      taskId: urgencyData.taskId || importanceData.taskId || `task-${i + 1}`,\n      taskName: urgencyData.taskName || importanceData.taskName || `Task ${i + 1}`,\n      urgencyScore: urgencyData.urgencyScore || 0,\n      importanceScore: importanceData.importanceScore || 0,\n      urgencyLevel: urgencyData.urgencyLevel || 'low',\n      importanceLevel: importanceData.importanceLevel || 'low',\n      originalIndex: i\n    };\n    \n    // Determine quadrant based on scores and boundaries\n    const quadrant = determineQuadrant(taskData.urgencyScore, taskData.importanceScore, boundaries);\n    \n    const taskWithQuadrant = {\n      ...taskData,\n      quadrant: quadrant.name,\n      quadrantNumber: quadrant.number,\n      quadrantDescription: quadrant.description,\n      actionCategory: quadrant.action,\n      priority: calculatePriority(taskData.urgencyScore, taskData.importanceScore, quadrant.number),\n      reasoning: generateCategorization Reasoning(taskData, quadrant)\n    };\n    \n    // Add to appropriate quadrant\n    if (quadrant.number === 1) {\n      doFirst.push(taskWithQuadrant);\n    } else if (quadrant.number === 2) {\n      schedule.push(taskWithQuadrant);\n    } else if (quadrant.number === 3) {\n      delegate.push(taskWithQuadrant);\n    } else {\n      eliminate.push(taskWithQuadrant);\n    }\n  }\n  \n  function getDefaultBoundaries() {\n    return {\n      urgencyThreshold: 50,\n      importanceThreshold: 50,\n      strictMode: false,\n      customRules: []\n    };\n  }\n  \n  function determineQuadrant(urgencyScore, importanceScore, boundaries) {\n    const isUrgent = urgencyScore >= boundaries.urgencyThreshold;\n    const isImportant = importanceScore >= boundaries.importanceThreshold;\n    \n    if (isUrgent && isImportant) {\n      return {\n        number: 1,\n        name: 'Do First',\n        description: 'Urgent and Important - Crisis management',\n        action: 'do-immediately'\n      };\n    } else if (!isUrgent && isImportant) {\n      return {\n        number: 2,\n        name: 'Schedule',\n        description: 'Not Urgent but Important - Strategic work',\n        action: 'plan-and-schedule'\n      };\n    } else if (isUrgent && !isImportant) {\n      return {\n        number: 3,\n        name: 'Delegate',\n        description: 'Urgent but Not Important - Interruptions',\n        action: 'delegate-or-minimize'\n      };\n    } else {\n      return {\n        number: 4,\n        name: 'Eliminate',\n        description: 'Neither Urgent nor Important - Time wasters',\n        action: 'eliminate-or-defer'\n      };\n    }\n  }\n  \n  function calculatePriority(urgency, importance, quadrant) {\n    // Q1 gets highest priority, Q4 gets lowest\n    const baseScore = (urgency + importance) / 2;\n    \n    const quadrantMultiplier = {\n      1: 1.5,  // Boost Q1 tasks\n      2: 1.2,  // Slight boost for Q2\n      3: 0.8,  // Reduce Q3 priority\n      4: 0.4   // Heavily reduce Q4\n    };\n    \n    return Math.round(baseScore * (quadrantMultiplier[quadrant] || 1));\n  }\n  \n  function generateCategorizationReasoning(task, quadrant) {\n    let reasoning = `Categorized as \"${quadrant.name}\" (Q${quadrant.number}) because `;\n    \n    if (quadrant.number === 1) {\n      reasoning += `this task has both high urgency (${task.urgencyScore}/100) and high importance (${task.importanceScore}/100). These are crisis situations that require immediate attention.`;\n    } else if (quadrant.number === 2) {\n      reasoning += `this task has high importance (${task.importanceScore}/100) but lower urgency (${task.urgencyScore}/100). These strategic tasks should be planned and scheduled proactively.`;\n    } else if (quadrant.number === 3) {\n      reasoning += `this task has high urgency (${task.urgencyScore}/100) but lower importance (${task.importanceScore}/100). Consider delegating or minimizing time spent on these interruptions.`;\n    } else {\n      reasoning += `this task has both low urgency (${task.urgencyScore}/100) and low importance (${task.importanceScore}/100). Consider eliminating or deferring these activities.`;\n    }\n    \n    return reasoning;\n  }\n  \n  // Sort each quadrant by priority\n  doFirst.sort((a, b) => b.priority - a.priority);\n  schedule.sort((a, b) => b.priority - a.priority);\n  delegate.sort((a, b) => b.priority - a.priority);\n  eliminate.sort((a, b) => b.priority - a.priority);\n  \n  // Generate quadrant statistics\n  const quadrantStats = {\n    total: doFirst.length + schedule.length + delegate.length + eliminate.length,\n    distribution: {\n      quadrant1: doFirst.length,\n      quadrant2: schedule.length,\n      quadrant3: delegate.length,\n      quadrant4: eliminate.length\n    },\n    percentages: {\n      doFirst: Math.round((doFirst.length / Math.max(1, doFirst.length + schedule.length + delegate.length + eliminate.length)) * 100),\n      schedule: Math.round((schedule.length / Math.max(1, doFirst.length + schedule.length + delegate.length + eliminate.length)) * 100),\n      delegate: Math.round((delegate.length / Math.max(1, doFirst.length + schedule.length + delegate.length + eliminate.length)) * 100),\n      eliminate: Math.round((eliminate.length / Math.max(1, doFirst.length + schedule.length + delegate.length + eliminate.length)) * 100)\n    },\n    recommendations: generateQuadrantRecommendations(doFirst, schedule, delegate, eliminate)\n  };\n  \n  function generateQuadrantRecommendations(q1, q2, q3, q4) {\n    const recommendations = [];\n    \n    if (q1.length > q2.length + q3.length + q4.length) {\n      recommendations.push('High crisis load - focus on prevention and better planning to reduce Q1 tasks');\n    }\n    \n    if (q2.length < q1.length) {\n      recommendations.push('Invest more time in Q2 strategic work to prevent future crises');\n    }\n    \n    if (q3.length > q2.length) {\n      recommendations.push('Too many urgent but unimportant tasks - consider delegation or elimination');\n    }\n    \n    if (q4.length > 0) {\n      recommendations.push(`${q4.length} tasks should be eliminated or significantly deprioritized`);\n    }\n    \n    if (q2.length > q1.length + q3.length) {\n      recommendations.push('Good balance - focus on executing Q2 strategic work consistently');\n    }\n    \n    return recommendations;\n  }\n  \n  // Add metadata to each quadrant\n  const enrichedQuadrants = {\n    doFirst: {\n      tasks: doFirst,\n      summary: {\n        count: doFirst.length,\n        averagePriority: doFirst.length > 0 ? Math.round(doFirst.reduce((sum, t) => sum + t.priority, 0) / doFirst.length) : 0,\n        timeRecommendation: 'Handle immediately - allocate first available time',\n        approachStrategy: 'Crisis management mode - focus on quick resolution'\n      }\n    },\n    schedule: {\n      tasks: schedule,\n      summary: {\n        count: schedule.length,\n        averagePriority: schedule.length > 0 ? Math.round(schedule.reduce((sum, t) => sum + t.priority, 0) / schedule.length) : 0,\n        timeRecommendation: 'Schedule proactively - dedicate quality time blocks',\n        approachStrategy: 'Strategic planning - invest in long-term value creation'\n      }\n    },\n    delegate: {\n      tasks: delegate,\n      summary: {\n        count: delegate.length,\n        averagePriority: delegate.length > 0 ? Math.round(delegate.reduce((sum, t) => sum + t.priority, 0) / delegate.length) : 0,\n        timeRecommendation: 'Delegate or minimize - limit time investment',\n        approachStrategy: 'Efficient handling - delegate, automate, or quick resolution'\n      }\n    },\n    eliminate: {\n      tasks: eliminate,\n      summary: {\n        count: eliminate.length,\n        averagePriority: eliminate.length > 0 ? Math.round(eliminate.reduce((sum, t) => sum + t.priority, 0) / eliminate.length) : 0,\n        timeRecommendation: 'Eliminate or defer - question necessity',\n        approachStrategy: 'Ruthless prioritization - consider not doing these at all'\n      }\n    }\n  };\n  \n  return {\n    doFirst: enrichedQuadrants.doFirst,\n    schedule: enrichedQuadrants.schedule,\n    delegate: enrichedQuadrants.delegate,\n    eliminate: enrichedQuadrants.eliminate,\n    _metadata: {\n      statistics: quadrantStats,\n      boundaries: boundaries,\n      processingDate: new Date().toISOString()\n    }\n  };\n}"
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "urgencyScores",
                "id": "urgency_scores_input",
                "label": "Task Urgency",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "Urgency assessment results"
                }
              },
              {
                "fieldName": "importanceScores",
                "id": "importance_scores_input",
                "label": "Task Importance",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "Importance evaluation results"
                }
              },
              {
                "fieldName": "quadrantBoundaries",
                "id": "quadrant_boundaries_input",
                "label": "Thresholds",
                "type": "JSON",
                "isRequired": false,
                "props": {
                  "placeholder": "Quadrant boundary settings"
                }
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "doFirst",
                "id": "do_first_output",
                "label": "Quadrant 1",
                "type": "JSON"
              },
              {
                "fieldName": "schedule",
                "id": "schedule_output",
                "label": "Quadrant 2",
                "type": "JSON"
              },
              {
                "fieldName": "delegate",
                "id": "delegate_output",
                "label": "Quadrant 3",
                "type": "JSON"
              },
              {
                "fieldName": "eliminate",
                "id": "eliminate_output",
                "label": "Quadrant 4",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "deterministic"
      },
      "translations": [
        {
          "id": "7829564732190850273",
          "language": "en",
          "name": "Matrix Categorizer",
          "description": "Places tasks in urgent/important matrix quadrants with priority scoring and strategic recommendations.",
          "instructions": "Provide urgency and importance scores with boundary thresholds. The routine will categorize tasks into Eisenhower Matrix quadrants."
        }
      ]
    }
  ]
}