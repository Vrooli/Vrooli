{
  "id": "7829564732190850004",
  "publicId": "spend-pattern-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [],
  "versions": [
    {
      "id": "7829564732190850005",
      "publicId": "spend-pattern-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Analyzes spending patterns and identifies trends",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineGenerate",
      "config": {
        "__version": "1.0",
        "callDataGenerate": {
          "__version": "1.0",
          "schema": {
            "botStyle": "Analytical",
            "maxTokens": 1000,
            "model": null,
            "prompt": "You are a financial pattern analysis expert. Analyze the categorized expense data to identify spending patterns, trends, and anomalies.\n\nCategorized Expenses:\n{{input.categorizedExpenses}}\n\nHistorical Data (if available):\n{{input.historicalData}}\n\nSeasonal Factors:\n{{input.seasonalFactors}}\n\nAnalysis Tasks:\n1. Identify spending trends over time (increasing, decreasing, stable)\n2. Detect anomalous or unusual expenses that deviate from normal patterns\n3. Find cyclical patterns (weekly, monthly, seasonal)\n4. Calculate average spending by category and time period\n5. Identify spending spikes and their potential causes\n6. Compare current patterns to historical baseline if available\n\nProvide output as a JSON object with:\n- spendingTrends: Object describing trends for each category\n- anomalousExpenses: Array of unusual transactions with explanation\n- cyclicalPatterns: Object describing recurring patterns found\n- insights: Array of key findings and observations",
            "respondingBot": null
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "categorizedExpenses",
                "id": "categorized_expenses_input",
                "label": "Categorized Expenses",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "Expenses organized by category"
                }
              },
              {
                "fieldName": "historicalData",
                "id": "historical_data_input",
                "label": "Historical Spending Data",
                "type": "JSON",
                "isRequired": false,
                "props": {
                  "placeholder": "Past spending data for comparison"
                }
              },
              {
                "fieldName": "seasonalFactors",
                "id": "seasonal_factors_input",
                "label": "Seasonal Factors",
                "type": "JSON",
                "isRequired": false,
                "props": {
                  "placeholder": "Known seasonal spending patterns"
                }
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "spendingTrends",
                "id": "spending_trends_output",
                "label": "Spending Trends",
                "type": "JSON"
              },
              {
                "fieldName": "anomalousExpenses",
                "id": "anomalous_expenses_output",
                "label": "Anomalous Expenses",
                "type": "JSON"
              },
              {
                "fieldName": "cyclicalPatterns",
                "id": "cyclical_patterns_output",
                "label": "Cyclical Patterns",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "reasoning"
      },
      "translations": [
        {
          "id": "7829564732190850006",
          "language": "en",
          "name": "Spending Pattern Analyzer",
          "description": "Analyzes financial transactions to identify spending trends, anomalies, and cyclical patterns for better budget management.",
          "instructions": "Provide categorized expense data from the expense categorizer. Optionally include historical data and known seasonal factors for more accurate pattern detection. The routine will identify trends, unusual expenses, and recurring patterns."
        }
      ]
    }
  ]
}