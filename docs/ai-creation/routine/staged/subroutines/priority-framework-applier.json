{
  "id": "7829564732190850076",
  "publicId": "priority-frame-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [],
  "versions": [
    {
      "id": "7829564732190850077",
      "publicId": "priority-frame-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Applies multiple prioritization frameworks",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineCode",
      "config": {
        "__version": "1.0",
        "callDataCode": {
          "__version": "1.0",
          "schema": {
            "code": "function applyPrioritizationFrameworks(input) {\n  const { completeTaskList, priorityFrameworks, contextualFactors } = input;\n  \n  const result = {\n    eisenhowerMatrix: {\n      urgent_important: [],\n      not_urgent_important: [],\n      urgent_not_important: [],\n      not_urgent_not_important: []\n    },\n    riceScores: [],\n    weightedScoring: []\n  };\n  \n  // Helper function to normalize scores to 0-10 scale\n  const normalize = (value, min, max) => ((value - min) / (max - min)) * 10;\n  \n  completeTaskList.forEach(task => {\n    // Eisenhower Matrix Classification\n    const urgency = task.dueDate ? \n      Math.max(0, 10 - (new Date(task.dueDate) - new Date()) / (24 * 60 * 60 * 1000)) : 5;\n    const importance = task.impact || task.valueScore || 5;\n    \n    let quadrant;\n    if (urgency >= 7 && importance >= 7) quadrant = 'urgent_important';\n    else if (urgency < 7 && importance >= 7) quadrant = 'not_urgent_important';\n    else if (urgency >= 7 && importance < 7) quadrant = 'urgent_not_important';\n    else quadrant = 'not_urgent_not_important';\n    \n    result.eisenhowerMatrix[quadrant].push({\n      taskId: task.id,\n      taskName: task.name,\n      urgencyScore: Math.round(urgency * 10) / 10,\n      importanceScore: Math.round(importance * 10) / 10\n    });\n    \n    // RICE Score Calculation\n    const reach = task.affectedUsers || task.stakeholders?.length || 1;\n    const impact = task.impact || 5; // 0-10 scale\n    const confidence = task.confidence || task.clarity || 0.5; // 0-1 scale\n    const effort = task.estimatedHours || task.complexity || 1;\n    \n    const riceScore = (reach * impact * confidence) / effort;\n    \n    result.riceScores.push({\n      taskId: task.id,\n      taskName: task.name,\n      reach,\n      impact,\n      confidence,\n      effort,\n      riceScore: Math.round(riceScore * 10) / 10\n    });\n    \n    // Weighted Multi-Criteria Scoring\n    const weights = contextualFactors.weights || {\n      value: 0.3,\n      effort: 0.2,\n      risk: 0.2,\n      alignment: 0.2,\n      dependencies: 0.1\n    };\n    \n    const scores = {\n      value: task.valueScore || task.impact || 5,\n      effort: 10 - (task.estimatedHours ? Math.min(task.estimatedHours / 40, 10) : 5),\n      risk: 10 - (task.riskLevel || 5),\n      alignment: task.strategicAlignment || 5,\n      dependencies: task.dependencies ? 10 - Math.min(task.dependencies.length, 10) : 10\n    };\n    \n    let weightedScore = 0;\n    for (const criterion in weights) {\n      weightedScore += scores[criterion] * weights[criterion];\n    }\n    \n    result.weightedScoring.push({\n      taskId: task.id,\n      taskName: task.name,\n      scores,\n      weightedScore: Math.round(weightedScore * 10) / 10,\n      breakdown: Object.entries(scores).map(([key, value]) => ({\n        criterion: key,\n        score: value,\n        weight: weights[key],\n        contribution: value * weights[key]\n      }))\n    });\n  });\n  \n  // Sort results\n  result.riceScores.sort((a, b) => b.riceScore - a.riceScore);\n  result.weightedScoring.sort((a, b) => b.weightedScore - a.weightedScore);\n  \n  return result;\n}\n\n// Execute the framework application\nconst output = applyPrioritizationFrameworks(input);\nreturn output;",
            "language": "javascript"
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "completeTaskList",
                "id": "complete_task_list_input",
                "label": "Task Inventory",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "All tasks with metadata"
                }
              },
              {
                "fieldName": "priorityFrameworks",
                "id": "priority_frameworks_input",
                "label": "Scoring Methods",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "Framework configurations"
                }
              },
              {
                "fieldName": "contextualFactors",
                "id": "contextual_factors_input",
                "label": "Environmental Variables",
                "type": "JSON",
                "isRequired": true,
                "props": {
                  "placeholder": "Weights and context"
                }
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "eisenhowerMatrix",
                "id": "eisenhower_matrix_output",
                "label": "Urgency-Importance Grid",
                "type": "JSON"
              },
              {
                "fieldName": "riceScores",
                "id": "rice_scores_output",
                "label": "RICE Prioritization",
                "type": "JSON"
              },
              {
                "fieldName": "weightedScoring",
                "id": "weighted_scoring_output",
                "label": "Multi-Criteria Ranking",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "deterministic"
      },
      "translations": [
        {
          "id": "7829564732190850078",
          "language": "en",
          "name": "Priority Framework Applier",
          "description": "Applies Eisenhower Matrix, RICE scoring, and weighted multi-criteria analysis to prioritize tasks using multiple frameworks.",
          "instructions": "Provide task list, framework configurations, and contextual weights. The routine will apply multiple prioritization methods and return scored rankings."
        }
      ]
    }
  ]
}