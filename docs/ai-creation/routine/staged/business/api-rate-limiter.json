{
  "id": "7892456378912349433",
  "publicId": "api-ra-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [],
  "versions": [
    {
      "id": "7892456378912349434",
      "publicId": "api-rate-lim-v1",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version of API rate limiter for comprehensive traffic control and API protection strategies",
      "isComplete": true,
      "resourceSubType": "RoutineGenerate",
      "config": {
        "__version": "1.0",
        "callDataGenerate": {
          "__version": "1.0",
          "schema": {
            "botStyle": "Security-focused",
            "maxTokens": 900,
            "temperature": 0.2,
            "prompt": "You are an API rate limiting expert providing comprehensive traffic control strategies, API protection optimization, and abuse prevention solutions.\n\nAPI Context: {{input.apiContext}}\nTraffic Patterns: {{input.trafficPatterns}}\nProtection Requirements: {{input.protectionRequirements}}\nScaling Needs: {{input.scalingNeeds}}\n\nDesign comprehensive API rate limiting strategy:\n\n1. **Rate Limiting Algorithm Selection**:\n   - Token bucket implementation\n   - Sliding window strategies\n   - Fixed window approaches\n   - Leaky bucket algorithms\n   - Adaptive rate limiting\n\n2. **Identification and Classification**:\n   - Client identification methods\n   - IP-based rate limiting\n   - API key management\n   - User-based quotas\n   - Resource-specific limits\n\n3. **Quota Management**:\n   - Tier-based quota systems\n   - Dynamic quota adjustment\n   - Burst allowance handling\n   - Time-based quota reset\n   - Fair usage policies\n\n4. **Distributed Rate Limiting**:\n   - Multi-node coordination\n   - Shared state management\n   - Redis-based coordination\n   - Eventual consistency handling\n   - Cross-service synchronization\n\n5. **Response and Error Handling**:\n   - Rate limit headers\n   - Error message customization\n   - Retry-after guidance\n   - Graceful degradation\n   - Client communication\n\n6. **Monitoring and Analytics**:\n   - Usage pattern analysis\n   - Abuse detection algorithms\n   - Performance impact monitoring\n   - Compliance reporting\n   - Real-time dashboards\n\n7. **Configuration and Management**:\n   - Dynamic configuration updates\n   - A/B testing integration\n   - Emergency throttling\n   - Whitelist/blacklist management\n   - Policy automation\n\nProvide comprehensive API rate limiting plan with algorithm implementation, quota management, distributed coordination, and monitoring frameworks for robust API protection.",
            "retryPolicy": {
              "maxAttempts": 2,
              "backoffMultiplier": 1.5,
              "initialDelay": 1000
            }
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "apiContext",
                "id": "api_context_input",
                "label": "API Context",
                "type": "Text",
                "isRequired": true,
                "props": {
                  "placeholder": "API type, user base, service architecture, business model, criticality level",
                  "multiline": true,
                  "minRows": 4,
                  "helperText": "Describe your API rate limiting context"
                }
              },
              {
                "fieldName": "trafficPatterns",
                "id": "traffic_patterns_input",
                "label": "Traffic Patterns",
                "type": "Text",
                "isRequired": true,
                "props": {
                  "placeholder": "Request volumes, peak loads, client types, geographic distribution, usage seasonality",
                  "multiline": true,
                  "minRows": 3,
                  "helperText": "What traffic patterns exist?"
                }
              },
              {
                "fieldName": "protectionRequirements",
                "id": "protection_requirements_input",
                "label": "Protection Requirements",
                "type": "Text",
                "isRequired": true,
                "props": {
                  "placeholder": "Abuse prevention, resource protection, SLA enforcement, fair usage, cost control needs",
                  "multiline": true,
                  "minRows": 3,
                  "helperText": "What protection requirements exist?"
                }
              },
              {
                "fieldName": "scalingNeeds",
                "id": "scaling_needs_input",
                "label": "Scaling Needs",
                "type": "Selector",
                "isRequired": true,
                "props": {
                  "options": [
                    { "label": "High Throughput", "value": "throughput" },
                    { "label": "Low Latency", "value": "latency" },
                    { "label": "Distributed Systems", "value": "distributed" },
                    { "label": "Cost Efficiency", "value": "cost" },
                    { "label": "Flexibility Priority", "value": "flexibility" },
                    { "label": "Balanced Scaling", "value": "balanced" }
                  ],
                  "defaultValue": "balanced",
                  "helperText": "Primary scaling objective"
                }
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "apiRateLimitingPlan",
                "id": "api_rate_limiting_plan",
                "label": "API Rate Limiting Plan",
                "type": "Text",
                "isRequired": true,
                "props": {
                  "multiline": true,
                  "minRows": 15
                }
              }
            ]
          }
        },
        "executionStrategy": "reasoning"
      },
      "translations": [
        {
          "id": "7892456378912349435",
          "language": "en-US",
          "name": "API Rate Limiter",
          "description": "Provides comprehensive API rate limiting with algorithm implementation, quota management, and monitoring frameworks for robust API protection.",
          "instructions": "Describe your API context, traffic patterns, and protection requirements. The limiter will design a comprehensive rate limiting strategy."
        }
      ]
    }
  ]
}