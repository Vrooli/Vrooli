{
  "id": "7829564732190847943",
  "publicId": "contextual-search-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [
    {
      "id": "7829564732190847021",
      "tag": "research-intelligence",
      "translations": [
        {
          "id": "7829564732190847121",
          "language": "en",
          "description": "Research and information gathering"
        }
      ]
    },
    {
      "id": "7829564732190847090",
      "tag": "analysis",
      "translations": [
        {
          "id": "7829564732190847190",
          "language": "en",
          "description": "Analytical capabilities"
        }
      ]
    },
    {
      "id": "7829564732190847091",
      "tag": "automation",
      "translations": [
        {
          "id": "7829564732190847191",
          "language": "en",
          "description": "Process automation"
        }
      ]
    }
  ],
  "versions": [
    {
      "id": "7829564732190847944",
      "publicId": "contextual-search-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Context-aware search and information retrieval system",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineMultiStep",
      "config": {
        "__version": "1.0",
        "graph": {
          "__type": "Sequential",
          "schema": {
            "steps": [
              {
                "id": "step-1",
                "name": "Analyze Search Intent",
                "description": "Understands search query context, intent, and requirements",
                "subroutineId": "TODO: Need intent analysis subroutine",
                "inputMap": {
                  "searchQuery": "userQuery",
                  "searchContext": "contextualInfo",
                  "queryHistory": "previousSearches"
                },
                "outputMap": {
                  "intentAnalysis": "queryIntent",
                  "contextualFactors": "relevanceContext",
                  "searchScope": "queryBoundaries"
                }
              },
              {
                "id": "step-2",
                "name": "Expand Query Terms",
                "description": "Enhances search with synonyms, related terms, and context-specific keywords",
                "subroutineId": "TODO: Need query expansion subroutine",
                "inputMap": {
                  "queryIntent": "intentAnalysis",
                  "relevanceContext": "contextualFactors",
                  "domainKnowledge": "subjectExpertise"
                },
                "outputMap": {
                  "expandedQuery": "enhancedTerms",
                  "relatedConcepts": "associatedKeywords",
                  "searchVariations": "alternativeQueries"
                }
              },
              {
                "id": "step-3",
                "name": "Execute Contextual Search",
                "description": "Performs targeted search within specific knowledge domains",
                "subroutineId": "TODO: Need contextual search subroutine",
                "inputMap": {
                  "enhancedTerms": "expandedQuery",
                  "queryBoundaries": "searchScope",
                  "knowledgeBase": "searchableContent"
                },
                "outputMap": {
                  "searchResults": "retrievedContent",
                  "relevanceScores": "matchQuality",
                  "contentSources": "sourceReferences"
                }
              },
              {
                "id": "step-4",
                "name": "Filter and Rank Results",
                "description": "Prioritizes results based on context relevance and quality",
                "subroutineId": "TODO: Need result filtering subroutine",
                "inputMap": {
                  "retrievedContent": "searchResults",
                  "matchQuality": "relevanceScores",
                  "filterCriteria": "qualityStandards"
                },
                "outputMap": {
                  "filteredResults": "qualityContent",
                  "rankingOrder": "prioritizedMatches",
                  "confidenceLevels": "resultReliability"
                }
              },
              {
                "id": "step-5",
                "name": "Synthesize Information",
                "description": "Combines and summarizes relevant information from multiple sources",
                "subroutineId": "TODO: Need information synthesis subroutine",
                "inputMap": {
                  "qualityContent": "filteredResults",
                  "sourceReferences": "contentSources",
                  "synthesisPreferences": "outputFormat"
                },
                "outputMap": {
                  "synthesizedAnswer": "compiledResponse",
                  "supportingEvidence": "backingInformation",
                  "knowledgeGaps": "missingInformation"
                }
              },
              {
                "id": "step-6",
                "name": "Generate Search Report",
                "description": "Creates comprehensive response with sources and follow-up suggestions",
                "subroutineId": "TODO: Need report generation subroutine",
                "inputMap": {
                  "compiledResponse": "synthesizedAnswer",
                  "backingInformation": "supportingEvidence",
                  "presentationStyle": "reportingFormat"
                },
                "outputMap": {
                  "searchReport": "contextualAnswer",
                  "sourceReferences": "citationList",
                  "followUpSuggestions": "relatedQueries"
                }
              }
            ],
            "rootContext": {
              "inputMap": {
                "query": "userQuery",
                "context": "contextualInfo",
                "dataset": "knowledgeBase",
                "preferences": "searchPreferences"
              },
              "outputMap": {
                "contextualAnswer": "searchOutcome",
                "citationList": "sourceDocumentation",
                "relatedQueries": "followUpOptions",
                "compiledResponse": "synthesizedResults"
              }
            },
            "executionMode": "sequential"
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "query",
                "id": "query_input",
                "label": "Search Query",
                "type": "JSON",
                "isRequired": true,
                "placeholder": "Your question or search terms"
              },
              {
                "fieldName": "context",
                "id": "context_input",
                "label": "Search Context",
                "type": "JSON",
                "isRequired": false,
                "placeholder": "Background, project, or domain context for the search"
              },
              {
                "fieldName": "searchScope",
                "id": "search_scope_input",
                "label": "Search Scope",
                "type": "Selector",
                "isRequired": true,
                "options": [
                  "personal-knowledge",
                  "team-documents",
                  "project-files",
                  "company-wiki",
                  "technical-docs",
                  "research-papers",
                  "web-sources",
                  "all-available"
                ]
              },
              {
                "fieldName": "dataset",
                "id": "dataset_input",
                "label": "Knowledge Base",
                "type": "JSON",
                "isRequired": false,
                "placeholder": "Specific documents or datasets to search within"
              },
              {
                "fieldName": "searchDepth",
                "id": "search_depth_input",
                "label": "Search Depth",
                "type": "Selector",
                "isRequired": false,
                "defaultValue": "thorough",
                "options": [
                  "quick",
                  "standard",
                  "thorough",
                  "comprehensive",
                  "exhaustive"
                ]
              },
              {
                "fieldName": "outputFormat",
                "id": "output_format_input",
                "label": "Response Format",
                "type": "Selector",
                "isRequired": false,
                "defaultValue": "structured",
                "options": [
                  "brief",
                  "structured",
                  "detailed",
                  "research-report",
                  "conversational"
                ]
              },
              {
                "fieldName": "includeSourceLinks",
                "id": "include_source_links_input",
                "label": "Include Source References",
                "type": "Switch",
                "isRequired": false,
                "defaultValue": true
              },
              {
                "fieldName": "confidenceThreshold",
                "id": "confidence_threshold_input",
                "label": "Confidence Threshold",
                "type": "Selector",
                "isRequired": false,
                "defaultValue": "medium",
                "options": [
                  "low",
                  "medium",
                  "high",
                  "very-high"
                ]
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "searchOutcome",
                "id": "search_outcome_output",
                "label": "Contextual Search Results",
                "type": "JSON"
              },
              {
                "fieldName": "sourceDocumentation",
                "id": "source_documentation_output",
                "label": "Source References & Citations",
                "type": "JSON"
              },
              {
                "fieldName": "followUpOptions",
                "id": "follow_up_options_output",
                "label": "Related Search Suggestions",
                "type": "JSON"
              },
              {
                "fieldName": "synthesizedResults",
                "id": "synthesized_results_output",
                "label": "Compiled Information",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "reasoning",
        "allowStrategyOverride": false,
        "subroutineStrategies": {
          "0": "reasoning",
          "1": "reasoning",
          "2": "reasoning",
          "3": "deterministic",
          "4": "reasoning",
          "5": "conversational"
        }
      },
      "translations": [
        {
          "id": "7829564732190847945",
          "language": "en",
          "name": "Contextual Search Assistant",
          "description": "Context-aware search and information retrieval system. Analyzes search intent, expands query terms, executes contextual searches, filters and ranks results, synthesizes information, and generates comprehensive search reports.",
          "instructions": "Enter your search query and provide context. Choose search scope and knowledge base. Set search depth and response format. The routine will perform intelligent search, synthesize findings, and provide contextual answers with source references."
        }
      ]
    }
  ]
}
