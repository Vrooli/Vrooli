{
  "id": "7829564732190847796",
  "publicId": "memory-maint-v1",
  "resourceType": "Routine",
  "isPrivate": false,
  "permissions": "{}",
  "isInternal": false,
  "tags": [
    {
      "id": "7829564732190847001",
      "tag": "meta-intelligence",
      "translations": [
        {
          "id": "7829564732190847101",
          "language": "en",
          "description": "System-level intelligence and self-improvement capabilities"
        }
      ]
    },
    {
      "id": "7829564732190847002",
      "tag": "memory-management",
      "translations": [
        {
          "id": "7829564732190847102",
          "language": "en",
          "description": "Memory maintenance and optimization"
        }
      ]
    },
    {
      "id": "7829564732190847093",
      "tag": "monitoring",
      "translations": [
        {
          "id": "7829564732190847193",
          "language": "en",
          "description": "Monitoring and tracking"
        }
      ]
    }
  ],
  "versions": [
    {
      "id": "7829564732190847797",
      "publicId": "memory-maint-v1-0",
      "versionLabel": "1.0.0",
      "versionNotes": "Initial version - Vector embedding memory optimization and maintenance system",
      "isComplete": true,
      "isPrivate": false,
      "versionIndex": 0,
      "isAutomatable": true,
      "resourceSubType": "RoutineMultiStep",
      "config": {
        "__version": "1.0",
        "graph": {
          "__type": "Sequential",
          "schema": {
            "steps": [
              {
                "id": "step-1",
                "name": "Analyze Memory Store",
                "description": "Scans embedding store for patterns, duplicates, and inefficiencies",
                "subroutineId": "TODO: Need memory analysis subroutine",
                "inputMap": {
                  "embeddingStore": "vectorDatabase",
                  "accessLogs": "usagePatterns",
                  "retentionPolicy": "memoryRules"
                },
                "outputMap": {
                  "memoryAnalysis": "storeAssessment",
                  "duplicateDetection": "redundancyMap",
                  "accessFrequency": "usageStatistics"
                }
              },
              {
                "id": "step-2",
                "name": "Identify Consolidation Opportunities",
                "description": "Finds similar entries that can be merged or consolidated",
                "subroutineId": "TODO: Need clustering subroutine",
                "inputMap": {
                  "storeAssessment": "memoryAnalysis",
                  "similarityThreshold": "clusteringCriteria",
                  "semanticMapping": "meaningAlignment"
                },
                "outputMap": {
                  "clusterGroups": "similarityGroups",
                  "consolidationCandidates": "mergeOpportunities",
                  "semanticDuplicates": "redundantConcepts"
                }
              },
              {
                "id": "step-3",
                "name": "Prune Outdated Entries",
                "description": "Removes obsolete or low-value memory entries",
                "subroutineId": "TODO: Need pruning subroutine",
                "inputMap": {
                  "usageStatistics": "accessFrequency",
                  "retentionPolicy": "memoryRules",
                  "temporalRelevance": "ageingFactors"
                },
                "outputMap": {
                  "pruningList": "removalTargets",
                  "archiveItems": "preservationCandidates",
                  "freedSpace": "memoryReclaimed"
                }
              },
              {
                "id": "step-4",
                "name": "Optimize Index Structure",
                "description": "Reorganizes embeddings for improved retrieval performance",
                "subroutineId": "TODO: Need index optimization subroutine",
                "inputMap": {
                  "similarityGroups": "clusterGroups",
                  "queryPatterns": "retrievalBehavior",
                  "performanceMetrics": "currentEfficiency"
                },
                "outputMap": {
                  "optimizedIndex": "improvedStructure",
                  "retrievalMapping": "accessOptimization",
                  "performanceGains": "efficiencyImprovement"
                }
              },
              {
                "id": "step-5",
                "name": "Update Knowledge Graph",
                "description": "Refreshes relationships and connections between memories",
                "subroutineId": "TODO: Need graph update subroutine",
                "inputMap": {
                  "consolidatedMemories": "mergedEntries",
                  "newConnections": "discoveredRelationships",
                  "contextUpdates": "environmentalChanges"
                },
                "outputMap": {
                  "updatedGraph": "refreshedNetwork",
                  "strengthenedLinks": "enhancedConnections",
                  "knowledgeInsights": "emergentPatterns"
                }
              },
              {
                "id": "step-6",
                "name": "Generate Maintenance Report",
                "description": "Documents changes and provides optimization recommendations",
                "subroutineId": "TODO: Need reporting subroutine",
                "inputMap": {
                  "maintenanceActions": "completedOperations",
                  "performanceMetrics": "systemImprovement",
                  "futureRecommendations": "optimizationSuggestions"
                },
                "outputMap": {
                  "maintenanceReport": "operationSummary",
                  "healthMetrics": "systemStatus",
                  "nextSchedule": "maintenancePlan"
                }
              }
            ],
            "rootContext": {
              "inputMap": {
                "memory": "vectorDatabase",
                "policies": "memoryRules",
                "performance": "currentEfficiency",
                "schedule": "maintenanceFrequency"
              },
              "outputMap": {
                "operationSummary": "maintenanceOutcome",
                "systemStatus": "memoryHealth",
                "improvedStructure": "optimizedMemory",
                "maintenancePlan": "futureSchedule"
              }
            },
            "executionMode": "sequential"
          }
        },
        "formInput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "memory",
                "id": "memory_input",
                "label": "Memory Store Configuration",
                "type": "JSON",
                "isRequired": true,
                "placeholder": "Vector database details, size, and current state"
              },
              {
                "fieldName": "policies",
                "id": "policies_input",
                "label": "Retention Policies",
                "type": "JSON",
                "isRequired": true,
                "placeholder": "Rules for memory retention, archiving, and deletion"
              },
              {
                "fieldName": "maintenanceType",
                "id": "maintenance_type_input",
                "label": "Maintenance Type",
                "type": "Selector",
                "isRequired": true,
                "options": [
                  "routine-cleanup",
                  "deep-optimization",
                  "emergency-recovery",
                  "capacity-expansion",
                  "performance-tuning"
                ]
              },
              {
                "fieldName": "schedule",
                "id": "schedule_input",
                "label": "Maintenance Schedule",
                "type": "Selector",
                "isRequired": true,
                "options": [
                  "daily",
                  "weekly",
                  "bi-weekly",
                  "monthly",
                  "quarterly",
                  "on-demand"
                ]
              },
              {
                "fieldName": "performance",
                "id": "performance_input",
                "label": "Performance Requirements",
                "type": "JSON",
                "isRequired": true,
                "placeholder": "Retrieval speed targets, accuracy requirements, resource constraints"
              },
              {
                "fieldName": "similarityThreshold",
                "id": "similarity_threshold_input",
                "label": "Similarity Threshold",
                "type": "Selector",
                "isRequired": false,
                "defaultValue": "0.85",
                "options": [
                  "0.70",
                  "0.75",
                  "0.80",
                  "0.85",
                  "0.90",
                  "0.95"
                ]
              },
              {
                "fieldName": "aggressiveness",
                "id": "aggressiveness_input",
                "label": "Cleanup Aggressiveness",
                "type": "Selector",
                "isRequired": false,
                "defaultValue": "moderate",
                "options": [
                  "conservative",
                  "moderate",
                  "aggressive",
                  "very-aggressive"
                ]
              },
              {
                "fieldName": "priorityAreas",
                "id": "priority_areas_input",
                "label": "Priority Optimization Areas",
                "type": "JSON",
                "isRequired": false,
                "placeholder": "Specific memory types or domains to prioritize"
              }
            ]
          }
        },
        "formOutput": {
          "__version": "1.0",
          "schema": {
            "containers": [],
            "elements": [
              {
                "fieldName": "maintenanceOutcome",
                "id": "maintenance_outcome_output",
                "label": "Complete Maintenance Report",
                "type": "JSON"
              },
              {
                "fieldName": "memoryHealth",
                "id": "memory_health_output",
                "label": "Memory System Health Status",
                "type": "JSON"
              },
              {
                "fieldName": "optimizedMemory",
                "id": "optimized_memory_output",
                "label": "Optimized Memory Structure",
                "type": "JSON"
              },
              {
                "fieldName": "futureSchedule",
                "id": "future_schedule_output",
                "label": "Future Maintenance Plan",
                "type": "JSON"
              }
            ]
          }
        },
        "executionStrategy": "deterministic",
        "allowStrategyOverride": false,
        "subroutineStrategies": {
          "0": "deterministic",
          "1": "deterministic",
          "2": "deterministic",
          "3": "deterministic",
          "4": "reasoning",
          "5": "reasoning"
        }
      },
      "translations": [
        {
          "id": "7829564732190847798",
          "language": "en",
          "name": "Memory Maintenance System",
          "description": "Comprehensive vector embedding maintenance system that analyzes memory stores, identifies consolidation opportunities, prunes outdated entries, optimizes index structures, updates knowledge graphs, and provides health reports for efficient AI memory management.",
          "instructions": "Configure your vector database and retention policies. Select maintenance type and schedule. Specify performance requirements and optimization priorities. The routine will analyze, consolidate, prune, and optimize your embedding store for improved retrieval performance."
        }
      ]
    }
  ]
}
