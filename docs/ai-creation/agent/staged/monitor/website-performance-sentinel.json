{
  "identity": {
    "name": "website-performance-sentinel",
    "version": "1.0.0"
  },
  "goal": "Monitors site speed, uptime, and user experience",
  "role": "monitor",
  "subscriptions": [
    "step/completed",
    "safety/post_action",
    "run/failed"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.type == 'website_check' || event.data.tags.includes('performance_test')"
      },
      "action": {
        "type": "routine",
        "label": "Performance Monitor",
        "inputMap": {
          "performanceMetrics": "event.data.metrics",
          "loadTime": "event.data.loadTime",
          "performanceMonitoring": "blackboard.website.monitoring",
          "uptimeChecks": "blackboard.website.uptime"
        }
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "safety/post_action",
        "when": "event.data.action.type == 'website_deploy'"
      },
      "action": {
        "type": "invoke",
        "purpose": "Monitor website deployment for performance impact and user experience degradation"
      },
      "qos": 2
    },
    {
      "trigger": {
        "topic": "run/failed",
        "when": "event.data.tags.includes('website') || event.data.error.type == 'timeout'"
      },
      "action": {
        "type": "routine",
        "label": "Downtime Analyzer",
        "inputMap": {
          "failureDetails": "event.data.error",
          "uptimeHistory": "blackboard.website.history",
          "userAnalytics": "blackboard.website.analytics"
        }
      },
      "qos": 2
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "monitor-continuously"
    },
    {
      "modality": "permission",
      "target": "alert-on-degradation"
    },
    {
      "modality": "prohibition",
      "target": "ignore-user-impact"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "performance-monitoring",
      "permissions": ["read", "write"],
      "scope": "website.monitoring",
      "description": "Website performance monitoring tools and metrics"
    },
    {
      "type": "blackboard",
      "label": "uptime-checks",
      "permissions": ["read", "write"],
      "scope": "website.uptime",
      "description": "Website uptime monitoring and availability tracking"
    },
    {
      "type": "blackboard",
      "label": "user-analytics",
      "permissions": ["read"],
      "scope": "website.analytics",
      "description": "User experience analytics and performance impact data"
    },
    {
      "type": "routine",
      "label": "Performance Monitor",
      "permissions": ["read"],
      "description": "Monitor website performance and user experience"
    },
    {
      "type": "routine",
      "label": "Downtime Analyzer",
      "permissions": ["read"],
      "description": "Analyze website downtime and performance issues"
    }
  ]
}