{
  "identity": {
    "name": "team-productivity-observer",
    "version": "1.0.0"
  },
  "goal": "Monitors team dynamics and collaboration effectiveness",
  "role": "monitor",
  "subscriptions": [
    "swarm/team/updated",
    "run/completed",
    "step/completed"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "swarm/team/updated",
        "when": "event.data.team.status == 'active' || event.data.team.members.length > 1"
      },
      "action": {
        "type": "routine",
        "label": "Team Analyzer",
        "inputMap": {
          "teamData": "event.data.team",
          "memberActivity": "event.data.activity",
          "collaborationMetrics": "blackboard.team.collaboration",
          "teamAnalytics": "blackboard.team.analytics"
        }
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "run/completed",
        "when": "event.data.tags.includes('team_project') || event.data.tags.includes('collaboration')"
      },
      "action": {
        "type": "invoke",
        "purpose": "Analyze team collaboration patterns and identify productivity bottlenecks or communication gaps"
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.type == 'team_meeting' || event.data.tags.includes('team_interaction')"
      },
      "action": {
        "type": "routine",
        "label": "Dynamics Monitor",
        "inputMap": {
          "interactionData": "event.data.output.interaction",
          "meetingMetrics": "event.data.metrics",
          "productivityIndicators": "blackboard.team.productivity"
        }
      },
      "qos": 1
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "track-team-health"
    },
    {
      "modality": "permission",
      "target": "identify-improvement-opportunities"
    },
    {
      "modality": "prohibition",
      "target": "reveal-individual-performance"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "collaboration-metrics",
      "permissions": ["read", "write"],
      "scope": "team.collaboration",
      "description": "Team collaboration metrics and interaction patterns"
    },
    {
      "type": "blackboard",
      "label": "team-analytics",
      "permissions": ["read"],
      "scope": "team.analytics",
      "description": "Team performance analytics and productivity tracking"
    },
    {
      "type": "blackboard",
      "label": "productivity-indicators",
      "permissions": ["read", "write"],
      "scope": "team.productivity",
      "description": "Team productivity indicators and efficiency metrics"
    },
    {
      "type": "routine",
      "label": "Team Analyzer",
      "permissions": ["read"],
      "description": "Analyze team dynamics and collaboration effectiveness"
    },
    {
      "type": "routine",
      "label": "Dynamics Monitor",
      "permissions": ["read"],
      "description": "Monitor team interaction dynamics and communication patterns"
    }
  ]
}