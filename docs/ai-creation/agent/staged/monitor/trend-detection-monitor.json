{
  "identity": {
    "name": "trend-detection-monitor",
    "version": "1.0.0"
  },
  "goal": "Identifies emerging patterns across multiple data sources",
  "role": "monitor",
  "subscriptions": [
    "step/completed",
    "run/completed",
    "swarm/resource/updated"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.type == 'data_analysis' || event.data.tags.includes('pattern_detection')"
      },
      "action": {
        "type": "routine",
        "label": "Trend Analyzer",
        "inputMap": {
          "dataStream": "event.data.output.data",
          "analysisResults": "event.data.analysis",
          "trendAnalysis": "blackboard.trends.analysis",
          "patternRecognition": "blackboard.trends.patterns"
        }
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "run/completed",
        "when": "event.data.tags.includes('market_research') || event.data.tags.includes('trend_analysis')"
      },
      "action": {
        "type": "invoke",
        "purpose": "Detect emerging trends and patterns across multiple data sources for strategic advantage and early opportunity identification"
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "swarm/resource/updated",
        "when": "event.data.resource.type == 'trend_data' || event.data.resource.type == 'market_intelligence'"
      },
      "action": {
        "type": "routine",
        "label": "Pattern Detector",
        "inputMap": {
          "updatedData": "event.data.resource.data",
          "trendIndicators": "event.data.resource.indicators",
          "dataAggregation": "blackboard.trends.aggregation"
        }
      },
      "qos": 1
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "identify-significant-patterns"
    },
    {
      "modality": "permission",
      "target": "monitor-emerging-trends"
    },
    {
      "modality": "prohibition",
      "target": "create-false-trend-signals"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "trend-analysis",
      "permissions": ["read", "write"],
      "scope": "trends.analysis",
      "description": "Trend analysis algorithms and pattern detection tools"
    },
    {
      "type": "blackboard",
      "label": "pattern-recognition",
      "permissions": ["read"],
      "scope": "trends.patterns",
      "description": "Pattern recognition systems and anomaly detection"
    },
    {
      "type": "blackboard",
      "label": "data-aggregation",
      "permissions": ["read"],
      "scope": "trends.aggregation",
      "description": "Data aggregation and multi-source intelligence systems"
    },
    {
      "type": "routine",
      "label": "Trend Analyzer",
      "permissions": ["read"],
      "description": "Analyze data streams for emerging trends and patterns"
    },
    {
      "type": "routine",
      "label": "Pattern Detector",
      "permissions": ["read"],
      "description": "Detect significant patterns and trend indicators"
    }
  ]
}