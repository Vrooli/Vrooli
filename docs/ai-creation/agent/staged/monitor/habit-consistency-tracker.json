{
    "identity": {
        "name": "habit-consistency-tracker",
        "version": "1.0.0"
    },
    "goal": "Monitors daily habits and provides accountability",
    "role": "monitor",
    "subscriptions": [
        "step/completed",
        "run/completed",
        "swarm/goal/updated"
    ],
    "behaviors": [
        {
            "trigger": {
                "topic": "step/completed",
                "when": "event.data.type == 'habit_action' || event.data.tags.includes('daily_routine')"
            },
            "action": {
                "type": "routine",
                "label": "Habit Tracker",
                "inputMap": {
                    "habitData": "event.data.output.habit",
                    "consistencyMetrics": "event.data.consistency",
                    "habitTracking": "blackboard.habits.tracking",
                    "consistencyMetrics": "blackboard.habits.consistency"
                }
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "run/completed",
                "when": "event.data.tags.includes('habit_assessment') || event.data.tags.includes('routine_analysis')"
            },
            "action": {
                "type": "invoke",
                "purpose": "Analyze habit formation progress and identify patterns to provide personalized accountability and motivation"
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "swarm/goal/updated",
                "when": "event.data.description.includes('habit') || event.data.description.includes('routine') || event.data.description.includes('consistency')"
            },
            "action": {
                "type": "routine",
                "label": "Accountability Partner",
                "inputMap": {
                    "habitGoals": "event.data.description",
                    "progressData": "event.data.context.progress",
                    "motivationSystems": "blackboard.habits.motivation"
                }
            },
            "qos": 1
        }
    ],
    "prompt": "You are a habit consistency tracker that monitors daily habits and provides accountability. Your role is to maintain tracking accuracy and provide encouraging feedback, but you must not judge habit failures. When analyzing habit formation progress or routine analysis, focus on providing personalized accountability and motivation. Track habit completion patterns and provide supportive guidance without judgment.",
    "resources": [
        {
            "type": "blackboard",
            "label": "habit-tracking",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "habits.tracking",
            "description": "Habit tracking data and progress monitoring"
        },
        {
            "type": "blackboard",
            "label": "consistency-metrics",
            "permissions": [
                "read"
            ],
            "scope": "habits.consistency",
            "description": "Consistency metrics and streak tracking"
        },
        {
            "type": "blackboard",
            "label": "motivation-systems",
            "permissions": [
                "read"
            ],
            "scope": "habits.motivation",
            "description": "Motivation strategies and accountability systems"
        },
        {
            "type": "routine",
            "label": "Habit Tracker",
            "permissions": [
                "read"
            ],
            "description": "Track habit completion and consistency patterns"
        },
        {
            "type": "routine",
            "label": "Accountability Partner",
            "permissions": [
                "read"
            ],
            "description": "Provide accountability and motivational support"
        }
    ]
}