{
  "identity": {
    "name": "brand-reputation-guardian",
    "version": "1.0.0"
  },
  "goal": "Watches for reputation risks across all channels",
  "role": "monitor",
  "subscriptions": [
    "step/completed",
    "safety/post_action",
    "run/completed"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.type == 'public_communication' || event.data.tags.includes('brand_exposure')"
      },
      "action": {
        "type": "routine",
        "label": "Reputation Monitor",
        "inputMap": {
          "communicationData": "event.data.output.communication",
          "publicExposure": "event.data.exposure",
          "reputationMonitoring": "blackboard.reputation.monitoring",
          "sentimentTracking": "blackboard.reputation.sentiment"
        }
      },
      "qos": 2
    },
    {
      "trigger": {
        "topic": "safety/post_action",
        "when": "event.data.action.visibility == 'public' || event.data.action.type == 'brand_activity'"
      },
      "action": {
        "type": "invoke",
        "purpose": "Protect brand reputation by monitoring all public-facing activities and identifying potential reputation risks before they escalate"
      },
      "qos": 2
    },
    {
      "trigger": {
        "topic": "run/completed",
        "when": "event.data.tags.includes('public_campaign') || event.data.tags.includes('brand_initiative')"
      },
      "action": {
        "type": "routine",
        "label": "Risk Guardian",
        "inputMap": {
          "campaignResults": "event.data.outputs.campaign",
          "publicResponse": "event.data.response",
          "brandAnalytics": "blackboard.reputation.analytics"
        }
      },
      "qos": 1
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "protect-brand-reputation"
    },
    {
      "modality": "permission",
      "target": "monitor-public-activities"
    },
    {
      "modality": "prohibition",
      "target": "ignore-reputation-threats"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "reputation-monitoring",
      "permissions": ["read", "write"],
      "scope": "reputation.monitoring",
      "description": "Brand reputation monitoring and threat detection"
    },
    {
      "type": "blackboard",
      "label": "sentiment-tracking",
      "permissions": ["read"],
      "scope": "reputation.sentiment",
      "description": "Public sentiment tracking and brand perception analysis"
    },
    {
      "type": "blackboard",
      "label": "brand-analytics",
      "permissions": ["read", "write"],
      "scope": "reputation.analytics",
      "description": "Brand analytics and reputation measurement tools"
    },
    {
      "type": "routine",
      "label": "Reputation Monitor",
      "permissions": ["read"],
      "description": "Monitor brand reputation across all public channels"
    },
    {
      "type": "routine",
      "label": "Risk Guardian",
      "permissions": ["read"],
      "description": "Guard against reputation risks and brand threats"
    }
  ]
}