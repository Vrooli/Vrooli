{
  "identity": {
    "name": "meeting-to-action-bridge",
    "version": "1.0.0"
  },
  "goal": "Converts meeting discussions into concrete next steps",
  "role": "bridge",
  "subscriptions": [
    "step/completed",
    "run/completed",
    "safety/post_action"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.type == 'meeting_summary' || event.data.tags.includes('discussion_points')"
      },
      "action": {
        "type": "routine",
        "label": "Action Extractor",
        "inputMap": {
          "meetingContent": "event.data.output.content",
          "discussionPoints": "event.data.discussions",
          "meetingParsers": "blackboard.meetings.parsers",
          "actionExtractors": "blackboard.meetings.extractors"
        }
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "run/completed",
        "when": "event.data.tags.includes('meeting_analysis') || event.data.tags.includes('decision_tracking')"
      },
      "action": {
        "type": "invoke",
        "purpose": "Analyze meeting outcomes and convert decisions and discussions into structured action items with owners and deadlines"
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "safety/post_action",
        "when": "event.data.action.type == 'task_assignment' || event.data.action.type == 'action_planning'"
      },
      "action": {
        "type": "routine",
        "label": "Task Formatter",
        "inputMap": {
          "extractedActions": "event.data.action.actions",
          "assignmentData": "event.data.action.assignments",
          "taskTemplates": "blackboard.meetings.templates"
        }
      },
      "qos": 1
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "capture-all-action-items"
    },
    {
      "modality": "permission",
      "target": "clarify-ambiguous-decisions"
    },
    {
      "modality": "prohibition",
      "target": "assign-tasks-without-context"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "meeting-parsers",
      "permissions": ["read"],
      "scope": "meetings.parsers",
      "description": "Meeting content parsing and analysis tools"
    },
    {
      "type": "blackboard",
      "label": "action-extractors",
      "permissions": ["read"],
      "scope": "meetings.extractors",
      "description": "Action item extraction and decision tracking tools"
    },
    {
      "type": "blackboard",
      "label": "task-templates",
      "permissions": ["read"],
      "scope": "meetings.templates",
      "description": "Task formatting templates and assignment structures"
    },
    {
      "type": "routine",
      "label": "Action Extractor",
      "permissions": ["read"],
      "description": "Extract actionable items from meeting discussions"
    },
    {
      "type": "routine",
      "label": "Task Formatter",
      "permissions": ["read"],
      "description": "Format extracted actions into structured tasks"
    }
  ]
}