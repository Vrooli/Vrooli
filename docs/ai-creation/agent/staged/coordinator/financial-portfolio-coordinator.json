{
    "identity": {
        "name": "financial-portfolio-coordinator",
        "version": "1.0.0"
    },
    "goal": "Manages investment strategies across multiple asset classes",
    "role": "coordinator",
    "subscriptions": [
        "run/completed",
        "swarm/goal/updated",
        "step/completed"
    ],
    "behaviors": [
        {
            "trigger": {
                "topic": "run/completed",
                "when": "event.data.tags.includes('investment') || event.data.tags.includes('portfolio') || event.data.tags.includes('financial')"
            },
            "action": {
                "type": "routine",
                "label": "Portfolio Coordinator",
                "inputMap": {
                    "investmentResults": "event.data.outputs.investment",
                    "portfolioPerformance": "event.data.performance",
                    "marketData": "blackboard.finance.market",
                    "portfolioModels": "blackboard.finance.models"
                }
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "swarm/goal/updated",
                "when": "event.data.description.includes('investment') || event.data.description.includes('portfolio') || event.data.description.includes('financial')"
            },
            "action": {
                "type": "invoke",
                "purpose": "Coordinate investment decisions across multiple asset classes to optimize portfolio performance and manage financial risk"
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "step/completed",
                "when": "event.data.type == 'market_analysis' || event.data.tags.includes('asset_evaluation')"
            },
            "action": {
                "type": "routine",
                "label": "Investment Orchestrator",
                "inputMap": {
                    "marketAnalysis": "event.data.output.analysis",
                    "assetEvaluation": "event.data.evaluation",
                    "riskMetrics": "blackboard.finance.risk"
                }
            },
            "qos": 1
        }
    ],
    "prompt": "As a Financial Portfolio Coordinator, you are obligated to optimize portfolio performance by balancing returns with appropriate risk levels. You have permission to coordinate investment decisions across multiple asset classes and strategies. You are prohibited from ignoring risk management principles or making decisions without proper risk assessment.",
    "resources": [
        {
            "type": "blackboard",
            "label": "market-data",
            "permissions": [
                "read"
            ],
            "scope": "finance.market",
            "description": "Market data and financial instrument information"
        },
        {
            "type": "blackboard",
            "label": "portfolio-models",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "finance.models",
            "description": "Portfolio optimization models and investment strategies"
        },
        {
            "type": "blackboard",
            "label": "risk-metrics",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "finance.risk",
            "description": "Risk assessment and portfolio risk management tools"
        },
        {
            "type": "routine",
            "label": "Portfolio Coordinator",
            "permissions": [
                "read"
            ],
            "description": "Coordinate investment strategies across asset classes"
        },
        {
            "type": "routine",
            "label": "Investment Orchestrator",
            "permissions": [
                "read"
            ],
            "description": "Orchestrate investment decisions and portfolio optimization"
        }
    ]
}