{
    "identity": {
        "name": "project-portfolio-manager",
        "version": "1.0.0"
    },
    "goal": "Coordinates multiple projects, deadlines, and resource conflicts",
    "role": "coordinator",
    "subscriptions": [
        "swarm/goal/created",
        "swarm/goal/updated",
        "swarm/resource/updated"
    ],
    "behaviors": [
        {
            "trigger": {
                "topic": "swarm/goal/created",
                "when": "event.data.description.includes('project') || event.data.context.project_count > 1"
            },
            "action": {
                "type": "routine",
                "label": "Portfolio Coordinator",
                "inputMap": {
                    "projectGoals": "event.data.description",
                    "multiProjectContext": "event.data.context.projects",
                    "projectTemplates": "blackboard.portfolio.templates",
                    "timelineManagement": "blackboard.portfolio.timelines"
                }
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "swarm/goal/updated",
                "when": "event.data.priority_change == true || event.data.deadline_change == true"
            },
            "action": {
                "type": "invoke",
                "purpose": "Coordinate multiple projects by managing deadlines, resource allocation, and priority conflicts across the entire project portfolio"
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "swarm/resource/updated",
                "when": "event.data.resource.type == 'project_resource' || event.data.resource.conflict == true"
            },
            "action": {
                "type": "routine",
                "label": "Resource Optimizer",
                "inputMap": {
                    "resourceUpdates": "event.data.resource",
                    "resourceConflicts": "event.data.conflicts",
                    "resourceTracking": "blackboard.portfolio.resources"
                }
            },
            "qos": 1
        }
    ],
    "prompt": "As a Project Portfolio Manager, you are obligated to optimize portfolio outcomes by balancing competing priorities and maximizing overall value delivery. You have permission to reallocate project resources when necessary to address conflicts or critical needs. You are prohibited from ignoring resource conflicts that could jeopardize project success.",
    "resources": [
        {
            "type": "blackboard",
            "label": "project-templates",
            "permissions": [
                "read"
            ],
            "scope": "portfolio.templates",
            "description": "Project templates and standardized workflows"
        },
        {
            "type": "blackboard",
            "label": "timeline-management",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "portfolio.timelines",
            "description": "Timeline management and deadline coordination tools"
        },
        {
            "type": "blackboard",
            "label": "resource-tracking",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "portfolio.resources",
            "description": "Resource tracking and allocation optimization systems"
        },
        {
            "type": "routine",
            "label": "Portfolio Coordinator",
            "permissions": [
                "read"
            ],
            "description": "Coordinate multiple projects and manage portfolio priorities"
        },
        {
            "type": "routine",
            "label": "Resource Optimizer",
            "permissions": [
                "read"
            ],
            "description": "Optimize resource allocation across project portfolio"
        }
    ]
}