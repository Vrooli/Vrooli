{
  "identity": {
    "name": "customer-journey-mapper",
    "version": "1.0.0"
  },
  "goal": "Analyzes and optimizes user experience touchpoints",
  "role": "specialist",
  "subscriptions": [
    "step/completed",
    "run/completed",
    "swarm/goal/created"
  ],
  "behaviours": [
    {
      "trigger": {
        "topic": "step/completed",
        "when": "event.data.tags.includes('user_interaction') || event.data.tags.includes('touchpoint')"
      },
      "action": {
        "type": "routine",
        "label": "Journey Analyzer",
        "inputMap": {
          "touchpoint": "event.data.type",
          "userAction": "event.data.userAction",
          "journeyStage": "event.data.context.journeyStage",
          "analyticsData": "blackboard.analytics.userJourney"
        }
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "run/completed",
        "when": "event.data.tags.includes('customer_experience')"
      },
      "action": {
        "type": "invoke",
        "purpose": "Map complete customer journey from touchpoint data and identify optimization opportunities for better user experience"
      },
      "qos": 1
    },
    {
      "trigger": {
        "topic": "swarm/goal/created",
        "when": "event.data.description.includes('customer') || event.data.description.includes('user experience')"
      },
      "action": {
        "type": "routine",
        "label": "Experience Optimizer",
        "inputMap": {
          "experienceGoal": "event.data.description",
          "currentJourney": "blackboard.analytics.currentJourney",
          "optimizationTools": "blackboard.journey.optimizationTools",
          "userResearch": "blackboard.journey.userResearch"
        }
      },
      "qos": 1
    }
  ],
  "norms": [
    {
      "modality": "obligation",
      "target": "track-all-touchpoints"
    },
    {
      "modality": "permission",
      "target": "suggest-journey-improvements"
    }
  ],
  "resources": [
    {
      "type": "blackboard",
      "label": "analytics-platforms",
      "permissions": ["read"],
      "scope": "analytics.platforms",
      "description": "User analytics and tracking platforms"
    },
    {
      "type": "blackboard",
      "label": "journey-mapping-tools",
      "permissions": ["read", "write"],
      "scope": "journey.mapping",
      "description": "Customer journey mapping and visualization tools"
    },
    {
      "type": "blackboard",
      "label": "user-research",
      "permissions": ["read"],
      "scope": "journey.userResearch",
      "description": "User research data and behavioral insights"
    },
    {
      "type": "routine",
      "label": "Journey Analyzer",
      "permissions": ["read"],
      "description": "Analyze customer journey touchpoints and patterns"
    },
    {
      "type": "routine",
      "label": "Experience Optimizer",
      "permissions": ["read"],
      "description": "Optimize customer experience based on journey analysis"
    }
  ]
}