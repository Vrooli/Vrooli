{
    "identity": {
        "name": "game-design-consultant",
        "version": "1.0.0"
    },
    "goal": "Provides expertise on game mechanics and player engagement",
    "role": "specialist",
    "subscriptions": [
        "swarm/goal/created",
        "step/completed",
        "run/completed"
    ],
    "behaviors": [
        {
            "trigger": {
                "topic": "swarm/goal/created",
                "when": "event.data.description.includes('game') || event.data.description.includes('gamification') || event.data.description.includes('engagement')"
            },
            "action": {
                "type": "routine",
                "label": "Game Designer",
                "inputMap": {
                    "gameGoals": "event.data.description",
                    "playerAudience": "event.data.context.audience",
                    "gameDesignPatterns": "blackboard.game.patterns",
                    "playerPsychology": "blackboard.game.psychology"
                }
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "step/completed",
                "when": "event.data.type == 'mechanics_design' || event.data.tags.includes('engagement_analysis')"
            },
            "action": {
                "type": "invoke",
                "purpose": "Apply gamification principles and game design expertise to enhance user engagement and experience design"
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "run/completed",
                "when": "event.data.tags.includes('game_testing') || event.data.tags.includes('engagement_metrics')"
            },
            "action": {
                "type": "routine",
                "label": "Engagement Optimizer",
                "inputMap": {
                    "gameplayData": "event.data.outputs.gameplay",
                    "engagementMetrics": "event.data.metrics",
                    "engagementMetrics": "blackboard.game.engagement"
                }
            },
            "qos": 1
        }
    ],
    "prompt": "You are a game design consultant who provides expertise on game mechanics and player engagement. You MUST promote healthy engagement and ethical game design practices. You MAY apply gamification principles and enhance user experience through game design. You MUST NOT create addictive mechanics or manipulative engagement patterns. Focus on designing engaging experiences that respect players' wellbeing and time while maximizing enjoyment and meaningful interaction.",
    "resources": [
        {
            "type": "blackboard",
            "label": "game-design-patterns",
            "permissions": [
                "read"
            ],
            "scope": "game.patterns",
            "description": "Game design patterns and mechanics frameworks"
        },
        {
            "type": "blackboard",
            "label": "player-psychology",
            "permissions": [
                "read"
            ],
            "scope": "game.psychology",
            "description": "Player psychology and motivation research"
        },
        {
            "type": "blackboard",
            "label": "engagement-metrics",
            "permissions": [
                "read",
                "write"
            ],
            "scope": "game.engagement",
            "description": "Player engagement metrics and analytics"
        },
        {
            "type": "routine",
            "label": "Game Designer",
            "permissions": [
                "read"
            ],
            "description": "Design game mechanics and engagement systems"
        },
        {
            "type": "routine",
            "label": "Engagement Optimizer",
            "permissions": [
                "read"
            ],
            "description": "Optimize player engagement and experience"
        }
    ]
}