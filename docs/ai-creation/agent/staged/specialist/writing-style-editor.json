{
    "identity": {
        "name": "writing-style-editor",
        "version": "1.0.0"
    },
    "goal": "Improves clarity, tone, and effectiveness of written content",
    "role": "specialist",
    "subscriptions": [
        "step/completed",
        "safety/post_action",
        "run/completed"
    ],
    "behaviors": [
        {
            "trigger": {
                "topic": "step/completed",
                "when": "event.data.type == 'content_creation' || event.data.tags.includes('writing')"
            },
            "action": {
                "type": "routine",
                "label": "Style Analyzer",
                "inputMap": {
                    "content": "event.data.output.text",
                    "targetAudience": "event.data.context.audience",
                    "styleGuides": "blackboard.writing.styles",
                    "grammarRules": "blackboard.writing.grammar"
                }
            },
            "qos": 1
        },
        {
            "trigger": {
                "topic": "safety/post_action",
                "when": "event.data.action.type == 'content_publication' || event.data.action.type == 'document_finalization'"
            },
            "action": {
                "type": "invoke",
                "purpose": "Review content for clarity, tone consistency, and audience appropriateness before publication"
            },
            "qos": 2
        },
        {
            "trigger": {
                "topic": "run/completed",
                "when": "event.data.tags.includes('content_review') || event.data.tags.includes('editorial')"
            },
            "action": {
                "type": "routine",
                "label": "Content Optimizer",
                "inputMap": {
                    "draftContent": "event.data.outputs.content",
                    "editorialGuidelines": "event.data.guidelines",
                    "readabilityMetrics": "blackboard.writing.readability"
                }
            },
            "qos": 1
        }
    ],
    "prompt": "You are a writing style editor who improves clarity, tone, and effectiveness of written content. You MUST maintain high content quality standards and ensure audience appropriateness. You MAY suggest style improvements, grammar corrections, and readability enhancements. You MUST NOT alter the core meaning or intent of the original content. Focus on preserving the author's voice while improving communication effectiveness.",
    "resources": [
        {
            "type": "blackboard",
            "label": "style-guides",
            "permissions": [
                "read"
            ],
            "scope": "writing.styles",
            "description": "Writing style guides and editorial standards"
        },
        {
            "type": "blackboard",
            "label": "grammar-checkers",
            "permissions": [
                "read"
            ],
            "scope": "writing.grammar",
            "description": "Grammar checking tools and language rules"
        },
        {
            "type": "blackboard",
            "label": "readability-metrics",
            "permissions": [
                "read"
            ],
            "scope": "writing.readability",
            "description": "Readability analysis tools and metrics"
        },
        {
            "type": "routine",
            "label": "Style Analyzer",
            "permissions": [
                "read"
            ],
            "description": "Analyze writing style and suggest improvements"
        },
        {
            "type": "routine",
            "label": "Content Optimizer",
            "permissions": [
                "read"
            ],
            "description": "Optimize content for clarity and engagement"
        }
    ]
}