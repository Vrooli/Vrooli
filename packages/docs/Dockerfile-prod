FROM node:16-alpine

# Set working directory
ARG PROJECT_DIR
WORKDIR ${PROJECT_DIR}

# Install global packages
RUN yarn global add serve

# Copy required files
COPY --chown=node:node package.json yarn.lock ./
COPY --chown=node:node packages/docs/package.json packages/docs/build packages/docs/
COPY --chown=node:node scripts/* scripts/

# Set port
EXPOSE 3000