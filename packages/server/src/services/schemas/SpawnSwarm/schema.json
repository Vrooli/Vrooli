{
  "name": "spawn_swarm",
  "description": "Create a new AI agent swarm.",
  "inputSchema": {
    "anyOf": [
      {
        "description": "Minimal child swarm (single bot, inherit defaults)",
        "type": "object",
        "properties": {
          "kind": {
            "type": "string",
            "const": "simple"
          },
          "goal": {
            "description": "The primary objective of the child swarm",
            "type": "string"
          },
          "swarmLeader": {
            "description": "ID of the bot that will lead the child swarm",
            "type": "string"
          },
          "reservation": {
            "description": "How many credits/messages/time to reserve for the child swarm",
            "type": "object",
            "properties": {
              "creditsPct": {
                "description": "Percentage of credits to reserve (1-100)",
                "type": "number"
              },
              "messagesPct": {
                "description": "Percentage of messages to reserve (1-100)",
                "type": "number"
              },
              "durationPct": {
                "description": "Percentage of duration to reserve (1-100)",
                "type": "number"
              }
            },
            "required": [
              "creditsPct"
            ]
          },
          "resources": {
            "description": "Context to pass to the child swarm",
            "type": "array",
            "items": {
              "description": "Immutable reference to any resource the swarm might use\n\nNOTE: This must be an actual resource that can be found using the ResourceManage tool.",
              "type": "object",
              "properties": {
                "id": {
                  "description": "The ID of the resource",
                  "type": "string"
                },
                "kind": {
                  "description": "The kind of resource",
                  "enum": [
                    "File",
                    "Image",
                    "Note",
                    "Other",
                    "URL",
                    "Vector"
                  ],
                  "type": "string"
                },
                "mime": {
                  "description": "The MIME type of the resource",
                  "type": "string"
                },
                "creator_bot_id": {
                  "description": "The ID of the bot that created the resource",
                  "type": "string"
                },
                "created_at": {
                  "description": "The timestamp when the resource was created",
                  "type": "string"
                },
                "meta": {
                  "type": "object"
                }
              },
              "required": [
                "created_at",
                "creator_bot_id",
                "id",
                "kind"
              ]
            }
          }
        },
        "required": [
          "goal",
          "kind",
          "swarmLeader"
        ]
      },
      {
        "description": "Rich child swarm: multi-bot, custom event map, seed subtasks",
        "type": "object",
        "properties": {
          "kind": {
            "type": "string",
            "const": "rich"
          },
          "goal": {
            "description": "The primary objective of the child swarm",
            "type": "string"
          },
          "teamId": {
            "description": "The team to use for the child swarm",
            "type": "string"
          },
          "reservation": {
            "description": "How many credits/messages/time to reserve for the child swarm",
            "type": "object",
            "properties": {
              "creditsPct": {
                "description": "Percentage of credits to reserve (1-100)",
                "type": "number"
              },
              "messagesPct": {
                "description": "Percentage of messages to reserve (1-100)",
                "type": "number"
              },
              "durationPct": {
                "description": "Percentage of duration to reserve (1-100)",
                "type": "number"
              }
            },
            "required": [
              "creditsPct"
            ]
          },
          "resources": {
            "description": "Context to pass to the child swarm",
            "type": "array",
            "items": {
              "description": "Immutable reference to any resource the swarm might use\n\nNOTE: This must be an actual resource that can be found using the ResourceManage tool.",
              "type": "object",
              "properties": {
                "id": {
                  "description": "The ID of the resource",
                  "type": "string"
                },
                "kind": {
                  "description": "The kind of resource",
                  "enum": [
                    "File",
                    "Image",
                    "Note",
                    "Other",
                    "URL",
                    "Vector"
                  ],
                  "type": "string"
                },
                "mime": {
                  "description": "The MIME type of the resource",
                  "type": "string"
                },
                "creator_bot_id": {
                  "description": "The ID of the bot that created the resource",
                  "type": "string"
                },
                "created_at": {
                  "description": "The timestamp when the resource was created",
                  "type": "string"
                },
                "meta": {
                  "type": "object"
                }
              },
              "required": [
                "created_at",
                "creator_bot_id",
                "id",
                "kind"
              ]
            }
          },
          "subtasks": {
            "description": "Subtasks to start the child swarm with",
            "type": "array",
            "items": {
              "description": "Represents a single sub-task within a swarm's shared state.",
              "type": "object",
              "properties": {
                "id": {
                  "description": "Any unique string to identify the sub-task (e.g. epoch time + random string).",
                  "type": "string"
                },
                "description": {
                  "description": "Detailed description of the sub-task.",
                  "type": "string"
                },
                "status": {
                  "description": "Current status of the sub-task.",
                  "enum": [
                    "blocked",
                    "canceled",
                    "done",
                    "failed",
                    "in_progress",
                    "todo"
                  ],
                  "type": "string"
                },
                "assignee_bot_id": {
                  "description": "Optional ID of the bot assigned to this sub-task.",
                  "type": "string"
                },
                "depends_on": {
                  "description": "Optional array of IDs of other sub-tasks that this sub-task depends on.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "created_at": {
                  "description": "The timestamp when the resource was created",
                  "type": "string"
                },
                "priority": {
                  "description": "Optional priority level for the task.",
                  "enum": [
                    "high",
                    "low",
                    "medium"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "created_at",
                "description",
                "id",
                "status"
              ]
            }
          },
          "eventSubscriptions": {
            "description": "Map of event topics to bot IDs that should respond to them",
            "type": "object"
          },
          "policy": {
            "description": "Visibility of the child swarm",
            "type": "object",
            "properties": {
              "visibility": {
                "description": "\"open\" (anyone on server), \"restricted\" (read-only for all, write for ACL), \"private\" (visible only to ACL).",
                "enum": [
                  "open",
                  "private",
                  "restricted"
                ],
                "type": "string"
              },
              "acl": {
                "description": "Whitelist of bot or user IDs relevant when visibility â‰  \"open\".",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "visibility"
            ]
          }
        },
        "required": [
          "goal",
          "kind",
          "teamId"
        ]
      }
    ],
    "additionalProperties": false
  },
  "annotations": {
    "title": "Spawn Swarm",
    "readOnlyHint": false,
    "openWorldHint": true
  }
}