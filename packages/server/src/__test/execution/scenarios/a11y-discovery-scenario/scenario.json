{
  "swarmConfig": {
    "name": "a11y-discovery-scenario",
    "description": "Systematic accessibility audit and improvement where agents discover accessibility issues and implement WCAG-compliant solutions",
    "maxCredits": 1400000000,
    "maxDuration": 720000,
    "resourceQuota": {
      "maxCPU": 5,
      "maxRAM": 14,
      "maxGPU": 25
    },
    "bots": [
      {
        "id": "accessibility-coordinator",
        "name": "Accessibility Coordinator",
        "agentSpec": {
          "goal": "Orchestrate comprehensive accessibility audit and coordinate improvement efforts across all application components",
          "subscriptions": [
            "swarm/started",
            "a11y/audit_complete",
            "a11y/issues_prioritized",
            "a11y/improvements_implemented",
            "a11y/validation_complete"
          ],
          "behaviors": [
            {
              "trigger": {
                "topic": "swarm/started"
              },
              "action": {
                "type": "routine",
                "label": "accessibility-audit-routine",
                "inputMap": {
                  "auditScope": "blackboard.audit_scope",
                  "wcagLevel": "blackboard.wcag_compliance_level"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/audit_complete"
              },
              "action": {
                "type": "routine",
                "label": "issue-prioritization-routine",
                "inputMap": {
                  "auditResults": "blackboard.audit_results",
                  "businessImpact": "blackboard.business_impact_criteria"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/issues_prioritized"
              },
              "action": {
                "type": "routine",
                "label": "improvement-coordination-routine",
                "inputMap": {
                  "prioritizedIssues": "blackboard.prioritized_issues",
                  "availableResources": "blackboard.available_resources"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/improvements_implemented"
              },
              "action": {
                "type": "routine",
                "label": "validation-coordination-routine",
                "inputMap": {
                  "implementedChanges": "blackboard.implemented_changes",
                  "validationCriteria": "blackboard.validation_criteria"
                }
              }
            }
          ],
          "outputOperations": {
            "set": [
              {
                "routineOutput": "result.audit_results",
                "blackboardId": "audit_results"
              },
              {
                "routineOutput": "result.improvement_plan",
                "blackboardId": "improvement_plan"
              },
              {
                "routineOutput": "result.accessibility_score",
                "blackboardId": "accessibility_score"
              }
            ],
            "append": [
              {
                "routineOutput": "result.prioritized_issues",
                "blackboardId": "prioritized_issues"
              },
              {
                "routineOutput": "result.coordination_activities",
                "blackboardId": "coordination_activities"
              }
            ]
          }
        }
      },
      {
        "id": "automated-tester",
        "name": "Automated Tester",
        "agentSpec": {
          "goal": "Perform automated accessibility testing using tools like axe-core, lighthouse, and pa11y",
          "subscriptions": [
            "swarm/started",
            "a11y/automated_testing_requested",
            "a11y/regression_testing_needed",
            "a11y/ci_integration_requested"
          ],
          "behaviors": [
            {
              "trigger": {
                "topic": "swarm/started"
              },
              "action": {
                "type": "emit",
                "eventType": "a11y/automated_testing_requested",
                "dataMapping": {
                  "testing_scope": "blackboard.audit_scope",
                  "tools": "['axe-core', 'lighthouse', 'pa11y']"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/automated_testing_requested"
              },
              "action": {
                "type": "routine",
                "label": "automated-testing-routine",
                "inputMap": {
                  "testingScope": "event.data.testing_scope",
                  "testingTools": "event.data.tools"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/regression_testing_needed"
              },
              "action": {
                "type": "routine",
                "label": "regression-testing-routine",
                "inputMap": {
                  "changedComponents": "event.data.components",
                  "baselineResults": "blackboard.baseline_results"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/ci_integration_requested"
              },
              "action": {
                "type": "routine",
                "label": "ci-integration-routine",
                "inputMap": {
                  "testSuite": "blackboard.automated_test_suite",
                  "qualityGates": "blackboard.quality_gates"
                }
              }
            }
          ],
          "outputOperations": {
            "set": [
              {
                "routineOutput": "result.automated_results",
                "blackboardId": "automated_results"
              },
              {
                "routineOutput": "result.baseline_results",
                "blackboardId": "baseline_results"
              }
            ],
            "append": [
              {
                "routineOutput": "result.test_violations",
                "blackboardId": "test_violations"
              },
              {
                "routineOutput": "result.regression_findings",
                "blackboardId": "regression_findings"
              }
            ]
          }
        }
      },
      {
        "id": "manual-auditor",
        "name": "Manual Auditor",
        "agentSpec": {
          "goal": "Perform manual accessibility testing including keyboard navigation, screen reader testing, and user experience evaluation",
          "subscriptions": [
            "a11y/automated_testing_requested",
            "a11y/manual_testing_requested",
            "a11y/user_journey_testing",
            "a11y/assistive_tech_testing"
          ],
          "behaviors": [
            {
              "trigger": {
                "topic": "a11y/automated_testing_requested"
              },
              "action": {
                "type": "emit",
                "eventType": "a11y/manual_testing_requested",
                "dataMapping": {
                  "testing_scope": "event.data.testing_scope",
                  "focus_areas": "['keyboard_navigation', 'screen_reader', 'color_contrast', 'focus_management']"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/manual_testing_requested"
              },
              "action": {
                "type": "routine",
                "label": "manual-testing-routine",
                "inputMap": {
                  "testingScope": "event.data.testing_scope",
                  "focusAreas": "event.data.focus_areas"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/user_journey_testing"
              },
              "action": {
                "type": "routine",
                "label": "user-journey-testing-routine",
                "inputMap": {
                  "userJourneys": "event.data.journeys",
                  "assistiveTech": "event.data.assistive_technology"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/assistive_tech_testing"
              },
              "action": {
                "type": "routine",
                "label": "assistive-tech-testing-routine",
                "inputMap": {
                  "technologies": "event.data.technologies",
                  "testScenarios": "blackboard.test_scenarios"
                }
              }
            }
          ],
          "outputOperations": {
            "set": [
              {
                "routineOutput": "result.manual_results",
                "blackboardId": "manual_results"
              },
              {
                "routineOutput": "result.user_experience_score",
                "blackboardId": "user_experience_score"
              }
            ],
            "append": [
              {
                "routineOutput": "result.manual_violations",
                "blackboardId": "manual_violations"
              },
              {
                "routineOutput": "result.user_journey_issues",
                "blackboardId": "user_journey_issues"
              }
            ]
          }
        }
      },
      {
        "id": "improvement-implementer",
        "name": "Improvement Implementer",
        "agentSpec": {
          "goal": "Implement accessibility improvements based on audit findings and WCAG guidelines",
          "subscriptions": [
            "a11y/issues_prioritized",
            "a11y/improvement_assigned",
            "a11y/wcag_compliance_required",
            "a11y/code_review_requested"
          ],
          "behaviors": [
            {
              "trigger": {
                "topic": "a11y/issues_prioritized"
              },
              "action": {
                "type": "emit",
                "eventType": "a11y/improvement_assigned",
                "dataMapping": {
                  "issues": "blackboard.prioritized_issues",
                  "implementation_plan": "blackboard.improvement_plan"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/improvement_assigned"
              },
              "action": {
                "type": "routine",
                "label": "accessibility-improvement-routine",
                "inputMap": {
                  "assignedIssues": "event.data.issues",
                  "implementationPlan": "event.data.implementation_plan"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/wcag_compliance_required"
              },
              "action": {
                "type": "routine",
                "label": "wcag-compliance-routine",
                "inputMap": {
                  "wcagLevel": "event.data.level",
                  "specificGuidelines": "event.data.guidelines"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/code_review_requested"
              },
              "action": {
                "type": "routine",
                "label": "accessibility-code-review-routine",
                "inputMap": {
                  "codeChanges": "event.data.changes",
                  "reviewCriteria": "blackboard.code_review_criteria"
                }
              }
            }
          ],
          "outputOperations": {
            "set": [
              {
                "routineOutput": "result.improvements_implemented",
                "blackboardId": "improvements_implemented"
              },
              {
                "routineOutput": "result.wcag_compliance_status",
                "blackboardId": "wcag_compliance_status"
              }
            ],
            "append": [
              {
                "routineOutput": "result.implemented_changes",
                "blackboardId": "implemented_changes"
              },
              {
                "routineOutput": "result.compliance_improvements",
                "blackboardId": "compliance_improvements"
              }
            ]
          }
        }
      },
      {
        "id": "validation-specialist",
        "name": "Validation Specialist",
        "agentSpec": {
          "goal": "Validate accessibility improvements and ensure ongoing compliance with WCAG standards",
          "subscriptions": [
            "a11y/improvements_implemented",
            "a11y/validation_requested",
            "a11y/compliance_verification",
            "a11y/final_audit_needed"
          ],
          "behaviors": [
            {
              "trigger": {
                "topic": "a11y/improvements_implemented"
              },
              "action": {
                "type": "emit",
                "eventType": "a11y/validation_requested",
                "dataMapping": {
                  "changes": "blackboard.implemented_changes",
                  "validation_scope": "'post_implementation'"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/validation_requested"
              },
              "action": {
                "type": "routine",
                "label": "improvement-validation-routine",
                "inputMap": {
                  "changes": "event.data.changes",
                  "validationScope": "event.data.validation_scope"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/compliance_verification"
              },
              "action": {
                "type": "routine",
                "label": "compliance-verification-routine",
                "inputMap": {
                  "complianceLevel": "event.data.level",
                  "verificationCriteria": "blackboard.verification_criteria"
                }
              }
            },
            {
              "trigger": {
                "topic": "a11y/final_audit_needed"
              },
              "action": {
                "type": "routine",
                "label": "final-audit-routine",
                "inputMap": {
                  "auditScope": "blackboard.final_audit_scope",
                  "acceptanceCriteria": "blackboard.acceptance_criteria"
                }
              }
            }
          ],
          "outputOperations": {
            "set": [
              {
                "routineOutput": "result.validation_results",
                "blackboardId": "validation_results"
              },
              {
                "routineOutput": "result.final_compliance_score",
                "blackboardId": "final_compliance_score"
              },
              {
                "routineOutput": "result.accessibility_complete",
                "blackboardId": "accessibility_complete"
              }
            ],
            "append": [
              {
                "routineOutput": "result.validation_findings",
                "blackboardId": "validation_findings"
              },
              {
                "routineOutput": "result.compliance_gaps",
                "blackboardId": "compliance_gaps"
              }
            ]
          }
        }
      }
    ]
  },
  "initialBlackboard": {
    "audit_scope": [
      "authentication_flows",
      "navigation_components",
      "form_interactions",
      "data_visualization",
      "modal_dialogs",
      "responsive_layouts"
    ],
    "wcag_compliance_level": "AA",
    "business_impact_criteria": [
      "user_experience_severity",
      "legal_compliance_risk",
      "implementation_complexity",
      "usage_frequency"
    ],
    "validation_criteria": [
      "automated_test_passing",
      "manual_test_passing",
      "wcag_compliance_verified",
      "user_journey_functional"
    ],
    "test_scenarios": [
      "keyboard_only_navigation",
      "screen_reader_usage",
      "high_contrast_mode",
      "zoom_magnification",
      "voice_control_interaction"
    ],
    "quality_gates": [
      "zero_critical_violations",
      "max_5_major_violations",
      "accessibility_score_above_90",
      "wcag_aa_compliance"
    ],
    "assistive_technologies": [
      "screen_readers",
      "voice_control",
      "switch_navigation",
      "eye_tracking",
      "keyboard_alternatives"
    ]
  },
  "mockRoutineResponses": {
    "accessibility-audit-routine": {
      "result": {
        "audit_results": {
          "total_components_audited": 24,
          "total_violations_found": 67,
          "critical_violations": 8,
          "major_violations": 23,
          "minor_violations": 36,
          "wcag_compliance_score": 0.73,
          "components_by_severity": {
            "authentication_flows": {"critical": 2, "major": 4, "minor": 6},
            "navigation_components": {"critical": 3, "major": 8, "minor": 12},
            "form_interactions": {"critical": 1, "major": 5, "minor": 9},
            "data_visualization": {"critical": 2, "major": 4, "minor": 5},
            "modal_dialogs": {"critical": 0, "major": 2, "minor": 3},
            "responsive_layouts": {"critical": 0, "major": 0, "minor": 1}
          }
        },
        "accessibility_score": 0.73
      }
    },
    "issue-prioritization-routine": {
      "result": {
        "prioritized_issues": [
          {
            "id": "nav-001",
            "component": "navigation_components",
            "severity": "critical",
            "wcag_guideline": "2.4.3",
            "description": "Focus order not logical in main navigation",
            "priority": "P1",
            "impact": "blocks_keyboard_users"
          },
          {
            "id": "form-001",
            "component": "form_interactions",
            "severity": "critical",
            "wcag_guideline": "3.3.2",
            "description": "Error messages not programmatically associated with inputs",
            "priority": "P1",
            "impact": "blocks_screen_reader_users"
          },
          {
            "id": "auth-001",
            "component": "authentication_flows",
            "severity": "major",
            "wcag_guideline": "1.4.3",
            "description": "Insufficient color contrast in login form",
            "priority": "P2",
            "impact": "affects_low_vision_users"
          }
        ],
        "improvement_plan": {
          "phase_1": {
            "name": "critical_fixes",
            "issues": ["nav-001", "form-001"],
            "estimated_effort": "2 weeks",
            "impact": "unblocks_keyboard_and_screen_reader_users"
          },
          "phase_2": {
            "name": "major_improvements",
            "issues": ["auth-001"],
            "estimated_effort": "1 week",
            "impact": "improves_experience_for_low_vision_users"
          },
          "phase_3": {
            "name": "minor_enhancements",
            "issues": ["remaining_minor_issues"],
            "estimated_effort": "2 weeks",
            "impact": "polish_and_comprehensive_compliance"
          }
        }
      }
    },
    "automated-testing-routine": {
      "result": {
        "automated_results": {
          "axe_core_results": {
            "violations": 42,
            "passes": 158,
            "incomplete": 12,
            "inapplicable": 23
          },
          "lighthouse_results": {
            "accessibility_score": 73,
            "color_contrast_issues": 8,
            "aria_issues": 15,
            "navigation_issues": 6
          },
          "pa11y_results": {
            "errors": 18,
            "warnings": 29,
            "notices": 45
          }
        },
        "test_violations": [
          {
            "tool": "axe-core",
            "rule": "color-contrast",
            "severity": "serious",
            "count": 8,
            "elements": ["button.primary", "a.link-secondary"]
          },
          {
            "tool": "axe-core",
            "rule": "aria-required-attr",
            "severity": "critical",
            "count": 6,
            "elements": ["input[type=email]", "textarea.comment"]
          }
        ]
      }
    },
    "manual-testing-routine": {
      "result": {
        "manual_results": {
          "keyboard_navigation": {
            "score": 0.68,
            "issues": ["focus_traps_in_modals", "skip_links_missing", "focus_order_illogical"],
            "critical_paths_tested": 12,
            "paths_with_issues": 8
          },
          "screen_reader_testing": {
            "score": 0.71,
            "issues": ["missing_alt_text", "unlabeled_form_controls", "poor_heading_structure"],
            "user_journeys_tested": 8,
            "journeys_with_issues": 6
          },
          "color_contrast": {
            "score": 0.82,
            "issues": ["low_contrast_links", "insufficient_focus_indicators"],
            "elements_tested": 156,
            "elements_with_issues": 28
          }
        },
        "user_experience_score": 0.74,
        "manual_violations": [
          {
            "category": "keyboard_navigation",
            "severity": "critical",
            "issue": "Modal dialogs trap focus but don't provide escape mechanism",
            "affected_components": ["confirmation_modal", "settings_modal"]
          },
          {
            "category": "screen_reader",
            "severity": "major",
            "issue": "Form validation errors not announced",
            "affected_components": ["login_form", "registration_form"]
          }
        ]
      }
    },
    "accessibility-improvement-routine": {
      "result": {
        "improvements_implemented": true,
        "implemented_changes": [
          {
            "issue_id": "nav-001",
            "component": "navigation_components",
            "change_type": "focus_management",
            "description": "Implemented logical focus order and skip links",
            "wcag_guideline": "2.4.3",
            "testing_status": "automated_tests_passing"
          },
          {
            "issue_id": "form-001",
            "component": "form_interactions",
            "change_type": "aria_improvements",
            "description": "Added aria-describedby for error messages",
            "wcag_guideline": "3.3.2",
            "testing_status": "manual_validation_needed"
          },
          {
            "issue_id": "auth-001",
            "component": "authentication_flows",
            "change_type": "color_contrast",
            "description": "Updated color palette to meet WCAG AA contrast ratios",
            "wcag_guideline": "1.4.3",
            "testing_status": "automated_tests_passing"
          }
        ],
        "wcag_compliance_status": "improved_to_85_percent"
      }
    },
    "improvement-validation-routine": {
      "result": {
        "validation_results": {
          "improvements_validated": 18,
          "validation_passed": 16,
          "validation_failed": 2,
          "post_implementation_score": 0.89,
          "regression_issues": 1
        },
        "validation_findings": [
          {
            "change_id": "nav-001",
            "validation_status": "passed",
            "automated_test_results": "all_passing",
            "manual_test_results": "keyboard_navigation_improved",
            "user_journey_impact": "positive"
          },
          {
            "change_id": "form-001",
            "validation_status": "passed",
            "automated_test_results": "all_passing",
            "manual_test_results": "screen_reader_experience_improved",
            "user_journey_impact": "positive"
          }
        ],
        "final_compliance_score": 0.89
      }
    },
    "final-audit-routine": {
      "result": {
        "final_compliance_score": 0.91,
        "accessibility_complete": true,
        "wcag_aa_compliance": "achieved",
        "comprehensive_audit_results": {
          "critical_violations": 0,
          "major_violations": 3,
          "minor_violations": 12,
          "total_components_compliant": 22,
          "compliance_percentage": 91.7
        }
      }
    }
  },
  "eventSequence": [
    {
      "event": "swarm/started",
      "expectedResponses": [
        "accessibility-audit-routine execution",
        "a11y/automated_testing_requested"
      ]
    },
    {
      "event": "a11y/automated_testing_requested",
      "expectedResponses": [
        "automated-testing-routine execution",
        "a11y/manual_testing_requested"
      ]
    },
    {
      "event": "a11y/audit_complete",
      "expectedResponses": [
        "issue-prioritization-routine execution"
      ]
    },
    {
      "event": "a11y/issues_prioritized",
      "expectedResponses": [
        "improvement-coordination-routine execution",
        "a11y/improvement_assigned"
      ]
    },
    {
      "event": "a11y/improvement_assigned",
      "expectedResponses": [
        "accessibility-improvement-routine execution"
      ]
    },
    {
      "event": "a11y/improvements_implemented",
      "expectedResponses": [
        "a11y/validation_requested",
        "improvement-validation-routine execution"
      ]
    },
    {
      "event": "a11y/validation_complete",
      "expectedResponses": [
        "final-audit-routine execution"
      ]
    }
  ]
}