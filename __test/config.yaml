# Vrooli Test Configuration
# Central configuration for all testing infrastructure

# Test Environment Settings
environment:
  name: "default"
  tmpdir_base: "/dev/shm"  # Use shared memory for performance
  tmpdir_fallback: "/tmp"  # Fallback if /dev/shm unavailable
  namespace_prefix: "vrooli_test"

# Service Port Assignments
ports:
  # AI Services
  ollama: 11434
  whisper: 8080
  comfyui: 8188
  unstructured_io: 8000
  
  # Storage Services
  postgres: 5432
  redis: 6379
  minio: 9000
  qdrant: 6333
  questdb: 9000
  vault: 8200
  
  # Automation Services
  node_red: 1880
  huginn: 3000
  
  # Agent Services
  agent_s2: 8080
  browserless: 3000
  claude_code: 8080
  
  # Search Services
  searxng: 8080
  
  # Execution Services
  judge0: 2358

# Test Timeout Settings (in seconds)
timeouts:
  basic: 60
  api: 120
  ai_inference: 300
  docker_operations: 180
  integration: 240
  security: 60

# Mock Configuration
mocks:
  enabled: true
  lazy_loading: true
  cache_responses: true
  response_cache_ttl: 3600  # 1 hour

# Test Data Locations
data:
  images: "integration/data/images"
  documents: "integration/data/documents"
  audio: "integration/data/audio"
  workflows: "integration/data/workflows"

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARN, ERROR
  format: "[%timestamp] [%level] [%component] %message"
  file: "/tmp/vrooli-test.log"
  console: true

# Performance Settings
performance:
  parallel_enabled: true
  max_parallel_tests: 4
  cache_enabled: true
  cache_ttl: 86400  # 24 hours
  memory_limit: "1G"

# Health Check Settings
health_checks:
  timeout: 30
  retry_count: 3
  retry_delay: 5
  required_services: []  # Empty means auto-detect

# Test Categories
categories:
  unit:
    description: "Fast, isolated tests with mocks"
    timeout_multiplier: 1
    parallel_safe: true
  
  integration:
    description: "Tests against real services"
    timeout_multiplier: 2
    parallel_safe: false
  
  security:
    description: "Security-focused validation"
    timeout_multiplier: 1.5
    parallel_safe: true
  
  performance:
    description: "Performance and benchmark tests"
    timeout_multiplier: 3
    parallel_safe: false
