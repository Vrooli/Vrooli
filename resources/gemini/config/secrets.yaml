# Gemini Resource Secrets Declaration
version: "1.0"
resource: "gemini"
description: "Google Gemini AI API authentication and configuration secrets"

secrets:
  # API credentials
  api_keys:
    - name: "gemini_api_key"
      path: "secret/resources/gemini/api/key"
      description: "Google AI Studio API key for Gemini access"
      required: true
      format: "string"
      validation:
        pattern: "^AIza[A-Za-z0-9_-]{35}$"  # Google API key format
      default_env: "GEMINI_API_KEY"
      example: "AIzaSyAbc123..."
      fallback: "env:GEMINI_API_KEY"  # Try environment variable if not in Vault
      
  # Optional configuration
  config:
    - name: "default_model"
      path: "secret/resources/gemini/config/model"
      description: "Default Gemini model to use"
      required: false
      format: "string"
      default_env: "GEMINI_DEFAULT_MODEL"
      fallback: "gemini-pro"
      allowed_values:
        - "gemini-pro"
        - "gemini-pro-vision"
        - "gemini-1.5-pro"
        - "gemini-1.5-flash"
        
    - name: "rate_limit_rpm"
      path: "secret/resources/gemini/config/rate_limit_rpm"
      description: "Requests per minute limit"
      required: false
      format: "integer"
      default_env: "GEMINI_RATE_LIMIT_RPM"
      fallback: "60"
      
    - name: "rate_limit_tpm"
      path: "secret/resources/gemini/config/rate_limit_tpm"
      description: "Tokens per minute limit"
      required: false
      format: "integer"
      default_env: "GEMINI_RATE_LIMIT_TPM"
      fallback: "1000000"

# Integration with other resources
integrations:
  vault:
    enabled: true
    priority: "high"
    description: "Secure storage for API keys"
    
  redis:
    enabled: false
    priority: "low"
    description: "Optional response caching"

# Rotation policy
rotation:
  api_keys:
    recommended_frequency: "90d"
    method: "manual"
    notes: "Regenerate through Google AI Studio"