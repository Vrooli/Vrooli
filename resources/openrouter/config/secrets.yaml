# Secrets configuration for OpenRouter resource
version: "1.0"
resource: "openrouter"
description: "API keys and credentials for OpenRouter AI model gateway"

secrets:
  api_keys:
    - name: "openrouter_api_key"
      path: "secret/resources/{resource}/api/main"
      description: "Main OpenRouter API key for model access"
      required: true
      format: "string"
      validation:
        pattern: "^sk-or-v1-[a-f0-9]{64}$"
      default_env: "OPENROUTER_API_KEY"
      example: "sk-or-v1-0123456789abcdef..."
      documentation: "https://openrouter.ai/keys"

    - name: "openai_api_key"
      path: "secret/resources/{resource}/api/openai"
      description: "Optional OpenAI API key for direct access"
      required: false
      format: "string"
      validation:
        pattern: "^sk-[a-zA-Z0-9]{48}$"
      default_env: "OPENAI_API_KEY"
      example: "sk-proj-..."
      fallback: "env:OPENAI_API_KEY"

    - name: "anthropic_api_key"
      path: "secret/resources/{resource}/api/anthropic"
      description: "Optional Anthropic API key for Claude models"
      required: false
      format: "string"
      validation:
        pattern: "^sk-ant-[a-zA-Z0-9-]+$"
      default_env: "ANTHROPIC_API_KEY"
      example: "sk-ant-..."
      fallback: "env:ANTHROPIC_API_KEY"

initialization:
  prompt_user:
    - name: "openrouter_api_key"
      prompt: "Enter your OpenRouter API key from https://openrouter.ai/keys"
      validation: "Test with a simple completion request to gpt-3.5-turbo"
      
health_check:
  required_secrets: ["openrouter_api_key"]
  test_endpoint: "https://openrouter.ai/api/v1/models"
  test_description: "Verify API key by fetching available models"