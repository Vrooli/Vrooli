{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Open Data Cube Configuration Schema",
  "type": "object",
  "properties": {
    "ports": {
      "type": "object",
      "properties": {
        "api": {
          "type": "integer",
          "minimum": 1024,
          "maximum": 65535,
          "description": "Port for ODC API"
        },
        "database": {
          "type": "integer",
          "minimum": 1024,
          "maximum": 65535,
          "description": "Port for PostgreSQL database"
        },
        "ows": {
          "type": "integer",
          "minimum": 1024,
          "maximum": 65535,
          "description": "Port for OWS services"
        }
      }
    },
    "database": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "default": "datacube"
        },
        "user": {
          "type": "string",
          "default": "datacube"
        },
        "password": {
          "type": "string",
          "default": "datacube_password"
        }
      }
    },
    "sample_data": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable sample dataset loading"
        },
        "sentinel2": {
          "type": "boolean",
          "default": true,
          "description": "Load Sentinel-2 samples"
        },
        "landsat8": {
          "type": "boolean",
          "default": true,
          "description": "Load Landsat 8 samples"
        }
      }
    },
    "performance": {
      "type": "object",
      "properties": {
        "max_workers": {
          "type": "integer",
          "minimum": 1,
          "default": 4,
          "description": "Maximum worker processes"
        },
        "chunk_size": {
          "type": "integer",
          "minimum": 256,
          "default": 1024,
          "description": "Data chunk size in MB"
        },
        "cache_size": {
          "type": "string",
          "pattern": "^[0-9]+(MB|GB)$",
          "default": "1GB",
          "description": "Cache size for processed data"
        }
      }
    },
    "integrations": {
      "type": "object",
      "properties": {
        "minio": {
          "type": "boolean",
          "default": false,
          "description": "Enable MinIO integration"
        },
        "qdrant": {
          "type": "boolean",
          "default": false,
          "description": "Enable Qdrant vector search"
        },
        "n8n": {
          "type": "boolean",
          "default": false,
          "description": "Enable n8n workflow automation"
        }
      }
    },
    "ows": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable OGC Web Services"
        },
        "max_datasets": {
          "type": "integer",
          "minimum": 100,
          "default": 1000,
          "description": "Maximum datasets to serve"
        }
      }
    }
  },
  "additionalProperties": false,
  "$id": "https://vrooli.com/resources/open-data-cube/schema.json"
}
