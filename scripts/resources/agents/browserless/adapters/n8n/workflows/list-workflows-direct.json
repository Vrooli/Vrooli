{
  "code": "export default async ({ page, context }) => { try { const env = context.env || {}; await page.goto('http://localhost:5678/workflows', { waitUntil: 'networkidle2', timeout: 30000 }); let currentUrl = page.url(); if (currentUrl.includes('signin')) { await page.waitForSelector('input[type=\"email\"], #email', { timeout: 10000 }); await page.type('input[type=\"email\"], #email', env.N8N_EMAIL || 'matthalloran8@gmail.com'); await page.type('input[type=\"password\"], #password', env.N8N_PASSWORD || 'fallback'); const submitButtons = await page.$$('button'); for (const button of submitButtons) { const text = await page.evaluate(el => el.textContent, button); const type = await page.evaluate(el => el.type, button); if (type === 'submit' || text.includes('Sign in') || text.includes('Log in')) { await button.click(); break; } } await new Promise(resolve => setTimeout(resolve, 5000)); } await new Promise(resolve => setTimeout(resolve, 10000)); const workflows = await page.evaluate(() => { const cards = document.querySelectorAll('.card'); const results = []; cards.forEach((card, index) => { const nameElement = card.querySelector('h1, h2, h3'); const name = nameElement?.textContent?.trim() || card.textContent?.split('\\n')[0]?.split(' ')[0]?.trim(); const linkElement = card.querySelector('a'); const href = linkElement?.href || ''; const id = href.match(/workflow\\/([^\\/\\?]+)/)?.[1] || href.match(/\\/([a-f0-9-]+)$/)?.[1] || name; const active = card.textContent?.includes('Active') || false; const textContent = card.textContent || ''; const lastUpdated = textContent.match(/Last updated (.+?) \\|/)?.[1] || ''; const created = textContent.match(/Created (.+?)\\s/)?.[1] || ''; if (name && name.length > 0) { results.push({ index, id: id || name.toLowerCase().replace(/[^a-z0-9]/g, '-'), name, active, lastUpdated, created, url: href || `${window.location.origin}/workflow/${id || name}`, textContent: textContent.substring(0, 200) }); } }); return { totalCards: cards.length, workflows: results, sampleCardContent: cards.length > 0 ? cards[0].textContent.substring(0, 300) : 'No cards found' }; }); return { success: true, currentUrl: page.url(), workflowData: workflows }; } catch (error) { return { success: false, error: error.message }; } };"
}