{
  "apiVersion": "v1",
  "kind": "Service",
  "metadata": {
    "name": "ai-analytics-platform",
    "version": "v2.1.0",
    "displayName": "AI Analytics Platform",
    "description": "Enterprise-grade AI-powered analytics platform with real-time data processing, ML model serving, and advanced visualization capabilities",
    "labels": {
      "team": "data-platform",
      "environment": "production",
      "tier": "critical",
      "product": "analytics"
    },
    "annotations": {
      "prometheus.io/scrape": "true",
      "prometheus.io/port": "9090",
      "vault.hashicorp.com/role": "analytics-platform"
    },
    "tags": ["ai", "analytics", "ml", "data-processing", "real-time"],
    "owner": {
      "team": "data-platform-team",
      "email": "data-platform@vrooli.com",
      "slack": "#data-platform-oncall"
    },
    "documentation": {
      "readme": "https://docs.vrooli.com/services/analytics-platform",
      "api": "https://api.vrooli.com/analytics/v2/docs",
      "runbook": "https://runbooks.vrooli.com/analytics-platform",
      "architecture": "https://architecture.vrooli.com/analytics-platform"
    },
    "repository": {
      "url": "https://github.com/vrooli/analytics-platform",
      "branch": "main",
      "commit": "a1b2c3d4e5f6789012345678901234567890abcd"
    },
    "createdAt": "2024-01-15T10:00:00Z",
    "updatedAt": "2024-03-20T14:30:00Z"
  },
  "spec": {
    "pricing": {
      "model": "tiered",
      "currency": "USD",
      "tiers": [
        {
          "name": "Starter",
          "price": 99,
          "interval": "month",
          "features": [
            "Up to 100K data points/month",
            "5 concurrent models",
            "Basic visualizations",
            "Email support"
          ],
          "limits": {
            "dataPoints": 100000,
            "models": 5,
            "apiCalls": 10000
          }
        },
        {
          "name": "Professional",
          "price": 499,
          "interval": "month",
          "features": [
            "Up to 10M data points/month",
            "25 concurrent models",
            "Advanced visualizations",
            "Priority support",
            "Custom dashboards"
          ],
          "limits": {
            "dataPoints": 10000000,
            "models": 25,
            "apiCalls": 100000
          }
        },
        {
          "name": "Enterprise",
          "price": 2499,
          "interval": "month",
          "features": [
            "Unlimited data points",
            "Unlimited models",
            "Custom visualizations",
            "24/7 phone support",
            "Dedicated success manager",
            "SLA guarantee"
          ],
          "limits": {
            "dataPoints": -1,
            "models": -1,
            "apiCalls": -1
          }
        }
      ],
      "usage": {
        "metrics": [
          {
            "name": "Additional Data Points",
            "unit": "1M points",
            "price": 50,
            "included": 0,
            "overage": 75
          },
          {
            "name": "GPU Hours",
            "unit": "hour",
            "price": 2.5,
            "included": 100,
            "overage": 3.5
          }
        ],
        "billing": "monthly"
      },
      "trial": {
        "enabled": true,
        "duration": 14,
        "features": ["Full Professional tier access", "100 GPU hours", "Migration assistance"]
      }
    },
    "serve": {
      "deployment": {
        "type": "progressive",
        "replicas": 3,
        "progressive": {
          "stages": [
            {
              "name": "canary",
              "weight": 10,
              "duration": "30m",
              "criteria": [
                {
                  "metric": "error_rate",
                  "threshold": 0.01,
                  "operator": "<=",
                  "window": "5m"
                },
                {
                  "metric": "p99_latency",
                  "threshold": 500,
                  "operator": "<=",
                  "window": "5m"
                }
              ],
              "pause": false
            },
            {
              "name": "partial",
              "weight": 50,
              "duration": "1h",
              "criteria": [
                {
                  "metric": "error_rate",
                  "threshold": 0.02,
                  "operator": "<=",
                  "window": "10m"
                }
              ],
              "pause": true
            },
            {
              "name": "full",
              "weight": 100,
              "duration": "2h",
              "criteria": [
                {
                  "metric": "success_rate",
                  "threshold": 0.995,
                  "operator": ">=",
                  "window": "15m"
                }
              ],
              "pause": false
            }
          ],
          "analysis": {
            "metrics": [
              {
                "name": "request-success-rate",
                "provider": "prometheus",
                "query": "sum(rate(http_requests_total{status=~\"2..\"}[5m])) / sum(rate(http_requests_total[5m]))",
                "interval": "30s",
                "successCondition": "result[0] >= 0.99",
                "failureCondition": "result[0] < 0.95"
              },
              {
                "name": "model-inference-latency",
                "provider": "questdb",
                "query": "SELECT percentile(latency, 0.99) FROM model_metrics WHERE timestamp > dateadd('m', -5, now())",
                "interval": "1m",
                "successCondition": "result[0] < 500"
              }
            ],
            "webhooks": [
              {
                "url": "https://hooks.vrooli.com/deployments/validate",
                "method": "POST",
                "headers": {
                  "Authorization": "Bearer ${DEPLOYMENT_TOKEN}",
                  "Content-Type": "application/json"
                },
                "body": {
                  "service": "analytics-platform",
                  "version": "${VERSION}",
                  "stage": "${STAGE}"
                },
                "timeout": "30s"
              }
            ],
            "queries": [
              {
                "name": "critical-alerts-check",
                "database": "postgres",
                "query": "SELECT COUNT(*) FROM alerts WHERE severity = 'critical' AND created_at > NOW() - INTERVAL '5 minutes'",
                "expectedResult": 0
              }
            ]
          },
          "rollback": {
            "automatic": true,
            "onFailure": "rollback",
            "maxRetries": 3,
            "checkpoints": [
              {
                "name": "pre-deployment",
                "version": "v2.0.5",
                "timestamp": "2024-03-20T14:00:00Z",
                "data": {
                  "database": "snapshot-2024-03-20-140000",
                  "configurations": "config-backup-v2.0.5"
                }
              }
            ]
          }
        },
        "maxSurge": "25%",
        "maxUnavailable": "0"
      },
      "scaling": {
        "horizontal": {
          "enabled": true,
          "minReplicas": 3,
          "maxReplicas": 20,
          "targetCPU": 70,
          "targetMemory": 80,
          "metrics": [
            {
              "type": "External",
              "name": "queue_depth",
              "target": {
                "type": "AverageValue",
                "value": "100"
              }
            },
            {
              "type": "Resource",
              "name": "gpu",
              "target": {
                "type": "Utilization",
                "value": "60"
              }
            }
          ],
          "behavior": {
            "scaleUp": {
              "stabilizationWindowSeconds": 60,
              "selectPolicy": "Max",
              "policies": [
                {
                  "type": "Percent",
                  "value": 100,
                  "periodSeconds": 60
                },
                {
                  "type": "Pods",
                  "value": 4,
                  "periodSeconds": 60
                }
              ]
            },
            "scaleDown": {
              "stabilizationWindowSeconds": 300,
              "selectPolicy": "Min",
              "policies": [
                {
                  "type": "Percent",
                  "value": 50,
                  "periodSeconds": 300
                }
              ]
            }
          }
        },
        "vertical": {
          "enabled": true,
          "updateMode": "Auto",
          "resourcePolicy": {
            "minAllowed": {
              "cpu": "500m",
              "memory": "2Gi"
            },
            "maxAllowed": {
              "cpu": "8",
              "memory": "32Gi"
            }
          }
        },
        "manual": true
      },
      "availability": {
        "sla": "99.99%",
        "zones": ["us-east-1a", "us-east-1b", "us-east-1c"],
        "regions": ["us-east-1", "eu-west-1"],
        "podDisruptionBudget": {
          "minAvailable": "66%"
        }
      },
      "endpoints": [
        {
          "name": "api",
          "protocol": "https",
          "path": "/api/v2",
          "port": 443,
          "public": true,
          "authentication": "bearer",
          "rateLimit": {
            "requests": 1000,
            "window": "1m",
            "burst": 100
          }
        },
        {
          "name": "grpc",
          "protocol": "grpc",
          "port": 50051,
          "public": false,
          "authentication": "mtls"
        },
        {
          "name": "websocket",
          "protocol": "websocket",
          "path": "/ws",
          "port": 8080,
          "public": true,
          "authentication": "bearer"
        },
        {
          "name": "metrics",
          "protocol": "http",
          "path": "/metrics",
          "port": 9090,
          "public": false,
          "authentication": "none"
        }
      ],
      "ports": [
        {
          "name": "http",
          "port": 80,
          "targetPort": 8080,
          "protocol": "TCP"
        },
        {
          "name": "https",
          "port": 443,
          "targetPort": 8443,
          "protocol": "TCP"
        },
        {
          "name": "grpc",
          "port": 50051,
          "targetPort": "grpc",
          "protocol": "TCP"
        }
      ],
      "healthChecks": {
        "liveness": {
          "httpGet": {
            "path": "/healthz",
            "port": 8080,
            "scheme": "HTTP"
          },
          "initialDelaySeconds": 30,
          "periodSeconds": 10,
          "timeoutSeconds": 5,
          "successThreshold": 1,
          "failureThreshold": 3
        },
        "readiness": {
          "httpGet": {
            "path": "/ready",
            "port": 8080,
            "scheme": "HTTP",
            "headers": [
              {
                "name": "X-Health-Check",
                "value": "readiness"
              }
            ]
          },
          "initialDelaySeconds": 10,
          "periodSeconds": 5,
          "timeoutSeconds": 3,
          "successThreshold": 1,
          "failureThreshold": 3
        },
        "startup": {
          "tcpSocket": {
            "port": 8080
          },
          "initialDelaySeconds": 0,
          "periodSeconds": 10,
          "timeoutSeconds": 5,
          "successThreshold": 1,
          "failureThreshold": 30
        }
      },
      "loadBalancing": {
        "algorithm": "leastConnections",
        "sessionAffinity": "ClientIP",
        "sessionAffinityConfig": {
          "clientIP": {
            "timeoutSeconds": 10800
          }
        }
      }
    },
    "scenarios": {
      "initialization": {
        "resources": {
          "postgres": {
            "data": [
              {
                "type": "schema",
                "file": "scenarios/analytics/sql/schema.sql",
                "format": "sql"
              },
              {
                "type": "seed",
                "inline": "INSERT INTO configurations (key, value) VALUES ('model_cache_size', '10GB'), ('batch_size', '128');",
                "format": "sql"
              }
            ]
          },
          "questdb": {
            "data": [
              {
                "type": "schema",
                "file": "scenarios/analytics/sql/timeseries-tables.sql",
                "format": "sql"
              }
            ]
          },
          "ollama": {
            "scripts": [
              {
                "path": "pull-models",
                "inline": "ollama pull llama2:13b && ollama pull mistral:7b",
                "language": "bash"
              }
            ]
          },
          "n8n": {
            "workflows": [
              {
                "name": "data-pipeline",
                "file": "scenarios/analytics/workflows/data-pipeline.json",
                "enabled": true,
                "tags": ["core", "data", "etl"]
              },
              {
                "name": "alert-routing",
                "inline": {
                  "name": "Alert Routing",
                  "nodes": [],
                  "connections": {},
                  "active": true
                },
                "enabled": true
              }
            ]
          },
          "windmill": {
            "scripts": [
              {
                "path": "f/analytics/model_trainer",
                "file": "scenarios/analytics/scripts/model_trainer.py",
                "language": "python",
                "parameters": {
                  "epochs": 100,
                  "learning_rate": 0.001
                }
              }
            ],
            "configurations": [
              {
                "name": "dashboard-config",
                "inline": {
                  "theme": "dark",
                  "refreshInterval": 30,
                  "defaultTimeRange": "24h"
                },
                "format": "json"
              }
            ]
          },
          "minio": {
            "data": [
              {
                "type": "directory",
                "file": "scenarios/analytics/assets/models/",
                "format": "file"
              }
            ]
          },
          "vault": {
            "configurations": [
              {
                "name": "api-keys",
                "inline": {
                  "openai": "${OPENAI_API_KEY}",
                  "anthropic": "${ANTHROPIC_API_KEY}"
                },
                "format": "json",
                "secret": true
              }
            ]
          }
        },
        "order": ["postgres", "questdb", "vault", "minio", "ollama", "n8n", "windmill"],
        "parallel": false
      },
      "dependencies": ["vrooli-core", "ai-foundation"],
      "optional": [
        {
          "name": "gpu-optimization",
          "condition": "${GPU_AVAILABLE} == true",
          "configuration": {
            "resources": {
              "judge0": {
                "configurations": [
                  {
                    "name": "gpu-config",
                    "inline": {
                      "cuda_version": "12.0",
                      "memory_limit": "16GB"
                    },
                    "format": "json"
                  }
                ]
              }
            }
          }
        },
        {
          "name": "enterprise-features",
          "condition": "${TIER} == 'enterprise'",
          "configuration": {
            "resources": {
              "windmill": {
                "scripts": [
                  {
                    "path": "f/enterprise/audit_logger",
                    "file": "scenarios/analytics/scripts/audit_logger.ts",
                    "language": "typescript"
                  }
                ]
              }
            }
          }
        }
      ]
    },
    "capabilities": {
      "ai": {
        "models": [
          {
            "name": "analytics-transformer",
            "type": "transformer",
            "version": "2.0",
            "capabilities": ["forecasting", "anomaly-detection", "classification"],
            "performance": {
              "latency": "50ms",
              "throughput": "1000 req/s",
              "accuracy": 0.96
            }
          },
          {
            "name": "vision-analyzer",
            "type": "cnn",
            "version": "1.5",
            "capabilities": ["object-detection", "image-classification"],
            "performance": {
              "latency": "100ms",
              "throughput": "500 req/s",
              "accuracy": 0.94
            }
          }
        ],
        "tasks": ["nlp", "vision", "multimodal", "generation", "classification"],
        "frameworks": ["tensorflow", "pytorch", "onnx", "transformers"]
      },
      "api": {
        "protocols": ["rest", "graphql", "grpc", "websocket"],
        "authentication": ["bearer", "oauth2", "apikey", "mtls"],
        "versioning": "path",
        "documentation": {
          "openapi": "https://api.vrooli.com/analytics/openapi.json",
          "asyncapi": "https://api.vrooli.com/analytics/asyncapi.yaml",
          "graphql": "https://api.vrooli.com/analytics/graphql/schema"
        }
      },
      "data": {
        "formats": ["json", "csv", "parquet", "avro", "protobuf", "arrow"],
        "storage": ["relational", "timeSeries", "object", "vector"],
        "processing": ["batch", "stream", "realtime", "etl", "analytics"],
        "volume": {
          "max": "100TB",
          "throughput": "10GB/s"
        }
      },
      "compute": {
        "languages": ["python", "typescript", "go", "rust", "java"],
        "runtimes": ["node", "python3.11", "jvm", "wasm"],
        "gpuSupport": true,
        "acceleration": ["cuda", "rocm", "opencl"]
      },
      "integration": {
        "webhooks": true,
        "events": ["data.processed", "model.trained", "alert.triggered", "deployment.completed"],
        "protocols": ["http", "grpc", "mqtt", "amqp", "kafka"],
        "connectors": ["snowflake", "bigquery", "s3", "azure-blob", "gcs"]
      }
    },
    "dependencies": {
      "services": [
        {
          "name": "auth-service",
          "version": ">=1.5.0",
          "optional": false,
          "endpoints": ["https://auth.vrooli.com/v1"]
        },
        {
          "name": "notification-service",
          "version": "^2.0.0",
          "optional": true,
          "endpoints": ["grpc://notifications:50051"]
        }
      ],
      "resources": [
        {
          "type": "database",
          "name": "postgres",
          "version": ">=15.0",
          "configuration": {
            "max_connections": 200,
            "shared_buffers": "4GB"
          }
        },
        {
          "type": "cache",
          "name": "redis",
          "version": ">=7.0",
          "configuration": {
            "maxmemory": "8GB",
            "maxmemory-policy": "allkeys-lru"
          }
        },
        {
          "type": "storage",
          "name": "minio",
          "version": ">=RELEASE.2023",
          "configuration": {
            "region": "us-east-1"
          }
        }
      ],
      "external": [
        {
          "name": "OpenAI API",
          "url": "https://api.openai.com",
          "authentication": {
            "type": "bearer",
            "tokenFrom": "vault:secret/data/openai#api_key"
          },
          "healthCheck": "https://status.openai.com/api/v2/status.json"
        },
        {
          "name": "Stripe",
          "url": "https://api.stripe.com",
          "authentication": {
            "type": "bearer",
            "tokenFrom": "env:STRIPE_API_KEY"
          },
          "healthCheck": "https://status.stripe.com/api/v2/status.json"
        }
      ]
    },
    "resources": {
      "requests": {
        "cpu": "2",
        "memory": "4Gi",
        "ephemeralStorage": "10Gi"
      },
      "limits": {
        "cpu": "8",
        "memory": "32Gi",
        "gpu": "2",
        "ephemeralStorage": "50Gi"
      },
      "storage": {
        "persistent": [
          {
            "name": "data-volume",
            "size": "100Gi",
            "storageClass": "fast-ssd",
            "accessMode": "ReadWriteOnce",
            "mountPath": "/data"
          },
          {
            "name": "models-volume",
            "size": "500Gi",
            "storageClass": "standard",
            "accessMode": "ReadOnlyMany",
            "mountPath": "/models"
          }
        ],
        "ephemeral": "20Gi"
      }
    },
    "configuration": {
      "environment": {
        "NODE_ENV": "production",
        "LOG_LEVEL": "info",
        "MAX_WORKERS": 8,
        "CACHE_TTL": 3600,
        "ENABLE_METRICS": true
      },
      "secrets": [
        {
          "name": "database-credentials",
          "key": "connection-string",
          "envVar": "DATABASE_URL"
        },
        {
          "name": "api-keys",
          "key": "jwt-secret",
          "envVar": "JWT_SECRET"
        }
      ],
      "configMaps": [
        {
          "name": "app-config",
          "key": "config.yaml",
          "envVar": "APP_CONFIG"
        }
      ],
      "files": [
        {
          "path": "/app/config/model-config.json",
          "content": "{\"batch_size\": 32, \"max_sequence_length\": 512}",
          "mode": "0644"
        },
        {
          "path": "/app/certs/ca.crt",
          "source": "secrets/ca-certificate",
          "mode": "0400"
        }
      ],
      "overrides": {
        "development": {
          "LOG_LEVEL": "debug",
          "ENABLE_PROFILING": true,
          "CACHE_TTL": 60
        },
        "staging": {
          "LOG_LEVEL": "info",
          "ENABLE_PROFILING": false,
          "CACHE_TTL": 1800
        },
        "production": {
          "LOG_LEVEL": "warn",
          "ENABLE_PROFILING": false,
          "CACHE_TTL": 7200
        }
      }
    },
    "security": {
      "authentication": {
        "methods": ["bearer", "oauth2", "mtls"],
        "providers": [
          {
            "name": "internal-oauth",
            "type": "oauth2",
            "config": {
              "issuer": "https://auth.vrooli.com",
              "audience": "analytics-platform"
            }
          },
          {
            "name": "google-oauth",
            "type": "oidc",
            "config": {
              "issuer": "https://accounts.google.com",
              "clientId": "${GOOGLE_CLIENT_ID}"
            }
          }
        ],
        "mfa": true
      },
      "authorization": {
        "model": "rbac",
        "policies": [
          {
            "name": "admin-policy",
            "description": "Full administrative access",
            "rules": [
              {
                "resource": "*",
                "actions": ["*"],
                "effect": "allow"
              }
            ]
          },
          {
            "name": "analyst-policy",
            "description": "Read and analyze data",
            "rules": [
              {
                "resource": "data/*",
                "actions": ["read", "analyze"],
                "effect": "allow"
              },
              {
                "resource": "models/*",
                "actions": ["read", "execute"],
                "effect": "allow"
              },
              {
                "resource": "admin/*",
                "actions": ["*"],
                "effect": "deny"
              }
            ]
          }
        ]
      },
      "encryption": {
        "atRest": true,
        "inTransit": true,
        "algorithm": "AES-256",
        "keyManagement": "vault"
      },
      "compliance": ["SOC2", "GDPR", "HIPAA"],
      "vulnerabilityScanning": true,
      "securityContext": {
        "runAsUser": 1000,
        "runAsGroup": 1000,
        "runAsNonRoot": true,
        "readOnlyRootFilesystem": false,
        "allowPrivilegeEscalation": false,
        "capabilities": {
          "drop": ["ALL"],
          "add": ["NET_BIND_SERVICE"]
        },
        "seccompProfile": {
          "type": "RuntimeDefault"
        }
      }
    },
    "networking": {
      "ingress": {
        "enabled": true,
        "className": "nginx",
        "hosts": [
          {
            "host": "analytics.vrooli.com",
            "paths": [
              {
                "path": "/",
                "pathType": "Prefix",
                "backend": {
                  "service": "analytics-platform",
                  "port": 80
                }
              }
            ]
          },
          {
            "host": "api.analytics.vrooli.com",
            "paths": [
              {
                "path": "/v2",
                "pathType": "Prefix",
                "backend": {
                  "service": "analytics-api",
                  "port": 8080
                }
              }
            ]
          }
        ],
        "tls": [
          {
            "hosts": ["analytics.vrooli.com", "api.analytics.vrooli.com"],
            "secretName": "analytics-tls"
          }
        ],
        "annotations": {
          "cert-manager.io/cluster-issuer": "letsencrypt-prod",
          "nginx.ingress.kubernetes.io/rate-limit": "100",
          "nginx.ingress.kubernetes.io/ssl-redirect": "true"
        }
      },
      "egress": {
        "rules": [
          {
            "to": [
              {
                "host": "api.openai.com",
                "port": 443,
                "protocol": "HTTPS"
              },
              {
                "host": "*.amazonaws.com",
                "port": 443,
                "protocol": "HTTPS"
              }
            ],
            "policy": "allow"
          }
        ],
        "defaultPolicy": "deny"
      },
      "serviceMesh": {
        "enabled": true,
        "provider": "istio",
        "trafficPolicy": {
          "timeout": "30s",
          "retries": {
            "attempts": 3,
            "perTryTimeout": "10s"
          },
          "circuitBreaker": {
            "consecutive5xxErrors": 5,
            "interval": "30s",
            "baseEjectionTime": "30s"
          }
        }
      },
      "dns": {
        "nameservers": ["8.8.8.8", "8.8.4.4"],
        "searches": ["svc.cluster.local", "cluster.local"],
        "options": [
          {
            "name": "ndots",
            "value": "5"
          }
        ]
      }
    },
    "lifecycle": {
      "hooks": {
        "preStart": {
          "exec": {
            "command": ["/bin/sh", "-c", "echo 'Starting analytics platform...'"]
          }
        },
        "postStart": {
          "httpGet": {
            "path": "/api/v2/init",
            "port": 8080,
            "scheme": "HTTP"
          }
        },
        "preStop": {
          "exec": {
            "command": ["/bin/sh", "-c", "sleep 15 && kill -SIGTERM 1"]
          }
        }
      },
      "upgrade": {
        "automatic": false,
        "schedule": "0 2 * * SUN",
        "preUpgradeChecks": [
          "database-migration-test",
          "api-compatibility-check",
          "resource-availability"
        ],
        "postUpgradeChecks": [
          "health-check",
          "smoke-tests",
          "performance-baseline"
        ]
      },
      "backup": {
        "enabled": true,
        "schedule": "0 3 * * *",
        "retention": {
          "days": 30,
          "count": 10
        },
        "destination": "s3://backups.vrooli.com/analytics-platform"
      },
      "maintenance": {
        "dayOfWeek": "Sunday",
        "startTime": "02:00",
        "duration": "4h",
        "notification": {
          "advance": "24h",
          "channels": ["email", "slack"]
        }
      }
    },
    "observability": {
      "metrics": {
        "enabled": true,
        "provider": "prometheus",
        "endpoint": "/metrics",
        "interval": "30s",
        "custom": [
          {
            "name": "model_inference_duration",
            "type": "histogram",
            "labels": ["model", "version"],
            "help": "Duration of model inference in seconds"
          },
          {
            "name": "active_sessions",
            "type": "gauge",
            "labels": ["tier"],
            "help": "Number of active user sessions"
          },
          {
            "name": "data_processed_bytes",
            "type": "counter",
            "labels": ["source", "format"],
            "help": "Total bytes of data processed"
          }
        ]
      },
      "logging": {
        "enabled": true,
        "level": "info",
        "format": "json",
        "outputs": [
          {
            "type": "stdout",
            "config": {}
          },
          {
            "type": "elasticsearch",
            "config": {
              "url": "https://logs.vrooli.com",
              "index": "analytics-platform"
            }
          },
          {
            "type": "loki",
            "config": {
              "url": "https://loki.vrooli.com",
              "labels": {
                "app": "analytics-platform",
                "environment": "production"
              }
            }
          }
        ],
        "sampling": {
          "enabled": true,
          "rate": 0.1
        }
      },
      "tracing": {
        "enabled": true,
        "provider": "jaeger",
        "endpoint": "https://jaeger.vrooli.com:14268/api/traces",
        "samplingRate": 0.1
      },
      "alerts": {
        "enabled": true,
        "rules": [
          {
            "name": "high-error-rate",
            "condition": "rate(http_requests_total{status=~\"5..\"}[5m]) > 0.05",
            "severity": "critical",
            "for": "5m",
            "annotations": {
              "summary": "High error rate detected",
              "description": "Error rate is above 5% for 5 minutes"
            },
            "labels": {
              "team": "platform",
              "component": "api"
            }
          },
          {
            "name": "high-memory-usage",
            "condition": "container_memory_usage_bytes / container_spec_memory_limit_bytes > 0.9",
            "severity": "warning",
            "for": "10m",
            "annotations": {
              "summary": "High memory usage",
              "description": "Memory usage is above 90% for 10 minutes"
            }
          },
          {
            "name": "model-latency",
            "condition": "histogram_quantile(0.99, model_inference_duration_bucket) > 1",
            "severity": "warning",
            "for": "5m",
            "annotations": {
              "summary": "Model inference latency high",
              "description": "P99 latency is above 1 second"
            }
          }
        ],
        "channels": [
          {
            "name": "pagerduty",
            "type": "pagerduty",
            "config": {
              "routingKey": "${PAGERDUTY_ROUTING_KEY}",
              "severity": ["critical"]
            }
          },
          {
            "name": "slack",
            "type": "slack",
            "config": {
              "webhookUrl": "${SLACK_WEBHOOK_URL}",
              "channel": "#alerts",
              "severity": ["warning", "critical"]
            }
          },
          {
            "name": "email",
            "type": "email",
            "config": {
              "to": ["oncall@vrooli.com"],
              "from": "alerts@vrooli.com",
              "severity": ["critical"]
            }
          }
        ]
      }
    },
    "compliance": {
      "standards": ["GDPR", "HIPAA", "SOC2"],
      "dataResidency": ["us-east-1", "eu-west-1"],
      "auditLogging": true,
      "dataRetention": {
        "days": 2555,
        "policy": "archive"
      }
    }
  },
  "status": {
    "phase": "running",
    "conditions": [
      {
        "type": "Available",
        "status": "True",
        "reason": "MinimumReplicasAvailable",
        "message": "Deployment has minimum availability",
        "lastUpdateTime": "2024-03-20T14:30:00Z",
        "lastTransitionTime": "2024-03-20T14:25:00Z"
      },
      {
        "type": "Progressing",
        "status": "True",
        "reason": "NewReplicaSetAvailable",
        "message": "ReplicaSet \"analytics-platform-7d9f8b6c5\" has successfully progressed",
        "lastUpdateTime": "2024-03-20T14:30:00Z",
        "lastTransitionTime": "2024-03-20T14:20:00Z"
      }
    ],
    "replicas": {
      "desired": 5,
      "current": 5,
      "ready": 5,
      "available": 5
    },
    "endpoints": [
      {
        "name": "api",
        "url": "https://api.analytics.vrooli.com/v2",
        "status": "healthy"
      },
      {
        "name": "grpc",
        "url": "grpc://analytics.vrooli.com:50051",
        "status": "healthy"
      },
      {
        "name": "websocket",
        "url": "wss://analytics.vrooli.com/ws",
        "status": "healthy"
      },
      {
        "name": "metrics",
        "url": "http://analytics.vrooli.com:9090/metrics",
        "status": "healthy"
      }
    ],
    "lastDeployment": {
      "version": "v2.1.0",
      "timestamp": "2024-03-20T14:00:00Z",
      "status": "successful"
    },
    "metrics": {
      "cpu": "3.2/8 cores",
      "memory": "18/32 Gi",
      "requests": 15234,
      "errors": 12,
      "latency": "45ms"
    }
  }
}