#!/bin/bash
# ====================================================================
# Resource Port Mappings
# ====================================================================
#
# Default port mappings for all Vrooli resources. These are used as
# fallbacks when dynamic port discovery fails.
#
# ====================================================================

declare -A RESOURCE_PORT_MAPPINGS=(
    ["ollama"]="11434"
    ["whisper"]="8090"
    ["unstructured-io"]="11450"
    ["n8n"]="5678"
    ["node-red"]="1880"
    ["windmill"]="5681"
    ["huginn"]="4111"
    ["comfyui"]="8188"
    ["agent-s2"]="4113"
    ["browserless"]="4110"
    ["searxng"]="9200"
    ["minio"]="9000"
    ["vault"]="8200"
    ["qdrant"]="6333"
    ["questdb"]="9010"
    ["postgres"]="5433"
    ["redis"]="6380"
    ["claude-code"]=""  # CLI tool, no port
)

# Get default port for a resource
get_resource_default_port() {
    local resource="$1"
    echo "${RESOURCE_PORT_MAPPINGS[$resource]:-8080}"
}

# Export for use in other scripts
export -f get_resource_default_port