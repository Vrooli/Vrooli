{
  "value": {
    "type": "tabscomponent",
    "tabs": [
      {
        "id": "overview",
        "value": "Overview"
      },
      {
        "id": "resources",
        "value": "Resources"
      },
      {
        "id": "alerts", 
        "value": "Alerts"
      },
      {
        "id": "metrics",
        "value": "Metrics"
      },
      {
        "id": "actions",
        "value": "Actions"
      }
    ],
    "configuration": {
      "overview": {
        "type": "containercomponent",
        "components": [
          {
            "id": "header",
            "type": "textcomponent",
            "configuration": {
              "text": "# ðŸš€ Resource Monitoring Dashboard\n## Real-Time Infrastructure Health & Management\n**Monitoring {{resource_count || 0}} resources** | Last updated: {{now.format('HH:mm:ss')}}",
              "style": {
                "fontSize": "16px",
                "fontWeight": "600",
                "color": "#1a365d",
                "backgroundColor": "#ebf8ff",
                "padding": "20px",
                "borderRadius": "8px",
                "marginBottom": "20px"
              }
            }
          },
          {
            "id": "summary_grid",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fit, minmax(200px, 1fr))",
                "gap": "15px",
                "marginBottom": "30px"
              }
            },
            "components": [
              {
                "id": "healthy_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f0fff4",
                    "border": "2px solid #68d391",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "healthy_count",
                    "type": "textcomponent", 
                    "configuration": {
                      "text": "## {{healthy_count || 0}}\n**Healthy Resources**",
                      "style": {"color": "#2d5016", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "warning_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fffaf0",
                    "border": "2px solid #ed8936",
                    "borderRadius": "12px", 
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "degraded_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{degraded_count || 0}}\n**Degraded Resources**",
                      "style": {"color": "#7b2d01", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "critical_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fff5f5",
                    "border": "2px solid #fc8181",
                    "borderRadius": "12px",
                    "padding": "15px", 
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "down_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{down_count || 0}}\n**Down Resources**",
                      "style": {"color": "#742a2a", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "availability_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f7fafc",
                    "border": "2px solid #a0aec0",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "avg_availability",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{(availability_percent || 0).toFixed(1)}}%\n**Average Availability**",
                      "style": {"color": "#2d3748", "marginBottom": "0"}
                    }
                  }
                ]
              }
            ]
          },
          {
            "id": "recent_alerts",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "#white",
                "border": "1px solid #e2e8f0",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "alerts_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸš¨ Recent Alerts (Last 24 Hours)",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "alerts_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ recent_alerts || [] }}",
                  "columns": [
                    {
                      "field": "alert_time",
                      "header": "Time",
                      "type": "datetime"
                    },
                    {
                      "field": "resource_name", 
                      "header": "Resource"
                    },
                    {
                      "field": "severity",
                      "header": "Severity",
                      "type": "badge"
                    },
                    {
                      "field": "message",
                      "header": "Message"
                    }
                  ],
                  "pagination": true,
                  "pageSize": 5
                }
              }
            ]
          }
        ]
      },
      "resources": {
        "type": "containercomponent",
        "components": [
          {
            "id": "resources_header",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "flex",
                "justifyContent": "space-between",
                "alignItems": "center",
                "marginBottom": "20px"
              }
            },
            "components": [
              {
                "id": "resources_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸ–¥ï¸ Resource Status Grid",
                  "style": {"margin": "0"}
                }
              },
              {
                "id": "refresh_button",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "ðŸ”„ Refresh",
                  "color": "primary",
                  "size": "small",
                  "onClick": {
                    "type": "run_query",
                    "query": "get_resources"
                  }
                }
              },
              {
                "id": "discover_button",
                "type": "buttoncomponent", 
                "configuration": {
                  "text": "ðŸ” Discover Resources",
                  "color": "success",
                  "size": "small",
                  "onClick": {
                    "type": "webhook",
                    "url": "http://localhost:5678/webhook/discover-resources",
                    "method": "POST"
                  }
                }
              }
            ]
          },
          {
            "id": "resources_grid",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fill, minmax(280px, 1fr))",
                "gap": "20px"
              }
            },
            "components": [
              {
                "id": "resource_cards",
                "type": "forloopcomponent",
                "configuration": {
                  "data": "={{ resources || [] }}",
                  "iterator": "resource",
                  "component": {
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "border": "1px solid #e2e8f0",
                        "borderRadius": "12px",
                        "padding": "15px",
                        "backgroundColor": "white",
                        "borderLeftWidth": "4px",
                        "borderLeftColor": "={{ resource.current_status === 'healthy' ? '#48bb78' : resource.current_status === 'degraded' ? '#ed8936' : '#f56565' }}"
                      }
                    },
                    "components": [
                      {
                        "id": "resource_header",
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "justifyContent": "space-between",
                            "alignItems": "center",
                            "marginBottom": "10px"
                          }
                        },
                        "components": [
                          {
                            "id": "resource_name",
                            "type": "textcomponent",
                            "configuration": {
                              "text": "**{{ resource.display_name }}**",
                              "style": {"margin": "0", "fontSize": "14px"}
                            }
                          },
                          {
                            "id": "status_badge",
                            "type": "textcomponent",
                            "configuration": {
                              "text": "{{ resource.current_status === 'healthy' ? 'ðŸŸ¢' : resource.current_status === 'degraded' ? 'ðŸŸ¡' : 'ðŸ”´' }}",
                              "style": {"fontSize": "16px"}
                            }
                          }
                        ]
                      },
                      {
                        "id": "resource_details",
                        "type": "textcomponent",
                        "configuration": {
                          "text": "**Type:** {{ resource.resource_type }}\n**Port:** {{ resource.port }}\n**Status:** {{ resource.current_status }}\n**Last Seen:** {{ resource.last_seen ? new Date(resource.last_seen).toLocaleString() : 'Unknown' }}",
                          "style": {"fontSize": "12px", "color": "#4a5568", "lineHeight": "1.4"}
                        }
                      },
                      {
                        "id": "resource_actions",
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "gap": "8px",
                            "marginTop": "10px",
                            "flexWrap": "wrap"
                          }
                        },
                        "components": [
                          {
                            "id": "restart_button",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "ðŸ”„",
                              "color": "warning",
                              "size": "xs",
                              "title": "Restart",
                              "onClick": {
                                "type": "confirm_action",
                                "message": "Restart {{ resource.resource_name }}?",
                                "action": {
                                  "type": "run_query",
                                  "query": "execute_action",
                                  "params": {
                                    "resource_id": "{{ resource.id }}",
                                    "action": "restart"
                                  }
                                }
                              }
                            }
                          },
                          {
                            "id": "stop_button",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "â¹ï¸",
                              "color": "danger", 
                              "size": "xs",
                              "title": "Stop",
                              "onClick": {
                                "type": "confirm_action",
                                "message": "Stop {{ resource.resource_name }}? This may affect system functionality.",
                                "action": {
                                  "type": "run_query",
                                  "query": "execute_action",
                                  "params": {
                                    "resource_id": "{{ resource.id }}",
                                    "action": "stop"
                                  }
                                }
                              }
                            }
                          },
                          {
                            "id": "logs_button",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "ðŸ“‹",
                              "color": "info",
                              "size": "xs", 
                              "title": "View Logs",
                              "onClick": {
                                "type": "modal",
                                "title": "{{ resource.resource_name }} Logs",
                                "content": {
                                  "type": "textcomponent",
                                  "configuration": {
                                    "text": "{{ resource_logs }}",
                                    "style": {
                                      "fontFamily": "monospace",
                                      "fontSize": "12px",
                                      "backgroundColor": "#1a202c",
                                      "color": "#e2e8f0",
                                      "padding": "15px",
                                      "borderRadius": "4px",
                                      "maxHeight": "400px",
                                      "overflow": "auto"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "alerts": {
        "type": "containercomponent", 
        "components": [
          {
            "id": "alerts_header",
            "type": "textcomponent",
            "configuration": {
              "text": "### ðŸš¨ Alert Management",
              "style": {"marginBottom": "20px"}
            }
          },
          {
            "id": "alert_stats",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fit, minmax(150px, 1fr))",
                "gap": "15px",
                "marginBottom": "25px"
              }
            },
            "components": [
              {
                "id": "alerts_today",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fff5f5",
                    "border": "1px solid #fc8181",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "alerts_today_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{alerts_today || 0}}\n**Today**",
                      "style": {"color": "#742a2a", "margin": "0"}
                    }
                  }
                ]
              },
              {
                "id": "critical_alerts",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fef5e7",
                    "border": "1px solid #ed8936",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "critical_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{critical_alerts || 0}}\n**Critical**",
                      "style": {"color": "#7b2d01", "margin": "0"}
                    }
                  }
                ]
              },
              {
                "id": "resolved_alerts",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f0fff4",
                    "border": "1px solid #68d391",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "resolved_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{resolved_alerts || 0}}\n**Resolved**",
                      "style": {"color": "#2d5016", "margin": "0"}
                    }
                  }
                ]
              }
            ]
          },
          {
            "id": "alerts_table_container",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e2e8f0",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "alerts_table_header",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "display": "flex",
                    "justifyContent": "space-between",
                    "alignItems": "center", 
                    "marginBottom": "15px"
                  }
                },
                "components": [
                  {
                    "id": "table_title",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**Alert History**",
                      "style": {"margin": "0"}
                    }
                  },
                  {
                    "id": "filter_buttons",
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "display": "flex",
                        "gap": "10px"
                      }
                    },
                    "components": [
                      {
                        "id": "filter_all",
                        "type": "buttoncomponent",
                        "configuration": {
                          "text": "All",
                          "size": "xs",
                          "variant": "outline",
                          "onClick": {
                            "type": "set_variable",
                            "variable": "alert_filter",
                            "value": "all"
                          }
                        }
                      },
                      {
                        "id": "filter_critical",
                        "type": "buttoncomponent",
                        "configuration": {
                          "text": "Critical",
                          "size": "xs", 
                          "variant": "outline",
                          "color": "danger",
                          "onClick": {
                            "type": "set_variable",
                            "variable": "alert_filter",
                            "value": "critical"
                          }
                        }
                      },
                      {
                        "id": "filter_unresolved",
                        "type": "buttoncomponent",
                        "configuration": {
                          "text": "Unresolved",
                          "size": "xs",
                          "variant": "outline",
                          "color": "warning",
                          "onClick": {
                            "type": "set_variable",
                            "variable": "alert_filter", 
                            "value": "unresolved"
                          }
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "id": "alerts_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ alert_history || [] }}",
                  "columns": [
                    {
                      "field": "alert_time",
                      "header": "Time",
                      "type": "datetime",
                      "width": "140px"
                    },
                    {
                      "field": "resource_name",
                      "header": "Resource",
                      "width": "120px"
                    },
                    {
                      "field": "severity", 
                      "header": "Severity",
                      "type": "badge",
                      "width": "80px",
                      "colorMap": {
                        "critical": "danger",
                        "warning": "warning", 
                        "info": "info"
                      }
                    },
                    {
                      "field": "message",
                      "header": "Message"
                    },
                    {
                      "field": "notification_sent",
                      "header": "Notified",
                      "type": "boolean",
                      "width": "80px"
                    },
                    {
                      "field": "is_resolved",
                      "header": "Status",
                      "type": "badge", 
                      "width": "80px",
                      "render": "={{ row.is_resolved ? 'Resolved' : 'Open' }}",
                      "colorMap": {
                        "Resolved": "success",
                        "Open": "warning"
                      }
                    }
                  ],
                  "pagination": true,
                  "pageSize": 10,
                  "sortable": true,
                  "defaultSort": {
                    "field": "alert_time",
                    "direction": "desc"
                  }
                }
              }
            ]
          }
        ]
      },
      "metrics": {
        "type": "containercomponent",
        "components": [
          {
            "id": "metrics_header",
            "type": "textcomponent",
            "configuration": {
              "text": "### ðŸ“Š Performance Metrics & Analytics",
              "style": {"marginBottom": "20px"}
            }
          },
          {
            "id": "time_range_selector",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "flex",
                "gap": "10px",
                "marginBottom": "20px",
                "alignItems": "center"
              }
            },
            "components": [
              {
                "id": "time_range_label",
                "type": "textcomponent",
                "configuration": {
                  "text": "**Time Range:**",
                  "style": {"margin": "0"}
                }
              },
              {
                "id": "time_1h",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "1h",
                  "size": "xs",
                  "variant": "outline",
                  "onClick": {
                    "type": "set_variable",
                    "variable": "time_range",
                    "value": "1h"
                  }
                }
              },
              {
                "id": "time_6h",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "6h", 
                  "size": "xs",
                  "variant": "outline",
                  "onClick": {
                    "type": "set_variable",
                    "variable": "time_range",
                    "value": "6h"
                  }
                }
              },
              {
                "id": "time_24h",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "24h",
                  "size": "xs",
                  "variant": "solid",
                  "onClick": {
                    "type": "set_variable",
                    "variable": "time_range",
                    "value": "24h"
                  }
                }
              },
              {
                "id": "time_7d",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "7d",
                  "size": "xs", 
                  "variant": "outline",
                  "onClick": {
                    "type": "set_variable",
                    "variable": "time_range",
                    "value": "7d"
                  }
                }
              }
            ]
          },
          {
            "id": "charts_grid",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "1fr 1fr",
                "gap": "20px",
                "marginBottom": "30px"
              }
            },
            "components": [
              {
                "id": "availability_chart",
                "type": "chartcomponent",
                "configuration": {
                  "title": "Resource Availability",
                  "type": "line",
                  "data": "={{ availability_metrics || [] }}",
                  "xField": "timestamp",
                  "yField": "availability_percent",
                  "seriesField": "resource_name",
                  "height": "300px"
                }
              },
              {
                "id": "response_time_chart", 
                "type": "chartcomponent",
                "configuration": {
                  "title": "Response Times",
                  "type": "line",
                  "data": "={{ response_time_metrics || [] }}",
                  "xField": "timestamp",
                  "yField": "avg_response_time_ms", 
                  "seriesField": "resource_name",
                  "height": "300px"
                }
              }
            ]
          },
          {
            "id": "metrics_table",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e2e8f0",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "metrics_table_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "**Current Performance Summary**",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "performance_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ resource_metrics || [] }}",
                  "columns": [
                    {
                      "field": "resource_name",
                      "header": "Resource"
                    },
                    {
                      "field": "resource_type",
                      "header": "Type",
                      "width": "100px"
                    },
                    {
                      "field": "availability_percent",
                      "header": "Availability",
                      "type": "number",
                      "width": "100px",
                      "render": "={{ row.availability_percent ? row.availability_percent.toFixed(1) + '%' : 'N/A' }}"
                    },
                    {
                      "field": "avg_response_time_ms",
                      "header": "Avg Response",
                      "type": "number", 
                      "width": "120px",
                      "render": "={{ row.avg_response_time_ms ? row.avg_response_time_ms.toFixed(0) + 'ms' : 'N/A' }}"
                    },
                    {
                      "field": "error_count",
                      "header": "Errors",
                      "type": "number",
                      "width": "80px"
                    },
                    {
                      "field": "last_check",
                      "header": "Last Check", 
                      "type": "datetime",
                      "width": "140px"
                    }
                  ],
                  "pagination": false,
                  "sortable": true
                }
              }
            ]
          }
        ]
      },
      "actions": {
        "type": "containercomponent",
        "components": [
          {
            "id": "actions_header",
            "type": "textcomponent",
            "configuration": {
              "text": "### âš¡ Quick Actions & System Management",
              "style": {"marginBottom": "20px"}
            }
          },
          {
            "id": "system_actions",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fit, minmax(200px, 1fr))",
                "gap": "15px",
                "marginBottom": "30px"
              }
            },
            "components": [
              {
                "id": "discover_action",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f7fafc",
                    "border": "1px solid #e2e8f0",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "discover_title",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**ðŸ” Resource Discovery**",
                      "style": {"marginBottom": "10px"}
                    }
                  },
                  {
                    "id": "discover_desc",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "Scan for new resources",
                      "style": {"fontSize": "12px", "color": "#4a5568", "marginBottom": "15px"}
                    }
                  },
                  {
                    "id": "discover_btn",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "Run Discovery",
                      "color": "primary",
                      "size": "small",
                      "onClick": {
                        "type": "webhook",
                        "url": "http://localhost:5678/webhook/discover-resources",
                        "method": "POST"
                      }
                    }
                  }
                ]
              },
              {
                "id": "test_alerts_action",
                "type": "containercomponent", 
                "configuration": {
                  "style": {
                    "backgroundColor": "#fff5f5",
                    "border": "1px solid #fc8181",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "test_alerts_title",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**ðŸš¨ Test Alerts**",
                      "style": {"marginBottom": "10px"}
                    }
                  },
                  {
                    "id": "test_alerts_desc",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "Send test notification",
                      "style": {"fontSize": "12px", "color": "#4a5568", "marginBottom": "15px"}
                    }
                  },
                  {
                    "id": "test_alerts_btn",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "Send Test Alert",
                      "color": "warning",
                      "size": "small",
                      "onClick": {
                        "type": "webhook",
                        "url": "http://localhost:5678/webhook/alert-handler",
                        "method": "POST",
                        "data": {
                          "resource_name": "test",
                          "severity": "info", 
                          "message": "Test alert from monitoring dashboard",
                          "source": "manual"
                        }
                      }
                    }
                  }
                ]
              },
              {
                "id": "clear_cache_action",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fffaf0",
                    "border": "1px solid #ed8936",
                    "borderRadius": "8px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "clear_cache_title",
                    "type": "textcomponent", 
                    "configuration": {
                      "text": "**ðŸ—‘ï¸ Clear Cache**",
                      "style": {"marginBottom": "10px"}
                    }
                  },
                  {
                    "id": "clear_cache_desc",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "Clear Redis status cache",
                      "style": {"fontSize": "12px", "color": "#4a5568", "marginBottom": "15px"}
                    }
                  },
                  {
                    "id": "clear_cache_btn",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "Clear Cache",
                      "color": "warning",
                      "size": "small",
                      "onClick": {
                        "type": "confirm_action",
                        "message": "Clear all cached monitoring data?",
                        "action": {
                          "type": "run_query",
                          "query": "clear_redis_cache"
                        }
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "id": "bulk_actions",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e2e8f0", 
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "bulk_actions_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "**ðŸŽ›ï¸ Bulk Actions**",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "bulk_actions_warning",
                "type": "textcomponent",
                "configuration": {
                  "text": "âš ï¸ **Warning:** These actions affect multiple resources. Use with caution.",
                  "style": {
                    "fontSize": "12px",
                    "color": "#d69e2e",
                    "backgroundColor": "#fffaf0", 
                    "padding": "10px",
                    "borderRadius": "4px",
                    "marginBottom": "15px"
                  }
                }
              },
              {
                "id": "bulk_buttons",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "display": "flex",
                    "gap": "15px",
                    "flexWrap": "wrap"
                  }
                },
                "components": [
                  {
                    "id": "restart_critical_btn",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "ðŸ”„ Restart Critical Services",
                      "color": "danger",
                      "size": "small",
                      "onClick": {
                        "type": "confirm_action",
                        "message": "Restart ALL critical services? This will cause temporary downtime.",
                        "action": {
                          "type": "run_query",
                          "query": "restart_critical_services"
                        }
                      }
                    }
                  },
                  {
                    "id": "health_check_all_btn",
                    "type": "buttoncomponent", 
                    "configuration": {
                      "text": "ðŸ” Health Check All",
                      "color": "info",
                      "size": "small",
                      "onClick": {
                        "type": "run_query",
                        "query": "health_check_all_resources"
                      }
                    }
                  },
                  {
                    "id": "export_metrics_btn",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "ðŸ“Š Export Metrics",
                      "color": "success",
                      "size": "small",
                      "onClick": {
                        "type": "run_query",
                        "query": "export_metrics_data"
                      }
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  },
  "queries": {
    "get_resources": {
      "type": "postgresql",
      "query": "SELECT r.*, rs.active_alerts, rs.alerts_24h FROM resource_monitoring.resource_status_summary rs JOIN resource_monitoring.resources r ON r.id = rs.id ORDER BY r.is_critical DESC, r.resource_name",
      "runOnLoad": true,
      "refetchInterval": 30000
    },
    "get_health_summary": {
      "type": "postgresql", 
      "query": "SELECT * FROM resource_monitoring.get_resource_health_summary()",
      "runOnLoad": true,
      "refetchInterval": 30000
    },
    "get_recent_alerts": {
      "type": "postgresql",
      "query": "SELECT ah.*, r.resource_name FROM resource_monitoring.alert_history ah JOIN resource_monitoring.resources r ON ah.resource_id = r.id WHERE ah.alert_time > NOW() - INTERVAL '24 hours' ORDER BY ah.alert_time DESC LIMIT 20",
      "runOnLoad": true,
      "refetchInterval": 60000
    },
    "get_metrics_data": {
      "type": "questdb",
      "query": "SELECT timestamp, resource_name, resource_type, value as availability_percent, response_time_ms FROM resource_metrics WHERE timestamp > dateadd('h', -{{ time_range || '24' }}, now()) ORDER BY timestamp DESC",
      "runOnLoad": true,
      "refetchInterval": 60000
    },
    "execute_action": {
      "type": "postgresql",
      "query": "INSERT INTO resource_monitoring.action_history (resource_id, action_name, executed_by, success) VALUES ({{ resource_id }}, '{{ action }}', 'dashboard_user', true)",
      "runOnLoad": false
    },
    "clear_redis_cache": {
      "type": "redis",
      "command": "FLUSHDB",
      "runOnLoad": false
    }
  },
  "variables": {
    "time_range": "24h",
    "alert_filter": "all", 
    "auto_refresh": true,
    "resource_count": 0,
    "healthy_count": 0,
    "degraded_count": 0,
    "down_count": 0,
    "availability_percent": 0
  }
}