{
  "value": {
    "grid": [
      {
        "id": "header",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "title": "AI Content Assistant",
            "subtitle": "Campaign-based content management with intelligent AI generation",
            "style": {
              "backgroundColor": "#f8fafc",
              "padding": "1.5rem",
              "borderRadius": "0.5rem",
              "marginBottom": "1rem",
              "borderLeft": "4px solid #2563eb"
            }
          },
          "componentInput": {},
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "header-actions",
              "data": [
                {
                  "id": "new-campaign-button",
                  "data": {
                    "type": "buttoncomponent",
                    "configuration": {
                      "label": "New Campaign",
                      "color": "blue",
                      "size": "sm",
                      "beforeIcon": "Plus",
                      "loading": false
                    },
                    "componentInput": {
                      "onSuccess": {
                        "type": "runscript",
                        "script": "ai-content-assistant/create-campaign"
                      }
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      
      {
        "id": "campaign-tabs",
        "data": {
          "type": "tabscomponent",
          "configuration": {
            "tabsConfiguration": "dynamic",
            "dynamic": {
              "source": "api",
              "endpoint": "/api/ai-content-assistant/campaigns",
              "method": "GET",
              "labelKey": "name",
              "valueKey": "id"
            }
          },
          "componentInput": {
            "onTabChange": {
              "type": "setstate",
              "key": "currentCampaignId",
              "value": "={{ $result }}"
            }
          },
          "customCss": {
            ".windmill-tab": {
              "padding": "0.75rem 1rem",
              "margin": "0 0.25rem",
              "borderRadius": "0.375rem"
            },
            ".windmill-tab.active": {
              "backgroundColor": "#2563eb",
              "color": "white"
            }
          },
          "tabs": [],
          "subgrids": [
            {
              "id": "campaign-content",
              "data": [
                
                {
                  "id": "main-workspace",
                  "data": {
                    "type": "containercomponent",
                    "configuration": {
                      "title": "",
                      "style": {
                        "display": "grid",
                        "gridTemplateColumns": "1fr 2fr",
                        "gap": "1rem",
                        "padding": "1rem 0"
                      }
                    },
                    "componentInput": {},
                    "customCss": {},
                    "tabs": [],
                    "subgrids": [
                      {
                        "id": "document-sidebar",
                        "data": [
                          
                          {
                            "id": "document-manager",
                            "data": {
                              "type": "containercomponent",
                              "configuration": {
                                "title": "Campaign Documents",
                                "collapsible": false,
                                "style": {
                                  "backgroundColor": "#f9fafb",
                                  "padding": "1rem",
                                  "borderRadius": "0.5rem",
                                  "border": "1px solid #e5e7eb"
                                }
                              },
                              "componentInput": {},
                              "customCss": {},
                              "tabs": [],
                              "subgrids": [
                                {
                                  "id": "document-upload",
                                  "data": [
                                    {
                                      "id": "file-upload",
                                      "data": {
                                        "type": "fileinputcomponent",
                                        "configuration": {
                                          "label": "Upload Document",
                                          "acceptedFileTypes": ["application/pdf", "application/vnd.openxmlformats-officedocument.wordprocessingml.document", "text/plain", "text/markdown"],
                                          "multiple": false,
                                          "placeholder": "Drop files here or click to browse"
                                        },
                                        "componentInput": {
                                          "onUpload": {
                                            "type": "runworkflow",
                                            "workflow": "document-processing",
                                            "payload": {
                                              "campaign_id": "={{ $state.currentCampaignId }}",
                                              "session_id": "={{ $session.id }}",
                                              "user_identifier": "{{ $user.username }}"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    
                                    {
                                      "id": "document-search",
                                      "data": {
                                        "type": "textinputcomponent",
                                        "configuration": {
                                          "label": "Search Documents",
                                          "placeholder": "Search within campaign documents...",
                                          "beforeIcon": "Search"
                                        },
                                        "componentInput": {
                                          "onInput": {
                                            "type": "runworkflow",
                                            "workflow": "search-retrieval",
                                            "payload": {
                                              "campaign_id": "={{ $state.currentCampaignId }}",
                                              "query": "={{ $value }}",
                                              "search_type": "semantic",
                                              "limit": 10
                                            }
                                          }
                                        }
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          },
                          
                          {
                            "id": "document-list",
                            "data": {
                              "type": "aggridcomponent",
                              "configuration": {
                                "columnDefs": [
                                  {
                                    "field": "original_filename",
                                    "headerName": "Document",
                                    "flex": 2,
                                    "cellRenderer": "agGroupCellRenderer"
                                  },
                                  {
                                    "field": "upload_date",
                                    "headerName": "Uploaded",
                                    "flex": 1,
                                    "cellRenderer": "dateRenderer"
                                  },
                                  {
                                    "field": "processing_status",
                                    "headerName": "Status",
                                    "flex": 1,
                                    "cellRenderer": "statusRenderer"
                                  }
                                ],
                                "defaultColDef": {
                                  "sortable": true,
                                  "filter": true,
                                  "resizable": true
                                },
                                "rowSelection": "multiple",
                                "pagination": true,
                                "paginationPageSize": 10
                              },
                              "componentInput": {
                                "rowData": {
                                  "type": "api",
                                  "endpoint": "/api/ai-content-assistant/campaigns/{{ $state.currentCampaignId }}/documents",
                                  "method": "GET"
                                },
                                "onSelectionChange": {
                                  "type": "setstate",
                                  "key": "selectedDocuments",
                                  "value": "={{ $result }}"
                                }
                              }
                            }
                          }
                        ]
                      },
                      
                      {
                        "id": "content-workspace",
                        "data": [
                          
                          {
                            "id": "context-preview",
                            "data": {
                              "type": "containercomponent",
                              "configuration": {
                                "title": "Document Context",
                                "collapsible": true,
                                "collapsed": false,
                                "style": {
                                  "backgroundColor": "#eff6ff",
                                  "padding": "1rem",
                                  "borderRadius": "0.5rem",
                                  "border": "1px solid #bfdbfe",
                                  "marginBottom": "1rem",
                                  "maxHeight": "300px",
                                  "overflow": "auto"
                                }
                              },
                              "componentInput": {},
                              "customCss": {},
                              "tabs": [],
                              "subgrids": [
                                {
                                  "id": "context-content",
                                  "data": [
                                    {
                                      "id": "context-text",
                                      "data": {
                                        "type": "displaycomponent",
                                        "configuration": {
                                          "label": "",
                                          "style": {
                                            "fontSize": "0.875rem",
                                            "lineHeight": "1.5",
                                            "color": "#374151"
                                          }
                                        },
                                        "componentInput": {
                                          "value": "{{ $state.contextPreview || 'Select documents or search to see relevant context for content generation...' }}"
                                        }
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          },
                          
                          {
                            "id": "content-generator",
                            "data": {
                              "type": "containercomponent",
                              "configuration": {
                                "title": "Content Generator",
                                "style": {
                                  "backgroundColor": "#ffffff",
                                  "padding": "1rem",
                                  "borderRadius": "0.5rem",
                                  "border": "1px solid #d1d5db"
                                }
                              },
                              "componentInput": {},
                              "customCss": {},
                              "tabs": [],
                              "subgrids": [
                                {
                                  "id": "generation-controls",
                                  "data": [
                                    {
                                      "id": "content-type-selector",
                                      "data": {
                                        "type": "selectcomponent",
                                        "configuration": {
                                          "label": "Content Type",
                                          "placeholder": "Select content type"
                                        },
                                        "componentInput": {
                                          "items": [
                                            {"value": "blog_post", "label": "Blog Post"},
                                            {"value": "social_media", "label": "Social Media Post"},
                                            {"value": "email", "label": "Email Content"},
                                            {"value": "marketing_copy", "label": "Marketing Copy"},
                                            {"value": "product_description", "label": "Product Description"}
                                          ],
                                          "defaultValue": "blog_post"
                                        }
                                      }
                                    },
                                    
                                    {
                                      "id": "content-prompt",
                                      "data": {
                                        "type": "textareainputcomponent",
                                        "configuration": {
                                          "label": "Content Request",
                                          "placeholder": "Describe the content you want to generate. Be specific about tone, key points, target audience, etc.",
                                          "rows": 4
                                        },
                                        "componentInput": {
                                          "defaultValue": ""
                                        }
                                      }
                                    },
                                    
                                    {
                                      "id": "generation-settings",
                                      "data": {
                                        "type": "containercomponent",
                                        "configuration": {
                                          "title": "Generation Settings",
                                          "collapsible": true,
                                          "collapsed": true,
                                          "style": {
                                            "marginTop": "1rem"
                                          }
                                        },
                                        "componentInput": {},
                                        "customCss": {},
                                        "tabs": [],
                                        "subgrids": [
                                          {
                                            "id": "advanced-settings",
                                            "data": [
                                              {
                                                "id": "temperature-slider",
                                                "data": {
                                                  "type": "sliderinputcomponent",
                                                  "configuration": {
                                                    "label": "Creativity Level",
                                                    "min": 0.1,
                                                    "max": 1.0,
                                                    "step": 0.1
                                                  },
                                                  "componentInput": {
                                                    "defaultValue": 0.7
                                                  }
                                                }
                                              },
                                              
                                              {
                                                "id": "max-tokens-input",
                                                "data": {
                                                  "type": "numberinputcomponent",
                                                  "configuration": {
                                                    "label": "Max Length (tokens)",
                                                    "min": 100,
                                                    "max": 4000
                                                  },
                                                  "componentInput": {
                                                    "defaultValue": 2048
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    },
                                    
                                    {
                                      "id": "generate-button",
                                      "data": {
                                        "type": "buttoncomponent",
                                        "configuration": {
                                          "label": "Generate Content",
                                          "color": "blue",
                                          "size": "lg",
                                          "beforeIcon": "Sparkles",
                                          "loading": false,
                                          "disabled": false
                                        },
                                        "componentInput": {
                                          "onSuccess": {
                                            "type": "runworkflow",
                                            "workflow": "content-generation",
                                            "payload": {
                                              "campaign_id": "={{ $state.currentCampaignId }}",
                                              "content_type": "={{ $component.contentTypeSelector.value }}",
                                              "prompt": "={{ $component.contentPrompt.value }}",
                                              "title": "={{ $component.contentTitle?.value || '' }}",
                                              "temperature": "={{ $component.temperatureSlider?.value || 0.7 }}",
                                              "max_tokens": "={{ $component.maxTokensInput?.value || 2048 }}",
                                              "session_id": "={{ $session.id }}",
                                              "user_identifier": "{{ $user.username }}"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          },
                          
                          {
                            "id": "generated-content",
                            "data": {
                              "type": "containercomponent",
                              "configuration": {
                                "title": "Generated Content",
                                "style": {
                                  "backgroundColor": "#f0f9ff",
                                  "padding": "1rem",
                                  "borderRadius": "0.5rem",
                                  "border": "1px solid #0ea5e9",
                                  "marginTop": "1rem"
                                }
                              },
                              "componentInput": {},
                              "customCss": {},
                              "tabs": [],
                              "subgrids": [
                                {
                                  "id": "content-display",
                                  "data": [
                                    {
                                      "id": "content-output",
                                      "data": {
                                        "type": "textareainputcomponent",
                                        "configuration": {
                                          "label": "",
                                          "readonly": false,
                                          "rows": 15,
                                          "placeholder": "Generated content will appear here..."
                                        },
                                        "componentInput": {
                                          "value": "{{ $state.generatedContent || '' }}"
                                        }
                                      }
                                    },
                                    
                                    {
                                      "id": "content-actions",
                                      "data": {
                                        "type": "containercomponent",
                                        "configuration": {
                                          "style": {
                                            "display": "flex",
                                            "gap": "0.5rem",
                                            "marginTop": "1rem"
                                          }
                                        },
                                        "componentInput": {},
                                        "customCss": {},
                                        "tabs": [],
                                        "subgrids": [
                                          {
                                            "id": "action-buttons",
                                            "data": [
                                              {
                                                "id": "copy-button",
                                                "data": {
                                                  "type": "buttoncomponent",
                                                  "configuration": {
                                                    "label": "Copy",
                                                    "color": "gray",
                                                    "size": "sm",
                                                    "beforeIcon": "Copy"
                                                  },
                                                  "componentInput": {
                                                    "onSuccess": {
                                                      "type": "copytoClipboard",
                                                      "value": "={{ $component.contentOutput.value }}"
                                                    }
                                                  }
                                                }
                                              },
                                              
                                              {
                                                "id": "save-button",
                                                "data": {
                                                  "type": "buttoncomponent",
                                                  "configuration": {
                                                    "label": "Save",
                                                    "color": "green",
                                                    "size": "sm",
                                                    "beforeIcon": "Save"
                                                  },
                                                  "componentInput": {
                                                    "onSuccess": {
                                                      "type": "api",
                                                      "endpoint": "/api/ai-content-assistant/content/save",
                                                      "method": "POST",
                                                      "payload": {
                                                        "content": "={{ $component.contentOutput.value }}",
                                                        "campaign_id": "={{ $state.currentCampaignId }}"
                                                      }
                                                    }
                                                  }
                                                }
                                              },
                                              
                                              {
                                                "id": "regenerate-button",
                                                "data": {
                                                  "type": "buttoncomponent",
                                                  "configuration": {
                                                    "label": "Regenerate",
                                                    "color": "blue",
                                                    "size": "sm",
                                                    "beforeIcon": "RefreshCw"
                                                  },
                                                  "componentInput": {
                                                    "onSuccess": {
                                                      "type": "runworkflow",
                                                      "workflow": "content-generation",
                                                      "payload": {
                                                        "campaign_id": "={{ $state.currentCampaignId }}",
                                                        "content_type": "={{ $component.contentTypeSelector.value }}",
                                                        "prompt": "={{ $component.contentPrompt.value }}",
                                                        "temperature": "={{ ($component.temperatureSlider?.value || 0.7) + 0.1 }}",
                                                        "max_tokens": "={{ $component.maxTokensInput?.value || 2048 }}",
                                                        "session_id": "={{ $session.id }}",
                                                        "user_identifier": "{{ $user.username }}"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      },
      
      {
        "id": "content-history",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "title": "Content Generation History",
            "collapsible": true,
            "collapsed": true,
            "style": {
              "marginTop": "2rem",
              "padding": "1rem",
              "backgroundColor": "#fefce8",
              "borderRadius": "0.5rem",
              "border": "1px solid #eab308"
            }
          },
          "componentInput": {},
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "history-content",
              "data": [
                {
                  "id": "history-table",
                  "data": {
                    "type": "aggridcomponent",
                    "configuration": {
                      "columnDefs": [
                        {
                          "field": "title",
                          "headerName": "Title",
                          "flex": 2
                        },
                        {
                          "field": "content_type",
                          "headerName": "Type",
                          "flex": 1
                        },
                        {
                          "field": "created_at",
                          "headerName": "Generated",
                          "flex": 1,
                          "cellRenderer": "dateRenderer"
                        },
                        {
                          "field": "generation_time_ms",
                          "headerName": "Time (ms)",
                          "flex": 1
                        },
                        {
                          "field": "actions",
                          "headerName": "Actions",
                          "flex": 1,
                          "cellRenderer": "actionRenderer"
                        }
                      ],
                      "defaultColDef": {
                        "sortable": true,
                        "filter": true,
                        "resizable": true
                      },
                      "rowSelection": "single",
                      "pagination": true,
                      "paginationPageSize": 20
                    },
                    "componentInput": {
                      "rowData": {
                        "type": "api",
                        "endpoint": "/api/ai-content-assistant/campaigns/{{ $state.currentCampaignId }}/content",
                        "method": "GET"
                      },
                      "onRowClick": {
                        "type": "setstate",
                        "key": "generatedContent",
                        "value": "={{ $result.generated_content }}"
                      }
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      
      {
        "id": "footer",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "style": {
              "padding": "1rem",
              "backgroundColor": "#f8fafc",
              "borderRadius": "0.5rem",
              "marginTop": "2rem",
              "textAlign": "center",
              "fontSize": "0.875rem",
              "color": "#64748b"
            }
          },
          "componentInput": {},
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "footer-content",
              "data": [
                {
                  "id": "footer-text",
                  "data": {
                    "type": "displaycomponent",
                    "configuration": {
                      "label": ""
                    },
                    "componentInput": {
                      "value": "AI Content Assistant v1.0.0 | Campaign-based content management with intelligent context | Powered by Vrooli AI Platform"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    ]
  },
  
  "summary": "AI Content Assistant - Campaign Management Dashboard",
  
  "path": "ai-content-assistant/dashboard",
  
  "policy": {
    "on_behalf_of": "u/admin",
    "on_behalf_of_email": "admin@vrooli.com"
  },
  
  "versions": [],
  
  "schema": {
    "type": "object",
    "properties": {
      "currentCampaignId": {
        "type": "string",
        "description": "Currently selected campaign ID"
      },
      "selectedDocuments": {
        "type": "array",
        "items": {"type": "string"},
        "description": "IDs of selected documents"
      },
      "contextPreview": {
        "type": "string",
        "description": "Preview of document context for generation"
      },
      "generatedContent": {
        "type": "string",
        "description": "Latest generated content"
      },
      "contentType": {
        "type": "string",
        "enum": ["blog_post", "social_media", "email", "marketing_copy", "product_description"],
        "default": "blog_post"
      },
      "generationSettings": {
        "type": "object",
        "properties": {
          "temperature": {"type": "number", "minimum": 0.1, "maximum": 1.0, "default": 0.7},
          "max_tokens": {"type": "integer", "minimum": 100, "maximum": 4000, "default": 2048}
        }
      }
    },
    "required": []
  },
  
  "extra_perms": {},
  
  "execution_mode": "viewer",
  
  "draft_only": false,
  
  "tag": "ai-content-assistant-dashboard",
  
  "ws_error_handler_muted": false,
  
  "bg_runs_enabled": true,
  
  "visible_to_runner_only": false,
  
  "no_logs": false
}