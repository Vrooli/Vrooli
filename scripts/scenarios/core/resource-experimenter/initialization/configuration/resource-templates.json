{
  "resource_templates": {
    "ai": {
      "llm_api_service": {
        "name": "Large Language Model API Service",
        "description": "Template for LLM API services like OpenAI-compatible endpoints",
        "default_port": 8000,
        "internal_port": 8000,
        "protocol": "http",
        "health_check_path": "/health",
        "api_prefix": "/v1",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "environment_variables": {
          "MODEL_NAME": "default-model",
          "MAX_TOKENS": "4096",
          "TEMPERATURE": "0.7",
          "API_KEY": "generated"
        },
        "volumes": [
          "/models:/models:ro",
          "/cache:/cache"
        ],
        "command_args": ["--host", "0.0.0.0", "--port", "8000"],
        "test_endpoints": [
          "/health",
          "/v1/models",
          "/v1/chat/completions"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 8
      },
      "embedding_service": {
        "name": "Text Embedding Service",
        "description": "Template for text embedding APIs",
        "default_port": 8001,
        "internal_port": 8001,
        "protocol": "http",
        "health_check_path": "/health",
        "api_prefix": "/v1",
        "memory_limit": "1g",
        "cpu_limit": "1.0",
        "environment_variables": {
          "MODEL_PATH": "/models/embeddings",
          "BATCH_SIZE": "32",
          "MAX_LENGTH": "512"
        },
        "test_endpoints": [
          "/health",
          "/v1/embeddings"
        ],
        "integration_complexity": "easy",
        "estimated_hours": 4
      },
      "computer_vision": {
        "name": "Computer Vision Service",
        "description": "Template for image processing and computer vision APIs",
        "default_port": 8002,
        "internal_port": 8002,
        "protocol": "http",
        "health_check_path": "/health",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "environment_variables": {
          "MODEL_PATH": "/models/vision",
          "MAX_IMAGE_SIZE": "10MB"
        },
        "volumes": [
          "/models:/models:ro",
          "/uploads:/uploads"
        ],
        "test_endpoints": [
          "/health",
          "/predict",
          "/analyze"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 10
      }
    },
    "automation": {
      "workflow_engine": {
        "name": "Workflow Engine",
        "description": "Template for workflow automation engines like n8n alternatives",
        "default_port": 5678,
        "internal_port": 5678,
        "protocol": "http",
        "health_check_path": "/healthz",
        "memory_limit": "1g",
        "cpu_limit": "1.0",
        "environment_variables": {
          "NODE_ENV": "production",
          "DB_TYPE": "sqlite",
          "EXECUTIONS_PROCESS": "main"
        },
        "volumes": [
          "/data:/home/node/.n8n",
          "/workflows:/workflows"
        ],
        "test_endpoints": [
          "/healthz",
          "/rest/login",
          "/rest/workflows"
        ],
        "integration_complexity": "hard",
        "estimated_hours": 16
      },
      "ci_cd_runner": {
        "name": "CI/CD Runner",
        "description": "Template for continuous integration and deployment runners",
        "default_port": 8080,
        "internal_port": 8080,
        "protocol": "http",
        "health_check_path": "/health",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "environment_variables": {
          "RUNNER_TOKEN": "generated",
          "RUNNER_NAME": "vrooli-runner",
          "CONCURRENT_JOBS": "4"
        },
        "volumes": [
          "/var/run/docker.sock:/var/run/docker.sock",
          "/cache:/cache"
        ],
        "privileged": true,
        "test_endpoints": [
          "/health",
          "/api/v1/jobs"
        ],
        "integration_complexity": "extreme",
        "estimated_hours": 24
      },
      "task_scheduler": {
        "name": "Task Scheduler", 
        "description": "Template for cron-like task scheduling services",
        "default_port": 3000,
        "internal_port": 3000,
        "protocol": "http",
        "health_check_path": "/health",
        "memory_limit": "512m",
        "cpu_limit": "0.5",
        "environment_variables": {
          "TIMEZONE": "UTC",
          "MAX_JOBS": "100",
          "LOG_LEVEL": "info"
        },
        "volumes": [
          "/data:/data",
          "/logs:/logs"
        ],
        "test_endpoints": [
          "/health",
          "/api/jobs",
          "/api/schedules"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 12
      }
    },
    "storage": {
      "database": {
        "name": "Database Service",
        "description": "Template for database services (SQL and NoSQL)",
        "default_port": 5432,
        "internal_port": 5432,
        "protocol": "tcp",
        "health_check_path": null,
        "health_check_command": "pg_isready -U postgres",
        "memory_limit": "1g",
        "cpu_limit": "1.0",
        "environment_variables": {
          "POSTGRES_USER": "vrooli",
          "POSTGRES_PASSWORD": "generated",
          "POSTGRES_DB": "vrooli_db"
        },
        "volumes": [
          "/data:/var/lib/postgresql/data",
          "/init:/docker-entrypoint-initdb.d"
        ],
        "test_commands": [
          "psql -h localhost -U vrooli -d vrooli_db -c 'SELECT 1;'"
        ],
        "integration_complexity": "easy",
        "estimated_hours": 6
      },
      "object_storage": {
        "name": "Object Storage Service",
        "description": "Template for S3-compatible object storage services",
        "default_port": 9000,
        "internal_port": 9000,
        "protocol": "http",
        "health_check_path": "/minio/health/live",
        "memory_limit": "1g",
        "cpu_limit": "1.0",
        "environment_variables": {
          "MINIO_ROOT_USER": "vrooli",
          "MINIO_ROOT_PASSWORD": "generated",
          "MINIO_CONSOLE_ADDRESS": ":9001"
        },
        "volumes": [
          "/data:/data"
        ],
        "additional_ports": [9001],
        "test_endpoints": [
          "/minio/health/live",
          "/minio/health/ready"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 8
      },
      "cache_service": {
        "name": "Cache Service",
        "description": "Template for Redis-like cache services",
        "default_port": 6379,
        "internal_port": 6379,
        "protocol": "tcp",
        "health_check_command": "redis-cli ping",
        "memory_limit": "512m",
        "cpu_limit": "0.5",
        "environment_variables": {
          "REDIS_PASSWORD": "generated"
        },
        "volumes": [
          "/data:/data"
        ],
        "test_commands": [
          "redis-cli -h localhost -a $REDIS_PASSWORD ping"
        ],
        "integration_complexity": "easy",
        "estimated_hours": 4
      }
    },
    "monitoring": {
      "metrics_collector": {
        "name": "Metrics Collector",
        "description": "Template for Prometheus-like metrics collection services",
        "default_port": 9090,
        "internal_port": 9090,
        "protocol": "http",
        "health_check_path": "/-/healthy",
        "memory_limit": "1g",
        "cpu_limit": "1.0",
        "environment_variables": {
          "STORAGE_RETENTION": "15d",
          "STORAGE_RETENTION_SIZE": "10GB"
        },
        "volumes": [
          "/data:/prometheus",
          "/config:/etc/prometheus"
        ],
        "test_endpoints": [
          "/-/healthy",
          "/-/ready",
          "/api/v1/status/config"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 10
      },
      "log_aggregator": {
        "name": "Log Aggregator",
        "description": "Template for log collection and analysis services",
        "default_port": 9200,
        "internal_port": 9200,
        "protocol": "http",
        "health_check_path": "/_cluster/health",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "environment_variables": {
          "discovery.type": "single-node",
          "ES_JAVA_OPTS": "-Xmx1g -Xms1g"
        },
        "volumes": [
          "/data:/usr/share/elasticsearch/data"
        ],
        "test_endpoints": [
          "/_cluster/health",
          "/_cat/indices"
        ],
        "integration_complexity": "hard",
        "estimated_hours": 16
      }
    },
    "search": {
      "search_engine": {
        "name": "Search Engine",
        "description": "Template for Elasticsearch-like search engines",
        "default_port": 9200,
        "internal_port": 9200,
        "protocol": "http",
        "health_check_path": "/_cluster/health",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "environment_variables": {
          "discovery.type": "single-node",
          "xpack.security.enabled": "false"
        },
        "volumes": [
          "/data:/usr/share/elasticsearch/data"
        ],
        "test_endpoints": [
          "/_cluster/health",
          "/_search"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 12
      }
    },
    "execution": {
      "code_runner": {
        "name": "Code Execution Service",
        "description": "Template for code execution and sandboxing services",
        "default_port": 2358,
        "internal_port": 2358,
        "protocol": "http",
        "health_check_path": "/system_info",
        "memory_limit": "2g",
        "cpu_limit": "2.0",
        "privileged": true,
        "environment_variables": {
          "ENABLE_BATCHED_SUBMISSIONS": "true",
          "ENABLE_WAIT_RESULT": "true",
          "ENABLE_COMPILER_OPTIONS": "true"
        },
        "volumes": [
          "/tmp:/tmp"
        ],
        "test_endpoints": [
          "/system_info",
          "/languages"
        ],
        "integration_complexity": "extreme",
        "estimated_hours": 20
      }
    },
    "other": {
      "web_service": {
        "name": "Generic Web Service",
        "description": "Template for generic HTTP web services",
        "default_port": 8080,
        "internal_port": 8080,
        "protocol": "http",
        "health_check_path": "/health",
        "memory_limit": "512m",
        "cpu_limit": "0.5",
        "environment_variables": {
          "PORT": "8080",
          "NODE_ENV": "production"
        },
        "test_endpoints": [
          "/health"
        ],
        "integration_complexity": "easy",
        "estimated_hours": 4
      },
      "api_gateway": {
        "name": "API Gateway",
        "description": "Template for API gateway and proxy services",
        "default_port": 80,
        "internal_port": 80,
        "protocol": "http",
        "health_check_path": "/status",
        "memory_limit": "512m",
        "cpu_limit": "1.0",
        "environment_variables": {
          "UPSTREAM_SERVERS": "backend:8080",
          "RATE_LIMIT": "100/min"
        },
        "volumes": [
          "/config:/etc/nginx/conf.d"
        ],
        "test_endpoints": [
          "/status",
          "/api/health"
        ],
        "integration_complexity": "moderate",
        "estimated_hours": 8
      }
    }
  },
  "template_settings": {
    "variable_substitution": {
      "resource_name": "{{resource_name}}",
      "resource_type": "{{resource_type}}",
      "display_name": "{{display_name}}",
      "description": "{{description}}",
      "docker_image": "{{docker_image}}",
      "docker_tag": "{{docker_tag}}",
      "default_port": "{{default_port}}",
      "internal_port": "{{internal_port}}",
      "protocol": "{{protocol}}",
      "health_check_path": "{{health_check_path}}",
      "memory_limit": "{{memory_limit}}",
      "cpu_limit": "{{cpu_limit}}"
    },
    "generation_options": {
      "include_bats_tests": true,
      "include_documentation": true,
      "include_examples": true,
      "generate_docker_compose": true,
      "generate_kubernetes_manifests": false,
      "include_monitoring": true
    },
    "validation": {
      "required_fields": ["name", "description", "default_port"],
      "port_range": [1024, 65535],
      "max_memory_limit": "16g",
      "max_cpu_limit": 8.0
    }
  },
  "auto_detection": {
    "port_detection": {
      "common_ports": {
        "3000": "web_service",
        "5432": "database",
        "6379": "cache_service",
        "8080": "web_service",
        "9000": "object_storage",
        "9090": "metrics_collector",
        "9200": "search_engine"
      },
      "dockerfile_patterns": {
        "EXPOSE (\\d+)": "extract_port",
        "ENV PORT[= ](\\d+)": "extract_port",
        "ENV.*DATABASE": "database",
        "ENV.*REDIS": "cache_service"
      }
    },
    "category_detection": {
      "keywords": {
        "ai": ["ai", "ml", "llm", "gpt", "bert", "tensorflow", "pytorch", "ollama"],
        "automation": ["workflow", "ci", "cd", "jenkins", "gitlab", "runner", "automation"],
        "storage": ["database", "db", "postgres", "mysql", "mongo", "redis", "cache"],
        "monitoring": ["prometheus", "grafana", "metrics", "monitoring", "observability"],
        "search": ["elasticsearch", "solr", "search", "index", "lucene"],
        "execution": ["judge", "runner", "sandbox", "compile", "execute"]
      },
      "docker_labels": {
        "org.vrooli.category": "direct_mapping",
        "org.label-schema.category": "mapping",
        "maintainer": "hint"
      }
    }
  }
}