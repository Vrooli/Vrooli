{
  "$schema": "../../../../.vrooli/schemas/service.schema.json",
  "version": "1.0.0",
  "service": {
    "parent": "vrooli",
    "name": "retro-game-launcher",
    "displayName": "Retro Game Launcher",
    "description": "Platform for launching and managing retro games with AI-generated game creation capabilities",
    "version": "1.0.0",
    "type": "business-application",
    "tags": [
      "gaming",
      "retro",
      "entertainment",
      "ai-generation"
    ],
    "maintainers": [
      {
        "name": "Vrooli Team",
        "email": "team@vrooli.com",
        "url": "https://github.com/Vrooli"
      }
    ]
  },
  "resources": {
    "storage": {
      "postgres": {
        "enabled": true,
        "config": {
          "database": "retro_games",
          "port": 5436,
          "username": "retro_user",
          "password": "${POSTGRES_PASSWORD}",
          "initialization": {
            "schema": "initialization/storage/postgres/schema.sql",
            "seed": "initialization/storage/postgres/seed.sql"
          }
        },
        "purpose": "Store game metadata, user progress, and settings"
      }
    },
    "automation": {
      "n8n": {
        "enabled": true,
        "config": {
          "workflows": [
            "initialization/automation/n8n/game-generation-workflow.json"
          ]
        },
        "purpose": "Orchestrate game generation and management workflows"
      },
      "windmill": {
        "enabled": true,
        "config": {
          "workspace": "retro_games",
          "apps": [
            "initialization/automation/windmill/retro-game-launcher-ui.json"
          ]
        },
        "purpose": "Game launcher UI and management interface"
      }
    },
    "ai": {
      "ollama": {
        "enabled": true,
        "models": [
          "llama3.2",
          "codellama"
        ],
        "purpose": "Generate game ideas and code"
      }
    }
  },
  "deployment": {
    "ports": {
      "windmill": 8001,
      "api": 8400,
      "n8n": 5679,
      "ui": 3400
    },
    "environment": {
      "NODE_ENV": "production",
      "LOG_LEVEL": "info",
      "RETRO_GAMES_API_PORT": "8400",
      "RETRO_GAMES_SECRET": "${RETRO_GAMES_SECRET}",
      "OLLAMA_BASE_URL": "http://localhost:11434",
      "POSTGRES_HOST": "localhost",
      "POSTGRES_PORT": "5436",
      "N8N_WEBHOOK_URL": "http://localhost:5679"
    }
  },
  "features": {
    "game_templates": {
      "enabled": true,
      "description": "Pre-built templates for various game types"
    },
    "ai_generation": {
      "enabled": true,
      "description": "Generate new games based on prompts"
    },
    "save_states": {
      "enabled": true,
      "description": "Save and load game states"
    }
  },
  "lifecycle": {
    "version": "1.0.0",
    "setup": {
      "description": "Initialize retro game launcher environment",
      "steps": [
        {
          "name": "inject-resource-data",
          "run": "scripts/resources/injection/engine.sh scripts/scenarios/core/retro-game-launcher/.vrooli/service.json",
          "description": "Inject SQL schemas, workflows, and configurations"
        },
        {
          "name": "show-access-urls",
          "run": "echo 'âœ… Retro Game Launcher initialized\\n  Game Launcher: http://localhost:${RESOURCE_PORTS[windmill]}\\n  Workflow Manager: http://localhost:${RESOURCE_PORTS[n8n]}\\n  Database Admin: http://localhost:8080'",
          "description": "Display service access URLs"
        }
      ]
    },
    "develop": {
      "description": "Start retro game launcher services",
      "steps": [
        {
          "name": "start-services",
          "run": "../deployment/startup.sh"
        }
      ]
    },
    "build": {
      "description": "Build retro game launcher artifacts",
      "steps": [
        {
          "name": "build-artifacts",
          "run": "./scripts/manage.sh build"
        }
      ]
    },
    "test": {
      "description": "Run retro game launcher tests",
      "steps": [
        {
          "name": "run-tests",
          "run": "./test.sh"
        }
      ]
    },
    "clean": {
      "description": "Clean build artifacts and temporary files",
      "steps": [
        {
          "name": "clean-artifacts",
          "run": "rm -rf dist/ build/ .next/ node_modules/ .cache/ || true"
        }
      ]
    }
  }
}