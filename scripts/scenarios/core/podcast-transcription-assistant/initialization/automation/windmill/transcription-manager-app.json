{
  "value": {
    "grid": [
      {
        "id": "app-header",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "title": "Podcast Transcription Assistant",
            "subtitle": "AI-powered transcription, search, and analysis",
            "style": {
              "backgroundColor": "#f8fafc",
              "padding": "1.5rem",
              "borderRadius": "0.5rem",
              "marginBottom": "1rem",
              "borderBottom": "2px solid #e2e8f0"
            }
          },
          "componentInput": {},
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "header-actions",
              "data": [
                {
                  "id": "upload-button",
                  "data": {
                    "type": "buttoncomponent",
                    "configuration": {
                      "label": "Upload Audio File",
                      "color": "blue",
                      "size": "lg",
                      "beforeIcon": "Upload",
                      "loading": false
                    },
                    "componentInput": {
                      "onClick": {
                        "type": "showModal",
                        "modalId": "upload-modal"
                      }
                    }
                  }
                },
                
                {
                  "id": "stats-summary",
                  "data": {
                    "type": "displaycomponent",
                    "configuration": {
                      "label": "Quick Stats"
                    },
                    "componentInput": {
                      "value": "3 transcriptions | 28 min total | Last: 2 hours ago"
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      
      {
        "id": "search-section",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "style": {
              "padding": "1rem",
              "backgroundColor": "#ffffff",
              "borderRadius": "0.5rem",
              "border": "1px solid #e2e8f0",
              "marginBottom": "1rem"
            }
          },
          "componentInput": {},
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "search-controls",
              "data": [
                {
                  "id": "search-input",
                  "data": {
                    "type": "textinputcomponent",
                    "configuration": {
                      "label": "Search Transcriptions",
                      "placeholder": "Enter keywords to search across all transcriptions...",
                      "beforeIcon": "Search"
                    },
                    "componentInput": {
                      "defaultValue": "",
                      "onInput": {
                        "type": "runscript",
                        "script": "search-handler/debounced-search"
                      }
                    }
                  }
                },
                
                {
                  "id": "search-button",
                  "data": {
                    "type": "buttoncomponent",
                    "configuration": {
                      "label": "Search",
                      "color": "green",
                      "size": "md",
                      "beforeIcon": "Search"
                    },
                    "componentInput": {
                      "onClick": {
                        "type": "runscript",
                        "script": "search-handler/execute-search"
                      }
                    }
                  }
                },
                
                {
                  "id": "view-toggle",
                  "data": {
                    "type": "selectcomponent",
                    "configuration": {
                      "label": "View",
                      "placeholder": "Select view"
                    },
                    "componentInput": {
                      "items": [
                        {"value": "grid", "label": "Grid View"},
                        {"value": "list", "label": "List View"}
                      ],
                      "defaultValue": "grid"
                    }
                  }
                },
                
                {
                  "id": "sort-select",
                  "data": {
                    "type": "selectcomponent",
                    "configuration": {
                      "label": "Sort by",
                      "placeholder": "Sort order"
                    },
                    "componentInput": {
                      "items": [
                        {"value": "created_desc", "label": "Newest First"},
                        {"value": "created_asc", "label": "Oldest First"},
                        {"value": "duration_desc", "label": "Longest First"},
                        {"value": "duration_asc", "label": "Shortest First"},
                        {"value": "filename_asc", "label": "Filename A-Z"}
                      ],
                      "defaultValue": "created_desc"
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      
      {
        "id": "transcriptions-grid",
        "data": {
          "type": "agGridComponent",
          "configuration": {
            "columnDefs": [
              {
                "field": "filename",
                "headerName": "Filename",
                "sortable": true,
                "filter": true,
                "width": 200,
                "cellRenderer": "agGroupCellRenderer",
                "cellRendererParams": {
                  "innerRenderer": "linkRenderer",
                  "innerRendererParams": {
                    "onClick": "viewTranscription"
                  }
                }
              },
              {
                "field": "duration_formatted",
                "headerName": "Duration",
                "sortable": true,
                "width": 100
              },
              {
                "field": "confidence_score",
                "headerName": "Confidence",
                "sortable": true,
                "width": 110,
                "cellRenderer": "progressRenderer"
              },
              {
                "field": "language_detected",
                "headerName": "Language",
                "sortable": true,
                "width": 100
              },
              {
                "field": "created_at_formatted",
                "headerName": "Created",
                "sortable": true,
                "width": 120
              },
              {
                "field": "actions",
                "headerName": "Actions",
                "width": 150,
                "cellRenderer": "actionButtonsRenderer"
              }
            ],
            "defaultColDef": {
              "resizable": true,
              "sortable": true
            },
            "pagination": true,
            "paginationPageSize": 20,
            "rowSelection": "multiple"
          },
          "componentInput": {
            "rowData": "={{ $transcriptionsList || [] }}"
          }
        }
      },
      
      {
        "id": "search-results",
        "data": {
          "type": "containercomponent",
          "configuration": {
            "title": "Search Results",
            "style": {
              "padding": "1rem",
              "backgroundColor": "#f0f9ff",
              "borderRadius": "0.5rem",
              "border": "1px solid #0ea5e9",
              "marginTop": "1rem",
              "display": "none"
            }
          },
          "componentInput": {
            "visible": "={{ $searchResults && $searchResults.length > 0 }}"
          },
          "customCss": {},
          "tabs": [],
          "subgrids": [
            {
              "id": "search-results-list",
              "data": [
                {
                  "id": "search-results-grid",
                  "data": {
                    "type": "agGridComponent",
                    "configuration": {
                      "columnDefs": [
                        {
                          "field": "filename",
                          "headerName": "Filename",
                          "sortable": true,
                          "width": 180
                        },
                        {
                          "field": "similarity_formatted",
                          "headerName": "Match",
                          "sortable": true,
                          "width": 80
                        },
                        {
                          "field": "snippet",
                          "headerName": "Preview",
                          "width": 300,
                          "cellRenderer": "textPreviewRenderer"
                        },
                        {
                          "field": "duration_formatted",
                          "headerName": "Duration",
                          "width": 100
                        },
                        {
                          "field": "actions",
                          "headerName": "Actions",
                          "width": 120,
                          "cellRenderer": "searchActionRenderer"
                        }
                      ],
                      "defaultColDef": {
                        "resizable": true
                      },
                      "pagination": true,
                      "paginationPageSize": 10
                    },
                    "componentInput": {
                      "rowData": "={{ $searchResults || [] }}"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    ]
  },
  
  "modals": {
    "upload-modal": {
      "title": "Upload Audio File",
      "size": "lg",
      "content": {
        "grid": [
          {
            "id": "upload-form",
            "data": {
              "type": "containercomponent",
              "configuration": {
                "style": {
                  "padding": "1.5rem"
                }
              },
              "subgrids": [
                {
                  "id": "upload-controls",
                  "data": [
                    {
                      "id": "file-input",
                      "data": {
                        "type": "fileinputcomponent",
                        "configuration": {
                          "label": "Select Audio File",
                          "acceptedFileTypes": ["audio/mpeg", "audio/wav", "audio/m4a", "audio/ogg", "audio/flac"],
                          "multiple": false,
                          "maxSizeMb": 500
                        },
                        "componentInput": {
                          "onFileSelect": {
                            "type": "runscript",
                            "script": "upload-handler/validate-file"
                          }
                        }
                      }
                    },
                    
                    {
                      "id": "upload-progress",
                      "data": {
                        "type": "progresscomponent",
                        "configuration": {
                          "label": "Upload Progress",
                          "showPercentage": true
                        },
                        "componentInput": {
                          "value": "={{ $uploadProgress || 0 }}",
                          "visible": "={{ $uploading === true }}"
                        }
                      }
                    },
                    
                    {
                      "id": "transcription-options",
                      "data": {
                        "type": "containercomponent",
                        "configuration": {
                          "title": "Transcription Options",
                          "collapsible": true,
                          "collapsed": true
                        },
                        "subgrids": [
                          {
                            "id": "transcription-settings",
                            "data": [
                              {
                                "id": "whisper-model-select",
                                "data": {
                                  "type": "selectcomponent",
                                  "configuration": {
                                    "label": "Whisper Model",
                                    "placeholder": "Select model"
                                  },
                                  "componentInput": {
                                    "items": [
                                      {"value": "tiny", "label": "Tiny (fastest, lower quality)"},
                                      {"value": "base", "label": "Base (balanced)"},
                                      {"value": "small", "label": "Small (better quality)"},
                                      {"value": "medium", "label": "Medium (high quality)"},
                                      {"value": "large", "label": "Large (best quality, slower)"}
                                    ],
                                    "defaultValue": "base"
                                  }
                                }
                              },
                              
                              {
                                "id": "auto-analyze-toggle",
                                "data": {
                                  "type": "checkboxcomponent",
                                  "configuration": {
                                    "label": "Auto-analyze after transcription"
                                  },
                                  "componentInput": {
                                    "defaultValue": false
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    
                    {
                      "id": "upload-actions",
                      "data": {
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "justifyContent": "space-between",
                            "marginTop": "1rem"
                          }
                        },
                        "subgrids": [
                          {
                            "id": "upload-buttons",
                            "data": [
                              {
                                "id": "cancel-button",
                                "data": {
                                  "type": "buttoncomponent",
                                  "configuration": {
                                    "label": "Cancel",
                                    "color": "gray",
                                    "size": "md"
                                  },
                                  "componentInput": {
                                    "onClick": {
                                      "type": "closeModal"
                                    }
                                  }
                                }
                              },
                              
                              {
                                "id": "start-transcription-button",
                                "data": {
                                  "type": "buttoncomponent",
                                  "configuration": {
                                    "label": "Start Transcription",
                                    "color": "blue",
                                    "size": "md",
                                    "beforeIcon": "Play",
                                    "loading": "={{ $uploading === true }}"
                                  },
                                  "componentInput": {
                                    "onClick": {
                                      "type": "runscript",
                                      "script": "upload-handler/start-transcription"
                                    },
                                    "disabled": "={{ !$selectedFile }}"
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    },
    
    "transcription-viewer-modal": {
      "title": "{{ $currentTranscription?.filename || 'Transcription Details' }}",
      "size": "xl",
      "content": {
        "grid": [
          {
            "id": "transcription-content",
            "data": {
              "type": "containercomponent",
              "configuration": {
                "style": {
                  "padding": "1.5rem"
                }
              },
              "subgrids": [
                {
                  "id": "transcription-header",
                  "data": [
                    {
                      "id": "transcription-meta",
                      "data": {
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "justifyContent": "space-between",
                            "alignItems": "center",
                            "marginBottom": "1rem",
                            "padding": "1rem",
                            "backgroundColor": "#f8fafc",
                            "borderRadius": "0.5rem"
                          }
                        },
                        "subgrids": [
                          {
                            "id": "meta-info",
                            "data": [
                              {
                                "id": "transcription-stats",
                                "data": {
                                  "type": "displaycomponent",
                                  "configuration": {
                                    "label": ""
                                  },
                                  "componentInput": {
                                    "value": "Duration: {{ $currentTranscription?.duration_formatted || 'Unknown' }} | Confidence: {{ $currentTranscription?.confidence_score || 'N/A' }}% | Language: {{ $currentTranscription?.language_detected || 'Unknown' }}"
                                  }
                                }
                              }
                            ]
                          },
                          
                          {
                            "id": "ai-analysis-button",
                            "data": [
                              {
                                "id": "ai-analysis-dropdown",
                                "data": {
                                  "type": "selectcomponent",
                                  "configuration": {
                                    "label": "AI Analysis",
                                    "placeholder": "Choose analysis type"
                                  },
                                  "componentInput": {
                                    "items": [
                                      {"value": "summary", "label": "ðŸ“ Generate Summary"},
                                      {"value": "key_insights", "label": "ðŸ’¡ Extract Key Insights"},
                                      {"value": "custom", "label": "ðŸŽ¯ Custom Analysis"}
                                    ],
                                    "onChange": {
                                      "type": "runscript",
                                      "script": "ai-analysis/handle-analysis-type"
                                    }
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                
                {
                  "id": "custom-prompt-section",
                  "data": [
                    {
                      "id": "custom-prompt-input",
                      "data": {
                        "type": "textinputcomponent",
                        "configuration": {
                          "label": "Custom Analysis Prompt",
                          "placeholder": "Enter your custom prompt for AI analysis...",
                          "multiline": true,
                          "rows": 3
                        },
                        "componentInput": {
                          "visible": "={{ $analysisType === 'custom' }}"
                        }
                      }
                    }
                  ]
                },
                
                {
                  "id": "transcription-text-section",
                  "data": [
                    {
                      "id": "transcription-text",
                      "data": {
                        "type": "textareainputcomponent",
                        "configuration": {
                          "label": "Transcription Text",
                          "readonly": true,
                          "rows": 15,
                          "style": {
                            "fontFamily": "monospace",
                            "fontSize": "14px",
                            "lineHeight": "1.5"
                          }
                        },
                        "componentInput": {
                          "value": "{{ $currentTranscription?.transcription_text || 'Loading transcription...' }}"
                        }
                      }
                    }
                  ]
                },
                
                {
                  "id": "ai-analysis-results",
                  "data": [
                    {
                      "id": "analysis-results-container",
                      "data": {
                        "type": "containercomponent",
                        "configuration": {
                          "title": "AI Analysis Results",
                          "style": {
                            "marginTop": "1rem",
                            "padding": "1rem",
                            "backgroundColor": "#f0f9ff",
                            "borderRadius": "0.5rem",
                            "border": "1px solid #0ea5e9"
                          }
                        },
                        "componentInput": {
                          "visible": "={{ $analysisResult && $analysisResult.length > 0 }}"
                        },
                        "subgrids": [
                          {
                            "id": "analysis-content",
                            "data": [
                              {
                                "id": "analysis-text",
                                "data": {
                                  "type": "displaycomponent",
                                  "configuration": {
                                    "style": {
                                      "whiteSpace": "pre-wrap",
                                      "lineHeight": "1.6"
                                    }
                                  },
                                  "componentInput": {
                                    "value": "{{ $analysisResult || '' }}"
                                  }
                                }
                              },
                              
                              {
                                "id": "analysis-actions",
                                "data": {
                                  "type": "containercomponent",
                                  "configuration": {
                                    "style": {
                                      "display": "flex",
                                      "gap": "0.5rem",
                                      "marginTop": "1rem"
                                    }
                                  },
                                  "subgrids": [
                                    {
                                      "id": "analysis-buttons",
                                      "data": [
                                        {
                                          "id": "copy-analysis-button",
                                          "data": {
                                            "type": "buttoncomponent",
                                            "configuration": {
                                              "label": "Copy",
                                              "color": "gray",
                                              "size": "sm",
                                              "beforeIcon": "Copy"
                                            },
                                            "componentInput": {
                                              "onClick": {
                                                "type": "copyToClipboard",
                                                "text": "{{ $analysisResult }}"
                                              }
                                            }
                                          }
                                        },
                                        
                                        {
                                          "id": "save-analysis-button",
                                          "data": {
                                            "type": "buttoncomponent",
                                            "configuration": {
                                              "label": "Save Analysis",
                                              "color": "green",
                                              "size": "sm",
                                              "beforeIcon": "Save"
                                            },
                                            "componentInput": {
                                              "onClick": {
                                                "type": "runscript",
                                                "script": "ai-analysis/save-analysis"
                                              }
                                            }
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                
                {
                  "id": "modal-actions",
                  "data": [
                    {
                      "id": "modal-action-buttons",
                      "data": {
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "justifyContent": "space-between",
                            "marginTop": "2rem",
                            "padding": "1rem",
                            "borderTop": "1px solid #e2e8f0"
                          }
                        },
                        "subgrids": [
                          {
                            "id": "export-buttons",
                            "data": [
                              {
                                "id": "export-dropdown",
                                "data": {
                                  "type": "selectcomponent",
                                  "configuration": {
                                    "label": "Export As",
                                    "placeholder": "Choose format"
                                  },
                                  "componentInput": {
                                    "items": [
                                      {"value": "txt", "label": "ðŸ“„ Text File"},
                                      {"value": "pdf", "label": "ðŸ“‹ PDF Document"},
                                      {"value": "json", "label": "ðŸ”§ JSON Data"},
                                      {"value": "srt", "label": "ðŸ“º SRT Subtitles"}
                                    ],
                                    "onChange": {
                                      "type": "runscript",
                                      "script": "export/download-transcription"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          
                          {
                            "id": "close-button-section",
                            "data": [
                              {
                                "id": "close-modal-button",
                                "data": {
                                  "type": "buttoncomponent",
                                  "configuration": {
                                    "label": "Close",
                                    "color": "gray",
                                    "size": "md"
                                  },
                                  "componentInput": {
                                    "onClick": {
                                      "type": "closeModal"
                                    }
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    }
  },
  
  "summary": "Podcast Transcription Manager - Complete UI for file upload, transcription browsing, search, and AI analysis",
  "path": "f/podcast-transcription/manager",
  
  "policy": {
    "on_behalf_of": "u/admin",
    "on_behalf_of_email": "admin@vrooli.com"
  },
  
  "versions": [],
  
  "schema": {
    "type": "object",
    "properties": {
      "transcriptionsList": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {"type": "string"},
            "filename": {"type": "string"},
            "duration_formatted": {"type": "string"},
            "confidence_score": {"type": "number"},
            "language_detected": {"type": "string"},
            "created_at_formatted": {"type": "string"},
            "transcription_text": {"type": "string"}
          }
        }
      },
      "searchResults": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "transcriptionId": {"type": "string"},
            "filename": {"type": "string"},
            "similarity_formatted": {"type": "string"},
            "snippet": {"type": "string"},
            "duration_formatted": {"type": "string"}
          }
        }
      },
      "currentTranscription": {
        "type": "object",
        "properties": {
          "id": {"type": "string"},
          "filename": {"type": "string"},
          "transcription_text": {"type": "string"},
          "duration_formatted": {"type": "string"},
          "confidence_score": {"type": "number"},
          "language_detected": {"type": "string"}
        }
      },
      "analysisResult": {"type": "string"},
      "analysisType": {"type": "string"},
      "uploading": {"type": "boolean"},
      "uploadProgress": {"type": "number"}
    }
  },
  
  "extra_perms": {},
  "execution_mode": "viewer",
  "draft_only": false,
  "tag": "podcast-transcription-manager",
  "ws_error_handler_muted": false,
  "bg_runs_enabled": true,
  "visible_to_runner_only": false,
  "no_logs": false
}