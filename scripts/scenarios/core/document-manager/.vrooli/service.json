{
  "$schema": "../../../../.vrooli/schemas/service.schema.json",
  "version": "1.0.0",
  "service": {
    "parent": "vrooli",
    "name": "document-manager",
    "displayName": "Document Manager",
    "description": "AI-powered documentation management SaaS platform with agent-based monitoring, improvement suggestions, and comprehensive workflow automation",
    "version": "2.0.0",
    "type": "business-application",
    "tags": [
      "documentation",
      "ai",
      "automation",
      "saas",
      "monitoring"
    ]
  },
  "resources": {
    "storage": {
      "postgres": {
        "enabled": true,
        "purpose": "Primary data storage for applications, agents, queues, and metrics",
        "databases": [
          "document_manager"
        ],
        "extensions": [
          "uuid-ossp",
          "pgcrypto"
        ]
      },
      "qdrant": {
        "enabled": true,
        "purpose": "Vector storage for semantic search and AI embeddings"
      }
    },
    "automation": {
      "windmill": {
        "enabled": true,
        "purpose": "Main UI application and backend workflow engine",
        "auto_deploy_apps": true,
        "workspace": "document_manager"
      },
      "n8n": {
        "enabled": true,
        "purpose": "Background automation and agent orchestration",
        "auto_import_workflows": true,
        "webhook_url": "http://localhost:5678"
      }
    },
    "ai": {
      "ollama": {
        "enabled": true,
        "models": [
          "llama3.2",
          "mistral"
        ],
        "purpose": "Document analysis and improvement suggestions"
      },
      "claude-code": {
        "enabled": true,
        "purpose": "Advanced document generation and agent tasks"
      }
    }
  },
  "deployment": {
    "ports": {
      "ui": 8000,
      "api": 8001,
      "n8n": 5678
    }
  },
  "business_model": {
    "type": "saas",
    "target_revenue": "$25000-50000",
    "target_market": "Development teams, technical writers, documentation managers",
    "key_features": [
      "Multi-application documentation monitoring",
      "AI-powered improvement suggestions",
      "Automated agent workflows",
      "User-controlled approval processes",
      "Comprehensive analytics dashboard"
    ]
  },
  "lifecycle": {
    "version": "1.0.0",
    "setup": {
      "description": "Initialize Document Manager",
      "steps": [
        {
          "name": "base-setup",
          "run": "bash scripts/lib/setup.sh",
          "description": "Execute generic setup (e.g. network, system, git)"
        },
        {
          "name": "add-data",
          "run": "scripts/resources/injection/engine.sh .",
          "description": "Add app data to resources"
        },
        {
          "name": "show-urls",
          "run": "echo 'ðŸš€ Document Manager initialized\\n  Windmill Dashboard: http://localhost:${RESOURCE_PORTS[windmill]}\\n  n8n workflows: http://localhost:${RESOURCE_PORTS[n8n]}\\n  Qdrant Vector DB: http://localhost:${RESOURCE_PORTS[qdrant]}'",
          "description": "Display service access URLs"
        }
      ]
    },
    "develop": {
      "description": "Start document manager services",
      "steps": [
        {
          "name": "start-services",
          "run": "cd deployment && ./startup.sh",
          "description": "Start document manager services"
        }
      ]
    },
    "test": {
      "description": "Run document manager tests",
      "steps": [
        {
          "name": "run-tests",
          "run": "./test.sh"
        }
      ]
    },
    "stop": {
      "description": "Stop document manager services",
      "steps": [
        {
          "name": "stop-services",
          "run": "pkill -f 'document-manager' || true",
          "description": "Stop all document manager processes"
        }
      ]
    },
    "build": {
      "description": "Build document manager artifacts",
      "steps": [
        {
          "name": "build-artifacts",
          "run": "./scripts/manage.sh build"
        }
      ]
    },
    "clean": {
      "description": "Clean build artifacts and temporary files",
      "steps": [
        {
          "name": "clean-artifacts",
          "run": "rm -rf dist/ build/ .next/ node_modules/ .cache/ || true"
        }
      ]
    }
  }
}