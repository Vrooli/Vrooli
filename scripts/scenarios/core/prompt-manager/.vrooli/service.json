{
  "$schema": "../../../../.vrooli/schemas/service.schema.json",
  "version": "1.0.0",
  "service": {
    "parent": "vrooli",
    "name": "prompt-manager",
    "displayName": "Prompt Manager",
    "description": "Clean UX for storing prompts organized by campaigns",
    "version": "1.0.0",
    "type": "business-application",
    "category": "saas-applications",
    "tags": [
      "prompts",
      "campaigns",
      "ai",
      "management"
    ],
    "maintainers": [
      {
        "name": "Vrooli Team",
        "email": "team@vrooli.com",
        "url": "https://github.com/Vrooli"
      }
    ]
  },
  "resources": {
    "storage": {
      "postgres": {
        "enabled": true,
        "config": {
          "database": "prompt_manager",
          "schema": "public",
          "tables": [
            "campaigns",
            "prompts",
            "versions",
            "metrics",
            "tags",
            "templates"
          ]
        }
      },
      "qdrant": {
        "enabled": true,
        "config": {
          "collection": "prompts",
          "purpose": "semantic search and similarity matching",
          "dimensions": 1536
        }
      },
      "redis": {
        "enabled": true,
        "config": {
          "db": 2,
          "purpose": "session management and caching"
        }
      }
    },
    "ai": {
      "ollama": {
        "enabled": true,
        "models": [
          "llama3.2",
          "mistral"
        ],
        "purpose": "prompt enhancement and testing"
      },
      "unstructured-io": {
        "enabled": false,
        "purpose": "document parsing for prompt extraction"
      }
    },
    "automation": {
      "n8n": {
        "enabled": true,
        "workflows": [
          "prompt-backup",
          "campaign-sync",
          "performance-tracker"
        ]
      }
    },
    "ui": {
      "enabled": true,
      "framework": "react",
      "features": [
        "campaign-manager",
        "prompt-editor",
        "version-control",
        "search-interface",
        "metrics-dashboard",
        "template-library",
        "export-import"
      ]
    }
  },
  "ports": {
    "ui": 3005,
    "api": 8085,
    "qdrant": 6333
  },
  "features": {
    "campaigns": {
      "hierarchical": true,
      "metadata": [
        "client",
        "project",
        "date",
        "status"
      ],
      "sharing": [
        "private",
        "team",
        "public"
      ]
    },
    "prompts": {
      "versioning": true,
      "diff-viewer": true,
      "variables": true,
      "templates": true,
      "testing": {
        "enabled": true,
        "providers": [
          "ollama",
          "openai",
          "anthropic"
        ]
      }
    },
    "search": {
      "full-text": true,
      "semantic": true,
      "filters": [
        "campaign",
        "tag",
        "date",
        "performance"
      ]
    },
    "metrics": {
      "tracking": [
        "usage",
        "performance",
        "cost"
      ],
      "ab-testing": true,
      "reports": [
        "campaign-summary",
        "prompt-effectiveness"
      ]
    },
    "export": {
      "formats": [
        "json",
        "csv",
        "markdown"
      ],
      "api": true
    }
  },
  "authentication": {
    "local": true,
    "oauth": [
      "google",
      "github"
    ],
    "rbac": {
      "roles": [
        "admin",
        "editor",
        "viewer"
      ],
      "permissions": [
        "create",
        "read",
        "update",
        "delete",
        "share"
      ]
    }
  },
  "business-model": {
    "pricing": {
      "free": {
        "campaigns": 3,
        "prompts": 100,
        "users": 1
      },
      "pro": {
        "campaigns": "unlimited",
        "prompts": "unlimited",
        "users": 10,
        "price": "$49/month"
      },
      "enterprise": {
        "custom": true,
        "sso": true,
        "api": true
      }
    }
  },
  "lifecycle": {
    "version": "1.0.0",
    "setup": {
      "description": "Initialize Prompt Manager",
      "steps": [
        {
          "name": "base-setup",
          "run": "bash scripts/lib/setup.sh",
          "description": "Execute generic setup (e.g. network, system, git)"
        },
        {
          "name": "add-data",
          "run": "scripts/resources/injection/engine.sh .",
          "description": "Add app data to resources"
        },
        {
          "name": "show-urls",
          "run": "echo 'ðŸš€ Prompt Manager initialized\\n  n8n workflows: http://localhost:${RESOURCE_PORTS[n8n]}\\n  Redis Cache: redis://localhost:${RESOURCE_PORTS[redis]}\\n  PostgreSQL DB: postgres://localhost:${RESOURCE_PORTS[postgres]}'",
          "description": "Display service access URLs"
        }
      ]
    },
    "develop": {
      "description": "Start prompt manager services",
      "steps": [
        {
          "name": "start-services",
          "run": "cd deployment && ./startup.sh",
          "description": "Start prompt manager services"
        }
      ]
    },
    "test": {
      "description": "Test prompt manager functionality",
      "steps": [
        {
          "name": "run-tests",
          "run": "bash deployment/validate.sh",
          "description": "Execute validation tests"
        }
      ]
    },
    "stop": {
      "description": "Stop prompt manager services",
      "steps": [
        {
          "name": "stop-services",
          "run": "pkill -f 'prompt-manager' || true",
          "description": "Stop all prompt manager processes"
        }
      ]
    },
    "build": {
      "description": "Build prompt manager artifacts",
      "steps": [
        {
          "name": "build-artifacts",
          "run": "./scripts/manage.sh build"
        }
      ]
    },
    "test": {
      "description": "Run prompt manager tests",
      "steps": [
        {
          "name": "run-tests",
          "run": "./test.sh"
        }
      ]
    },
    "clean": {
      "description": "Clean build artifacts and temporary files",
      "steps": [
        {
          "name": "clean-artifacts",
          "run": "rm -rf dist/ build/ .next/ node_modules/ .cache/ || true"
        }
      ]
    }
  }
}