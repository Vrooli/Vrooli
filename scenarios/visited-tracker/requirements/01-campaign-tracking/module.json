{
  "_metadata": {
    "prd_section": "P0 - Campaign-Based File Tracking",
    "description": "Core P0 functionality for campaign-based file visit tracking with staleness scoring"
  },
  "requirements": [
    {
      "id": "VT-REQ-001",
      "category": "campaign-tracking.core",
      "operational_target_id": "OT-P0-001",
      "prd_ref": "OT-P0-001",
      "title": "Campaign Creation and Management",
      "description": "Create and manage campaigns with file glob patterns (*.go, *.js, etc.) to track files across different analysis projects",
      "priority": "P0",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/main_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Multiple tests validate campaign creation, CRUD operations, and glob patterns [REQ:VT-REQ-001]"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/api/campaign-lifecycle.json",
          "phase": "integration",
          "status": "failing",
          "notes": "E2E workflow validates complete campaign lifecycle including creation"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/journeys/01-new-user/happy-path.json",
          "phase": "integration",
          "status": "failing",
          "notes": "User journey validates campaign creation in realistic context"
        }
      ]
    },
    {
      "id": "VT-REQ-002",
      "category": "campaign-tracking.core",
      "operational_target_id": "OT-P0-001",
      "prd_ref": "OT-P0-001",
      "title": "Visit Count Tracking",
      "description": "Track and increment visit count for each file in a campaign when agents analyze or review files",
      "priority": "P0",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/main_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Multiple tests validate visit count increment and persistence [REQ:VT-REQ-002]"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/api/campaign-lifecycle.json",
          "phase": "integration",
          "status": "failing",
          "notes": "E2E workflow validates visit tracking in campaign lifecycle"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/journeys/01-new-user/happy-path.json",
          "phase": "integration",
          "status": "failing",
          "notes": "User journey validates visit count tracking"
        }
      ]
    },
    {
      "id": "VT-REQ-003",
      "category": "campaign-tracking.core",
      "operational_target_id": "OT-P0-001",
      "prd_ref": "OT-P0-001",
      "title": "Staleness Scoring Algorithm",
      "description": "Calculate staleness score based on visit frequency, last visit time, and file modification time to prioritize files needing attention",
      "priority": "P0",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/main_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Multiple tests validate staleness scoring algorithm with various scenarios [REQ:VT-REQ-003]"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/api/campaign-lifecycle.json",
          "phase": "integration",
          "status": "failing",
          "notes": "E2E workflow validates staleness scoring in complete lifecycle"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/api/staleness-scoring.json",
          "phase": "integration",
          "status": "failing",
          "notes": "Dedicated workflow validates staleness calculation and prioritization"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/journeys/01-new-user/happy-path.json",
          "phase": "integration",
          "status": "failing",
          "notes": "User journey validates staleness scoring in realistic usage"
        }
      ]
    },
    {
      "id": "VT-REQ-004",
      "category": "campaign-tracking.interface",
      "operational_target_id": "OT-P0-001",
      "prd_ref": "OT-P0-001",
      "title": "File Synchronization",
      "description": "Sync campaign files with filesystem using glob pattern matching to discover new files and remove deleted ones",
      "priority": "P0",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/main_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "TestStructureSyncHandler validates file sync discovers and removes files with glob patterns [REQ:VT-REQ-008]"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/cli/campaign-management.json",
          "phase": "integration",
          "status": "failing",
          "notes": "CLI workflow validates file synchronization via command-line interface"
        }
      ]
    },
    {
      "id": "VT-REQ-005",
      "category": "campaign-tracking.storage",
      "operational_target_id": "OT-P0-001",
      "prd_ref": "OT-P0-001",
      "title": "JSON File Persistence",
      "description": "Store campaign data and visit tracking in JSON files for portability and transparency",
      "priority": "P0",
      "status": "complete",
      "validation": [
        {
          "type": "test",
          "ref": "api/main_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Multiple tests validate JSON persistence and loading [REQ:VT-REQ-005]"
        },
        {
          "type": "automation",
          "ref": "test/playbooks/capabilities/01-campaign-tracking/api/campaign-lifecycle.json",
          "phase": "integration",
          "status": "implemented",
          "notes": "E2E workflow implicitly validates JSON persistence across operations"
        }
      ]
    }
  ]
}
