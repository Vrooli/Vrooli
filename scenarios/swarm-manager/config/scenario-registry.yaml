# Scenario Registry - Maps scenarios to their capabilities and CLIs

scenarios:
  ecosystem-manager:
    cli: ecosystem-manager
    capabilities:
      - create_scenario
      - create_resource
      - improve_scenario
      - improve_resource
      - generate_ui
      - generate_workflows
      - validate_requirements
      - prd_creation
      - scaffolding
      - v2_contract_compliance
    best_for:
      - New scenario creation
      - New resource creation
      - Scenario improvement and PRD completion
      - Resource v2.0 compliance and enhancement
      - Business application generation
      - SaaS product development
    resource_usage: heavy
    typical_duration: 30-60 minutes
    
  resource-experimenter:
    cli: resource-experimenter
    capabilities:
      - test_resource_combinations
      - validate_integrations
      - generate_variants
      - measure_performance
    best_for:
      - Testing new resource integrations
      - Creating scenario variants
      - Performance optimization
    resource_usage: moderate
    typical_duration: 15-30 minutes
    
  app-debugger:
    cli: app-debugger
    capabilities:
      - analyze_errors
      - suggest_fixes
      - profile_performance
      - trace_execution
    best_for:
      - Fixing broken applications
      - Performance debugging
      - Error analysis
    resource_usage: moderate
    typical_duration: 10-20 minutes
    
  app-issue-tracker:
    cli: app-issue-tracker
    capabilities:
      - track_issues
      - investigate_problems
      - generate_fixes
      - create_pull_requests
    best_for:
      - Managing reported issues
      - Systematic bug fixing
      - Issue prioritization
    resource_usage: moderate
    typical_duration: 15-30 minutes
    
  system-monitor:
    cli: system-monitor
    capabilities:
      - monitor_health
      - detect_anomalies
      - investigate_issues
      - generate_reports
    best_for:
      - System health monitoring
      - Anomaly detection
      - Performance tracking
    resource_usage: minimal
    typical_duration: 5-10 minutes
    
  core-debugger:
    cli: core-debugger
    capabilities:
      - monitor_core_health
      - diagnose_cli_issues
      - fix_orchestrator_problems
      - resolve_setup_failures
      - provide_workarounds
      - track_core_issues
    best_for:
      - Core infrastructure issues
      - CLI/orchestrator failures
      - Setup script problems
      - Resource manager errors
      - Workaround application
    resource_usage: minimal
    typical_duration: 5-15 minutes
    zero_dependencies: true  # Only needs claude-code
    priority_multiplier: 10  # Core issues get 10x priority
    
  task-planner:
    cli: task-planner
    capabilities:
      - parse_requirements
      - create_plans
      - research_solutions
      - coordinate_execution
    best_for:
      - Complex multi-step tasks
      - Requirement analysis
      - Task decomposition
    resource_usage: moderate
    typical_duration: 20-40 minutes
    
  workflow-scheduler:
    cli: workflow-scheduler
    capabilities:
      - schedule_tasks
      - manage_cron_jobs
      - coordinate_timing
      - handle_retries
    best_for:
      - Recurring task scheduling
      - Workflow orchestration
      - Time-based automation
    resource_usage: minimal
    typical_duration: 5-10 minutes
    
  agent-metareasoning-manager:
    cli: agent-metareasoning
    capabilities:
      - enhance_reasoning
      - coordinate_agents
      - manage_patterns
      - track_decisions
    best_for:
      - Agent coordination
      - Decision optimization
      - Pattern management
    resource_usage: moderate
    typical_duration: 10-20 minutes

# Fallback scenario for unmatched tasks
default_scenario: resource-claude-code

# Scenario selection rules
selection_rules:
  # Core infrastructure gets highest priority
  - if_contains: ["vrooli", "cli", "orchestrator", "setup", "core", "infrastructure", "command not found", "resource manager"]
    use: core-debugger
    priority_boost: 10
    
  - if_contains: ["create", "generate", "build", "new scenario"]
    use: ecosystem-manager
    
  - if_contains: ["create", "generate", "build", "new resource"]
    use: ecosystem-manager
    
  - if_contains: ["improve", "enhance", "fix", "upgrade"]
    and_contains: ["scenario"]
    use: ecosystem-manager
    
  - if_contains: ["improve", "enhance", "fix", "upgrade"]
    and_contains: ["resource"]
    use: ecosystem-manager
    
  - if_contains: ["test", "experiment", "try", "variant"]
    use: resource-experimenter
    
  # Distinguish app-level debug from core debug
  - if_contains: ["app", "application", "scenario"]
    and_contains: ["debug", "fix", "broken", "error", "crash"]
    use: app-debugger
    
  # Fallback debug rule (less specific)
  - if_contains: ["debug", "fix", "broken", "error", "crash"]
    use: app-debugger
    
  - if_contains: ["issue", "bug", "problem", "report"]
    use: app-issue-tracker
    
  - if_contains: ["monitor", "health", "performance", "anomaly"]
    use: system-monitor
    
  - if_contains: ["plan", "organize", "coordinate", "research"]
    use: task-planner
    
  - if_contains: ["schedule", "cron", "recurring", "timing"]
    use: workflow-scheduler
    
  - if_contains: ["reasoning", "decision", "pattern", "coordinate agents"]
    use: agent-metareasoning-manager