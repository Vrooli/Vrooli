{
  "$schema": "../../../../.vrooli/schemas/service.schema.json",
  "version": "1.0.0",
  "service": {
    "name": "local-info-scout",
    "displayName": "Local Info Scout",
    "description": "Intelligent location-based discovery tool for finding nearby places and services",
    "version": "1.0.0",
    "tags": [
      "consumer-application",
      "discovery",
      "local",
      "search",
      "maps",
      "places",
      "restaurants",
      "services",
      "location",
      "javascript-ui",
      "go-api"
    ]
  },
  "ports": {
    "api": {
      "env_var": "SERVICE_PORT",
      "range": "24500-24749",
      "fallback": "auto",
      "description": "Local Info Scout API port"
    },
    "ui": {
      "env_var": "UI_PORT",
      "range": "31750-31999",
      "fallback": "auto",
      "description": "Local Info Scout UI port"
    }
  },
  "components": {
    "api": {
      "enabled": true,
      "language": "go",
      "path": "api",
      "main": "main.go"
    },
    "ui": {
      "enabled": true,
      "framework": "javascript",
      "path": "ui",
      "main": "server.js"
    },
    "cli": {
      "enabled": true,
      "language": "go",
      "path": "cli",
      "command": "local-scout"
    }
  },
  "resources": {
    "n8n": {
      "enabled": true,
      "required": true
    },
    "postgres": {
      "enabled": true,
      "required": true
    },
    "redis": {
      "enabled": true,
      "required": true
    },
    "ollama": {
      "enabled": true,
      "required": true
    },
    "browserless": {
      "enabled": true,
      "required": false
    }
  },
  "initialization": {
    "n8n": [
      {
        "name": "local-search",
        "file": "initialization/n8n/local-search.json",
        "active": true
      },
      {
        "name": "place-details",
        "file": "initialization/n8n/place-details.json",
        "active": true
      }
    ],
    "postgres": [
      {
        "file": "initialization/postgres/schema.sql",
        "type": "schema"
      }
    ]
  },
  "dependencies": {
    "shared_workflows": [
      "ollama",
      "rate-limiter"
    ]
  },
  "healthcheck": {
    "enabled": true,
    "interval": 30,
    "timeout": 10,
    "retries": 3,
    "endpoints": [
      {
        "type": "http",
        "url": "http://localhost:${SERVICE_PORT}/health",
        "method": "GET",
        "expected_status": 200
      }
    ]
  },
  "logging": {
    "level": "info",
    "format": "json",
    "output": "stdout"
  },
  "lifecycle": {
    "setup": {
      "description": null,
      "condition": {
        "checks": [
          {
            "type": "binaries",
            "targets": [
              "api/local-info-scout-api"
            ]
          },
          {
            "type": "cli",
            "command": "local-info-scout"
          },
          {
            "type": "resources",
            "populated": true
          }
        ]
      },
      "steps": null
    }
  }
}
