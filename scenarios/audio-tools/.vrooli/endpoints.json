{
  "$schema": "../../../../scripts/scenarios/schemas/endpoints.schema.json",
  "version": "1.0.0",
  "endpoints": [
    {
      "id": "health-check",
      "path": "/health",
      "method": "GET",
      "summary": "Service health",
      "description": "Reports service status, database connectivity, ffmpeg availability, and storage backend.",
      "category": "system"
    },
    {
      "id": "api-health",
      "path": "/api/health",
      "method": "GET",
      "summary": "API namespace health",
      "description": "Health payload exposed under /api for ingress routing.",
      "category": "system"
    },
    {
      "id": "audio-edit",
      "path": "/api/v1/audio/edit",
      "method": "POST",
      "summary": "Edit audio",
      "description": "Executes trimming, merging, splitting, fades, normalization, and volume automation on supplied audio.",
      "category": "audio-processing"
    },
    {
      "id": "audio-convert",
      "path": "/api/v1/audio/convert",
      "method": "POST",
      "summary": "Convert format",
      "description": "Converts uploaded audio to the requested codec/sample rate/bit depth using ffmpeg pipelines.",
      "category": "audio-processing"
    },
    {
      "id": "audio-metadata-get",
      "path": "/api/v1/audio/metadata/{id}",
      "method": "GET",
      "summary": "Get metadata",
      "description": "Returns stored metadata (duration, bitrate, channels, waveform stats) for a processed file.",
      "category": "metadata",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Metadata document identifier"
        }
      }
    },
    {
      "id": "audio-metadata-create",
      "path": "/api/v1/audio/metadata",
      "method": "POST",
      "summary": "Extract metadata",
      "description": "Extracts metadata such as bpm, key, channels, and spectrum from uploaded audio.",
      "category": "metadata"
    },
    {
      "id": "audio-enhance",
      "path": "/api/v1/audio/enhance",
      "method": "POST",
      "summary": "Enhance audio",
      "description": "Runs denoise, EQ, leveling, and mastering passes.",
      "category": "audio-processing"
    },
    {
      "id": "audio-analyze",
      "path": "/api/v1/audio/analyze",
      "method": "POST",
      "summary": "Analyze audio",
      "description": "Performs deep analysis such as beat detection, speech/music classification, and loudness scoring.",
      "category": "analytics"
    },
    {
      "id": "audio-vad",
      "path": "/api/v1/audio/vad",
      "method": "POST",
      "summary": "Voice activity detection",
      "description": "Detects speech segments and returns timestamp intervals for transcription workflows.",
      "category": "analytics"
    },
    {
      "id": "audio-remove-silence",
      "path": "/api/v1/audio/remove-silence",
      "method": "POST",
      "summary": "Remove silence",
      "description": "Identifies and trims silence regions in uploaded clips.",
      "category": "audio-processing"
    },
    {
      "id": "status",
      "path": "/api/v1/status",
      "method": "GET",
      "summary": "Service status",
      "description": "Returns uptime, configured directories, and capability list for dashboards.",
      "category": "system"
    },
    {
      "id": "api-docs",
      "path": "/api/docs",
      "method": "GET",
      "summary": "API docs",
      "description": "Serves API documentation payload for UI/docs consumers.",
      "category": "system"
    }
  ]
}
