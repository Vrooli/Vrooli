{
  "$schema": "../../../../.vrooli/schemas/feature-flags.schema.json",
  "version": "1.0.0",
  "environment": "development",
  "last_updated": "2024-08-28T12:00:00.000Z",
  
  "core_features": {
    "scenario_generation": {
      "enabled": true,
      "description": "Core scenario generation pipeline",
      "dependencies": ["claude_code", "n8n_workflows"],
      "rollout_percentage": 100,
      "stable": true
    },
    
    "template_system": {
      "enabled": true,
      "description": "Pre-built scenario templates and template-based generation",
      "dependencies": ["database"],
      "rollout_percentage": 100,
      "stable": true
    },

    "real_time_dashboard": {
      "enabled": true,
      "description": "Live status updates and progress tracking",
      "dependencies": ["websocket_support"],
      "rollout_percentage": 100,
      "stable": true
    }
  },

  "ai_features": {
    "claude_code_integration": {
      "enabled": true,
      "description": "Claude Code AI for scenario generation and refinement",
      "dependencies": ["claude_code_cli"],
      "rollout_percentage": 100,
      "stable": true,
      "fallback": "ollama_integration"
    },

    "ollama_integration": {
      "enabled": true, 
      "description": "Local Ollama models for AI assistance",
      "dependencies": ["ollama_service"],
      "rollout_percentage": 80,
      "stable": false,
      "experimental": true
    },

    "plan_refinement": {
      "enabled": true,
      "description": "Iterative plan improvement using AI feedback",
      "dependencies": ["claude_code_integration"],
      "rollout_percentage": 100,
      "stable": true
    },

    "auto_bug_fixing": {
      "enabled": true,
      "description": "Automatic detection and fixing of generated code issues",
      "dependencies": ["claude_code_integration", "validation_pipeline"],
      "rollout_percentage": 75,
      "stable": false,
      "config": {
        "max_fix_attempts": 3,
        "enable_syntax_fixes": true,
        "enable_logic_fixes": false
      }
    }
  },

  "validation_features": {
    "schema_validation": {
      "enabled": true,
      "description": "JSON schema validation for generated scenarios",
      "dependencies": ["validation_schemas"],
      "rollout_percentage": 100,
      "stable": true
    },

    "deployment_validation": {
      "enabled": true,
      "description": "Test deployment of generated scenarios",
      "dependencies": ["scenario_to_app_tool"],
      "rollout_percentage": 100,
      "stable": true
    },

    "business_logic_validation": {
      "enabled": false,
      "description": "Validate business logic and workflow correctness",
      "dependencies": ["ai_features"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    }
  },

  "ui_features": {
    "dark_mode": {
      "enabled": true,
      "description": "Dark theme interface",
      "dependencies": [],
      "rollout_percentage": 100,
      "stable": true
    },

    "advanced_filtering": {
      "enabled": true,
      "description": "Advanced search and filtering options",
      "dependencies": ["database"],
      "rollout_percentage": 100,
      "stable": true
    },

    "batch_operations": {
      "enabled": false,
      "description": "Bulk operations on multiple scenarios",
      "dependencies": [],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    },

    "scenario_comparison": {
      "enabled": false,
      "description": "Side-by-side comparison of generated scenarios",
      "dependencies": [],
      "rollout_percentage": 25,
      "stable": false,
      "experimental": true
    }
  },

  "performance_features": {
    "redis_caching": {
      "enabled": true,
      "description": "Redis-based caching for improved performance",
      "dependencies": ["redis_service"],
      "rollout_percentage": 100,
      "stable": true
    },

    "parallel_generation": {
      "enabled": false,
      "description": "Parallel processing of multiple scenario generations",
      "dependencies": ["worker_queues"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true,
      "config": {
        "max_parallel_jobs": 3,
        "queue_priority": true
      }
    },

    "precompiled_templates": {
      "enabled": true,
      "description": "Pre-compiled template optimizations",
      "dependencies": ["template_system"],
      "rollout_percentage": 100,
      "stable": true
    }
  },

  "analytics_features": {
    "usage_analytics": {
      "enabled": true,
      "description": "Track usage patterns and performance metrics",
      "dependencies": ["database"],
      "rollout_percentage": 100,
      "stable": true
    },

    "success_prediction": {
      "enabled": false,
      "description": "AI-powered prediction of scenario generation success",
      "dependencies": ["ai_features", "usage_analytics"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    },

    "business_impact_tracking": {
      "enabled": true,
      "description": "Track business value and revenue impact of generated scenarios",
      "dependencies": ["usage_analytics"],
      "rollout_percentage": 80,
      "stable": false
    }
  },

  "integration_features": {

    "n8n_workflows": {
      "enabled": true,
      "description": "N8N workflow orchestration",
      "dependencies": ["n8n_service"],
      "rollout_percentage": 100,
      "stable": true
    },

    "minio_storage": {
      "enabled": false,
      "description": "MinIO object storage for generated files",
      "dependencies": ["minio_service"],
      "rollout_percentage": 0,
      "stable": false,
      "config": {
        "auto_cleanup": true,
        "retention_days": 30
      }
    },

    "vault_secrets": {
      "enabled": false,
      "description": "HashiCorp Vault integration for secrets management",
      "dependencies": ["vault_service"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    }
  },

  "debugging_features": {
    "verbose_logging": {
      "enabled": false,
      "description": "Detailed debug logging for troubleshooting",
      "dependencies": [],
      "rollout_percentage": 0,
      "stable": true,
      "environment_restricted": ["development", "testing"]
    },

    "generation_replay": {
      "enabled": false,
      "description": "Replay and debug failed generations",
      "dependencies": ["usage_analytics"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    },

    "step_by_step_mode": {
      "enabled": false,
      "description": "Manual approval for each generation phase",
      "dependencies": [],
      "rollout_percentage": 0,
      "stable": false,
      "environment_restricted": ["development"]
    }
  },

  "experimental_features": {
    "multi_model_generation": {
      "enabled": false,
      "description": "Use multiple AI models and combine their outputs",
      "dependencies": ["claude_code_integration", "ollama_integration"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    },

    "scenario_evolution": {
      "enabled": false,
      "description": "Automatic improvement of scenarios based on usage feedback",
      "dependencies": ["usage_analytics", "ai_features"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    },

    "code_review_ai": {
      "enabled": false,
      "description": "AI-powered code review of generated scenarios",
      "dependencies": ["ai_features"],
      "rollout_percentage": 0,
      "stable": false,
      "experimental": true
    }
  },

  "kill_switches": {
    "emergency_stop": {
      "enabled": false,
      "description": "Emergency stop all generation processes",
      "priority": "critical",
      "affects": ["scenario_generation", "ai_features"]
    },

    "claude_code_disable": {
      "enabled": false,
      "description": "Disable Claude Code integration",
      "priority": "high",
      "affects": ["claude_code_integration", "plan_refinement", "auto_bug_fixing"]
    },

    "new_generations_pause": {
      "enabled": false,
      "description": "Pause acceptance of new generation requests",
      "priority": "medium",
      "affects": ["scenario_generation"]
    }
  }
}