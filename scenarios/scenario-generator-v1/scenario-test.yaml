version: 1.0
scenario: scenario-generator-v1

# Structure validation
structure:
  required_files:
    - .vrooli/service.json
    - README.md
    - IMPLEMENTATION_PLAN.md
    - initialization/storage/schema.sql
    - initialization/storage/seed.sql
    - initialization/automation/n8n/main-workflow.json
    - initialization/automation/n8n/planning-workflow.json
    - initialization/automation/triggers.yaml
    - initialization/configuration/app-config.json
    - initialization/configuration/config.json
    - initialization/configuration/feature-flags.json
    - initialization/configuration/resource-urls.json
    - deployment/startup.sh
    - deployment/monitor.sh
    - test.sh
    - custom-tests.sh
    - prompts/scenario-generation-prompt.md
    - prompts/initial-planning-prompt.md
    - prompts/plan-refinement-prompt.md
    - prompts/implementation-prompt.md
    - prompts/validation-prompt.md
  
  required_dirs:
    - .vrooli
    - initialization/storage
    - initialization/automation
    - initialization/automation/n8n
    - initialization/configuration
    - deployment
    - prompts
    - ui
    - ui/scripts

# Resource requirements
resources:
  required: [postgres, n8n, minio, claude-code]
  optional: [redis, ollama]
  health_timeout: 60

# Declarative tests
tests:
  - name: "Application Health Check"
    type: http
    service: app
    endpoint: /api/scenario-generator-v1/health
    method: GET
    expect:
      status: 200
      body:
        type: json


  - name: "N8N Workflow Engine Ready"
    type: http
    service: n8n
    endpoint: /api/v1/info
    method: GET
    expect:
      status: 200
      body:
        type: json

  - name: "Object Storage Ready"
    type: http
    service: minio
    endpoint: /minio/health/ready
    method: GET
    expect:
      status: 200

  - name: "Database Connection"
    type: tcp
    service: postgres
    port: 5432

  - name: "Meta Scenario Generation Workflow"
    type: custom
    script: custom-tests.sh
    function: test_scenario_generator_v1_workflow

# Validation criteria
validation:
  success_rate: 80        # High complexity AI development platform
  response_time: 45000    # 45 seconds max for scenario generation operations
  revenue_potential: 300000  # Total estimate from service.json (ultra-high)
  business_criteria:
    - "AI-powered SaaS generation platform operational"
    - "Claude Code integration for autonomous development validated"
    - "Complete application generation from requirements functional"
    - "Meta-scenario system capable of recursive improvement verified"
    - "Revolutionary no-code development capabilities confirmed"
