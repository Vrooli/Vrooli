-- Retro Game Launcher Seed Data
-- Initial data for testing and demonstration

-- Insert some starter prompt templates
INSERT INTO prompt_templates (category, template, example_prompt) VALUES
('platformer', 
 'Create a {difficulty} {theme} platformer game where the player {objective}. Include {features}.',
 'Create a medium space platformer game where the player collects energy cores to power their ship. Include moving platforms and enemy robots.'),

('puzzle', 
 'Design a {complexity} puzzle game involving {mechanic} with a {theme} setting. The goal is to {objective}.',
 'Design a complex puzzle game involving block matching with a mystical forest setting. The goal is to clear ancient runes from magical stones.'),

('action', 
 'Build a {pace} action game set in {setting} where the player must {challenge}. Features should include {weapons} and {enemies}.',
 'Build a fast-paced action game set in a cyberpunk city where the player must hack through security systems. Features should include laser weapons and drone enemies.'),

('arcade', 
 'Make a retro-style arcade game inspired by {classic_game} but with {twist}. The scoring system should {scoring}.',
 'Make a retro-style arcade game inspired by Pac-Man but with time manipulation powers. The scoring system should reward speed and combo multipliers.');

-- Insert some example games (these would be generated by AI in practice)
INSERT INTO users (username, email, subscription_tier) VALUES
('demo_user', 'demo@vrooli.com', 'premium'),
('game_creator', 'creator@vrooli.com', 'pro');

INSERT INTO games (title, prompt, description, code, engine, author_id, tags) VALUES
('Space Jump', 
 'Create a simple platformer where an astronaut jumps between floating platforms in space',
 'A minimalist platformer featuring an astronaut collecting stars in zero gravity',
 '// Simple JavaScript game code would go here
function setup() {
  // Game initialization
  player = { x: 100, y: 300, vy: 0 };
  platforms = [
    { x: 50, y: 350, w: 100, h: 20 },
    { x: 200, y: 250, w: 100, h: 20 }
  ];
}

function update() {
  // Game update loop
  player.vy += 0.5; // gravity
  player.y += player.vy;
  
  // Platform collision
  platforms.forEach(platform => {
    if (collides(player, platform)) {
      player.y = platform.y - 20;
      player.vy = 0;
    }
  });
}',
 'javascript',
 (SELECT id FROM users WHERE username = 'demo_user'),
 ARRAY['platformer', 'space', 'simple']),

('Color Match', 
 'Create a puzzle game where players match colored blocks',
 'A Tetris-inspired puzzle game with color matching mechanics',
 '// Color matching puzzle game
const colors = ["red", "blue", "green", "yellow"];
let board = Array(10).fill().map(() => Array(20).fill(null));
let currentPiece = generatePiece();

function generatePiece() {
  return {
    color: colors[Math.floor(Math.random() * colors.length)],
    shape: [[1,1],[1,1]], // 2x2 square
    x: 4, y: 0
  };
}

function checkMatches() {
  // Find groups of 3+ same colors
  // Clear matches and drop remaining blocks
}',
 'javascript',
 (SELECT id FROM users WHERE username = 'game_creator'),
 ARRAY['puzzle', 'matching', 'colorful']);

-- Insert some high scores
INSERT INTO high_scores (game_id, user_id, score, play_time_seconds) VALUES
((SELECT id FROM games WHERE title = 'Space Jump'), 
 (SELECT id FROM users WHERE username = 'demo_user'), 
 1250, 180),
((SELECT id FROM games WHERE title = 'Color Match'), 
 (SELECT id FROM users WHERE username = 'game_creator'), 
 3400, 420);

-- Insert some favorites
INSERT INTO favorites (user_id, game_id) VALUES
((SELECT id FROM users WHERE username = 'demo_user'), 
 (SELECT id FROM games WHERE title = 'Color Match'));

-- Insert some generation history
INSERT INTO generation_history (user_id, prompt, game_id, success, generation_time_ms, model_used) VALUES
((SELECT id FROM users WHERE username = 'demo_user'),
 'Create a simple platformer where an astronaut jumps between floating platforms in space',
 (SELECT id FROM games WHERE title = 'Space Jump'),
 true, 15000, 'llama3.2'),
((SELECT id FROM users WHERE username = 'game_creator'),
 'Create a puzzle game where players match colored blocks',
 (SELECT id FROM games WHERE title = 'Color Match'),
 true, 18000, 'codellama');