{
  "$schema": "../../../../scripts/scenarios/schemas/endpoints.schema.json",
  "version": "1.0.0",
  "endpoints": [
    {
      "id": "health-check",
      "path": "/health",
      "method": "GET",
      "summary": "Verify API health",
      "description": "Returns overall service health status so orchestration and monitors can detect downtime.",
      "category": "system"
    },
    {
      "id": "search-apis-get",
      "path": "/api/v1/search",
      "method": "GET",
      "summary": "Keyword API search",
      "description": "Performs a keyword-based search across the API catalog using query parameters like query, category, configured, and max_price.",
      "category": "search",
      "query": {
        "query": {
          "type": "string",
          "description": "Search term to match against API names, providers, tags, and descriptions",
          "required": true
        },
        "category": {
          "type": "array",
          "description": "Filter results to one or more category values"
        },
        "configured": {
          "type": "boolean",
          "description": "If true, return only APIs that have stored credentials"
        },
        "max_price": {
          "type": "string",
          "description": "Upper bound for pricing filters (USD)"
        }
      }
    },
    {
      "id": "search-apis-post",
      "path": "/api/v1/search",
      "method": "POST",
      "summary": "Structured API search",
      "description": "Accepts a JSON body with complex search parameters (query, filters, price, configuration flags) and returns the matching APIs.",
      "category": "search",
      "request": {
        "type": "object",
        "properties": {
          "query": "string",
          "categories": "array of category slugs",
          "configured": "boolean",
          "max_price": "number",
          "limit": "integer"
        }
      }
    },
    {
      "id": "list-apis",
      "path": "/api/v1/apis",
      "method": "GET",
      "summary": "List APIs",
      "description": "Returns the saved APIs with metadata, pricing, tags, and configuration state for catalog views.",
      "category": "apis"
    },
    {
      "id": "create-api",
      "path": "/api/v1/apis",
      "method": "POST",
      "summary": "Create API entry",
      "description": "Registers a new API in the catalog including documentation links, auth type, and tags.",
      "category": "apis",
      "request": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": "string",
          "provider": "string",
          "description": "string",
          "category": "string",
          "auth_type": "string"
        }
      }
    },
    {
      "id": "get-api",
      "path": "/api/v1/apis/{id}",
      "method": "GET",
      "summary": "Get API details",
      "description": "Fetches a single API with extended fields like endpoints, pricing tiers, and notes.",
      "category": "apis",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "update-api",
      "path": "/api/v1/apis/{id}",
      "method": "PUT",
      "summary": "Update API metadata",
      "description": "Updates provider info, descriptions, pricing, or other fields for an existing API.",
      "category": "apis",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "delete-api",
      "path": "/api/v1/apis/{id}",
      "method": "DELETE",
      "summary": "Delete API",
      "description": "Removes an API from the catalog along with linked data like endpoints and pricing tiers.",
      "category": "apis",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-notes",
      "path": "/api/v1/apis/{id}/notes",
      "method": "GET",
      "summary": "List API notes",
      "description": "Returns saved notes and gotchas for a specific API entry.",
      "category": "notes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "create-note",
      "path": "/api/v1/apis/{id}/notes",
      "method": "POST",
      "summary": "Add API note",
      "description": "Creates a note detailing integration gotchas, SLA warnings, or upgrade tips for an API.",
      "category": "notes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-api-endpoints",
      "path": "/api/v1/apis/{id}/endpoints",
      "method": "GET",
      "summary": "List canonical endpoints",
      "description": "Shows the official endpoints associated with an API, including methods and documentation references.",
      "category": "apis",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-configured-apis",
      "path": "/api/v1/configured",
      "method": "GET",
      "summary": "List configured APIs",
      "description": "Returns APIs that currently have credentials or configuration records so users can see ready-to-use services.",
      "category": "configuration"
    },
    {
      "id": "mark-configured",
      "path": "/api/v1/apis/{id}/configure",
      "method": "POST",
      "summary": "Mark API configured",
      "description": "Stores credential metadata and marks an API as configured for a specific environment or user.",
      "category": "configuration",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "request-research",
      "path": "/api/v1/request-research",
      "method": "POST",
      "summary": "Request new API research",
      "description": "Queues a research job for APIs that are not yet in the catalog, capturing requirements and desired capabilities.",
      "category": "research"
    },
    {
      "id": "calculate-cost",
      "path": "/api/v1/calculate-cost",
      "method": "POST",
      "summary": "Calculate usage cost",
      "description": "Estimates projected API spend based on pricing tiers and caller-provided monthly usage assumptions.",
      "category": "pricing"
    },
    {
      "id": "list-api-versions",
      "path": "/api/v1/apis/{id}/versions",
      "method": "GET",
      "summary": "List API versions",
      "description": "Returns historical versions that have been recorded for an API along with release metadata.",
      "category": "versions",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "record-api-version",
      "path": "/api/v1/apis/{id}/versions",
      "method": "POST",
      "summary": "Add API version entry",
      "description": "Adds a new version record for an API, tracking breaking changes, rollouts, or deprecations.",
      "category": "versions",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "export-apis",
      "path": "/api/v1/export",
      "method": "GET",
      "summary": "Export APIs",
      "description": "Exports the catalog as JSON or CSV for sharing or offline analysis.",
      "category": "apis"
    },
    {
      "id": "update-api-status",
      "path": "/api/v1/apis/{id}/status",
      "method": "PUT",
      "summary": "Update API status",
      "description": "Updates lifecycle status (active, deprecated, sunset date) for a given API entry.",
      "category": "apis",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-categories",
      "path": "/api/v1/categories",
      "method": "GET",
      "summary": "List categories",
      "description": "Returns catalog categories with counts to power filters and dashboards.",
      "category": "taxonomy"
    },
    {
      "id": "list-tags",
      "path": "/api/v1/tags",
      "method": "GET",
      "summary": "List tags",
      "description": "Returns popular tags with usage counts for filtering and insights.",
      "category": "taxonomy"
    },
    {
      "id": "update-tags",
      "path": "/api/v1/apis/{id}/tags",
      "method": "PUT",
      "summary": "Update API tags",
      "description": "Sets or replaces the tag list for an API entry.",
      "category": "taxonomy",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-snippets",
      "path": "/api/v1/apis/{id}/snippets",
      "method": "GET",
      "summary": "List integration snippets",
      "description": "Returns code snippets that show how to call the selected API in different languages.",
      "category": "snippets",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "create-snippet",
      "path": "/api/v1/apis/{id}/snippets",
      "method": "POST",
      "summary": "Create integration snippet",
      "description": "Adds a new snippet for the API including language, description, and code sample.",
      "category": "snippets",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "list-popular-snippets",
      "path": "/api/v1/snippets/popular",
      "method": "GET",
      "summary": "Popular snippets",
      "description": "Returns snippets with the highest vote counts or usage metrics.",
      "category": "snippets"
    },
    {
      "id": "get-snippet",
      "path": "/api/v1/snippets/{snippet_id}",
      "method": "GET",
      "summary": "Get snippet by ID",
      "description": "Retrieves a single snippet along with metadata and its associated API.",
      "category": "snippets",
      "params": {
        "snippet_id": {
          "type": "uuid",
          "description": "Snippet identifier"
        }
      }
    },
    {
      "id": "vote-snippet",
      "path": "/api/v1/snippets/{snippet_id}/vote",
      "method": "POST",
      "summary": "Vote on snippet",
      "description": "Upvotes or downvotes a snippet to signal usefulness.",
      "category": "snippets",
      "params": {
        "snippet_id": {
          "type": "uuid",
          "description": "Snippet identifier"
        }
      }
    },
    {
      "id": "list-recipes",
      "path": "/api/v1/apis/{id}/recipes",
      "method": "GET",
      "summary": "List integration recipes",
      "description": "Returns reusable integration recipes tied to an API.",
      "category": "recipes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "create-recipe",
      "path": "/api/v1/apis/{id}/recipes",
      "method": "POST",
      "summary": "Create recipe",
      "description": "Adds a new integration recipe for the selected API.",
      "category": "recipes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "get-recipe",
      "path": "/api/v1/recipes/{id}",
      "method": "GET",
      "summary": "Get recipe",
      "description": "Fetches a recipe by ID including steps, required APIs, and success metrics.",
      "category": "recipes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Recipe identifier"
        }
      }
    },
    {
      "id": "update-recipe",
      "path": "/api/v1/recipes/{id}",
      "method": "PUT",
      "summary": "Update recipe",
      "description": "Updates recipe content, status, or documentation links.",
      "category": "recipes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Recipe identifier"
        }
      }
    },
    {
      "id": "delete-recipe",
      "path": "/api/v1/recipes/{id}",
      "method": "DELETE",
      "summary": "Delete recipe",
      "description": "Deletes an integration recipe from the catalog.",
      "category": "recipes",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Recipe identifier"
        }
      }
    },
    {
      "id": "list-successful-recipes",
      "path": "/api/v1/recipes/successful",
      "method": "GET",
      "summary": "Successful recipes",
      "description": "Returns recipes flagged as successful in production deployments.",
      "category": "recipes"
    },
    {
      "id": "compare-apis",
      "path": "/api/v1/compare",
      "method": "POST",
      "summary": "Compare APIs",
      "description": "Compares multiple APIs side-by-side on pricing, SLAs, and capability fields.",
      "category": "analysis"
    },
    {
      "id": "track-usage",
      "path": "/api/v1/apis/{id}/usage",
      "method": "POST",
      "summary": "Track API usage",
      "description": "Records usage events so the system can analyze adoption and health.",
      "category": "analytics",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "get-analytics",
      "path": "/api/v1/apis/{id}/analytics",
      "method": "GET",
      "summary": "Get API analytics",
      "description": "Returns historical usage, performance, and adoption analytics for a specific API.",
      "category": "analytics",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "recommendations",
      "path": "/api/v1/recommendations",
      "method": "GET",
      "summary": "Get API recommendations",
      "description": "Suggests APIs based on user behavior, saved filters, and current stack.",
      "category": "analysis"
    },
    {
      "id": "create-webhook",
      "path": "/api/v1/webhooks",
      "method": "POST",
      "summary": "Create webhook",
      "description": "Registers a webhook callback for catalog changes, approvals, or research events.",
      "category": "webhooks"
    },
    {
      "id": "list-webhooks",
      "path": "/api/v1/webhooks",
      "method": "GET",
      "summary": "List webhooks",
      "description": "Returns registered webhooks with event types and delivery URLs.",
      "category": "webhooks"
    },
    {
      "id": "delete-webhook",
      "path": "/api/v1/webhooks/{id}",
      "method": "DELETE",
      "summary": "Delete webhook",
      "description": "Removes a webhook subscription.",
      "category": "webhooks",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Webhook identifier"
        }
      }
    },
    {
      "id": "test-webhook",
      "path": "/api/v1/webhooks/{id}/test",
      "method": "POST",
      "summary": "Test webhook delivery",
      "description": "Sends a test payload to verify webhook configuration.",
      "category": "webhooks",
      "params": {
        "id": {
          "type": "uuid",
          "description": "Webhook identifier"
        }
      }
    },
    {
      "id": "codegen-spec",
      "path": "/api/v1/codegen/apis/{id}",
      "method": "GET",
      "summary": "Generate code spec",
      "description": "Returns a code generation spec for the API so SDKs or snippets can be produced programmatically.",
      "category": "codegen",
      "params": {
        "id": {
          "type": "uuid",
          "description": "API identifier"
        }
      }
    },
    {
      "id": "codegen-search",
      "path": "/api/v1/codegen/search",
      "method": "POST",
      "summary": "Search codegen catalog",
      "description": "Searches APIs that have codified specs or templates ready for generation.",
      "category": "codegen"
    },
    {
      "id": "codegen-templates",
      "path": "/api/v1/codegen/templates/{language}",
      "method": "GET",
      "summary": "List codegen templates",
      "description": "Returns available code generation templates for a requested language.",
      "category": "codegen",
      "params": {
        "language": {
          "type": "string",
          "description": "Language or runtime key"
        }
      }
    }
  ]
}
