# Requirements Registry: workspace-sandbox

## Overview

This directory contains the requirements definitions for this scenario, organized by operational target.

## Structure

```
requirements/
├── index.json           # Module registry
├── README.md            # This file
└── XX-target-name/      # Per-target module folders
    └── module.json      # Requirements for that target
```

## Operational Targets

Requirements are linked to PRD operational targets using the `prd_ref` field.

| Priority | Target ID | Title | Requirements |
|----------|-----------|-------|-------------|
| P0 | OT-P0-001 | Sandbox Create/Mount Operations | 2 |
| P0 | OT-P0-002 | Overlayfs Copy-on-Write Driver | 1 |
| P0 | OT-P0-003 | Bubblewrap Process Isolation | 1 |
| P0 | OT-P0-004 | Path-Scoped Mutual Exclusion | 1 |
| P0 | OT-P0-005 | Diff Generation | 1 |
| P0 | OT-P0-006 | Patch Application | 1 |
| P0 | OT-P0-007 | Sandbox Lifecycle Management | 1 |
| P0 | OT-P0-008 | Process/Session Tracking | 1 |
| P0 | OT-P0-009 | Health Check API | 1 |
| P1 | OT-P1-001 | Hunk-Level Approval | 1 |
| P1 | OT-P1-002 | Partial Approval Workflow | 1 |
| P1 | OT-P1-003 | GC/Prune Operations | 1 |
| P1 | OT-P1-004 | Audit Trail Metadata | 1 |
| P1 | OT-P1-005 | Pre-commit Validation Hooks | 1 |
| P1 | OT-P1-006 | Commit Attribution Policy | 1 |
| P1 | OT-P1-007 | Safe-Git Wrapper | 1 |
| P1 | OT-P1-008 | Metrics/Observability | 1 |
| P1 | OT-P1-009 | CLI Interface | 1 |
| P2 | OT-P2-001 | Diff Viewer UI | 1 |
| P2 | OT-P2-002 | Conflict Detection | 0 |
| P2 | OT-P2-003 | Retry/Rebase Workflow | 0 |
| P2 | OT-P2-004 | Cross-Platform Driver Interface | 0 |
| P2 | OT-P2-005 | Size Accounting | 1 |
| P2 | OT-P2-006 | Policy Guardrails | 1 |
| P2 | OT-P2-007 | Structured Event Logging | 1 |
| P2 | OT-P2-008 | Agent-Manager Integration | 0 |

## Auto-sync Behavior

Requirements are linked to PRD operational targets via the `prd_ref` field. When operational targets are updated in the PRD:
1. New targets should have corresponding requirements added
2. Removed targets should have their requirements reviewed for relevance
3. Run `prd-control-tower requirements validate` to check for linkage issues

## Validation Commands

```bash
# Validate requirements against PRD
prd-control-tower requirements validate workspace-sandbox

# Check PRD quality (includes requirements validation)
prd-control-tower prd validate workspace-sandbox
```

## Test Tagging

Tag tests with requirement IDs to track coverage:
```go
// [REQ:REQ-P0-001] Test file compression functionality
func TestFileCompression(t *testing.T) { ... }
```

---

*Generated by prd-control-tower on 2025-12-16*
