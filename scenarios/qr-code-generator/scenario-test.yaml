name: qr-code-generator
description: Test suite for QR Code Generator scenario
version: 1.0.0

tests:
  - name: "API Health Check"
    type: http
    endpoint: "http://localhost:${SERVICE_PORT}/health"
    method: GET
    expected_status: 200
    expected_response:
      status: "healthy"
      service: "qr-code-generator"

  - name: "Generate Basic QR Code"
    type: http
    endpoint: "http://localhost:${SERVICE_PORT}/generate"
    method: POST
    headers:
      Content-Type: "application/json"
    body:
      text: "https://vrooli.com"
      size: 256
      format: "png"
    expected_status: 200
    expected_response:
      success: true
      message: "QR code generated successfully"

  - name: "Generate QR with Custom Colors"
    type: http
    endpoint: "http://localhost:${SERVICE_PORT}/generate"
    method: POST
    headers:
      Content-Type: "application/json"
    body:
      text: "Test QR Code"
      size: 512
      color: "#FF0000"
      background: "#0000FF"
      errorCorrection: "H"
      format: "png"
    expected_status: 200
    expected_response:
      success: true

  - name: "Invalid Request - Missing Text"
    type: http
    endpoint: "http://localhost:${SERVICE_PORT}/generate"
    method: POST
    headers:
      Content-Type: "application/json"
    body:
      size: 256
      format: "png"
    expected_status: 400

  - name: "Batch Processing"
    type: http
    endpoint: "http://localhost:${SERVICE_PORT}/batch"
    method: POST
    headers:
      Content-Type: "application/json"
    body:
      items:
        - text: "Batch Item 1"
          label: "First"
        - text: "Batch Item 2"
          label: "Second"
      options:
        size: 256
        color: "#000000"
        background: "#FFFFFF"
        errorCorrection: "M"
        format: "png"
    expected_status: 200
    expected_response:
      success: true

  - name: "UI Accessibility Check"
    type: http
    endpoint: "http://localhost:${UI_PORT}"
    method: GET
    expected_status: 200

  - name: "n8n Workflow Validation"
    type: workflow
    workflow_id: "qr-generator-main"
    validation: exists
    expected: true