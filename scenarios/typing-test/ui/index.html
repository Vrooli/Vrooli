<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚å®Ô∏è RETRO TYPING CHALLENGE</title>
    <link rel="stylesheet" href="styles.css">
    <script type="importmap">
        {
            "imports": {
                "@vrooli/iframe-bridge/child": "./node_modules/@vrooli/iframe-bridge/dist/iframeBridgeChild.js"
            }
        }
    </script>
</head>
<body>
    <div class="crt-container">
        <div class="scanlines"></div>
        <div class="main-wrapper">
            <header class="game-header">
                <h1 class="neon-title">
                    <span class="glitch" data-text="TYPING">TYPING</span>
                    <span class="arcade">CHALLENGE</span>
                </h1>
                <div class="subtitle">[ INSERT COIN TO CONTINUE ]</div>
            </header>

            <div class="game-stats">
                <div class="stat-box">
                    <span class="stat-label">WPM</span>
                    <span class="stat-value" id="wpm">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">ACC</span>
                    <span class="stat-value" id="accuracy">100%</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">TIME</span>
                    <span class="stat-value" id="timer">60</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">SCORE</span>
                    <span class="stat-value" id="score">0</span>
                </div>
            </div>

            <div class="game-area">
                <div class="text-display" id="text-display">
                    <span class="text-content" id="text-content"></span>
                </div>
                
                <div class="input-area">
                    <input type="text" id="typing-input" class="typing-input" 
                           placeholder="Click here and start typing..." 
                           autocomplete="off" spellcheck="false">
                    <div class="input-hint">Press SPACE to start new game</div>
                </div>

                <div class="combo-meter">
                    <div class="combo-label">COMBO</div>
                    <div class="combo-bar">
                        <div class="combo-fill" id="combo-fill"></div>
                    </div>
                    <div class="combo-multiplier" id="combo-multiplier">x1</div>
                </div>
            </div>

            <!-- Visual Keyboard Overlay -->
            <div class="keyboard-overlay" id="keyboard-overlay">
                <div class="keyboard-container">
                    <div class="keyboard-header">
                        <span class="keyboard-title">FINGER GUIDE</span>
                        <button class="keyboard-toggle" id="keyboard-toggle">HIDE</button>
                    </div>
                    <div class="keyboard-visual">
                        <!-- Number row -->
                        <div class="keyboard-row">
                            <div class="key" data-key="`" data-finger="pinky-left">~<br>`</div>
                            <div class="key" data-key="1" data-finger="pinky-left">!<br>1</div>
                            <div class="key" data-key="2" data-finger="ring-left">@<br>2</div>
                            <div class="key" data-key="3" data-finger="middle-left">#<br>3</div>
                            <div class="key" data-key="4" data-finger="index-left">$<br>4</div>
                            <div class="key" data-key="5" data-finger="index-left">%<br>5</div>
                            <div class="key" data-key="6" data-finger="index-right">^<br>6</div>
                            <div class="key" data-key="7" data-finger="index-right">&<br>7</div>
                            <div class="key" data-key="8" data-finger="middle-right">*<br>8</div>
                            <div class="key" data-key="9" data-finger="ring-right">(<br>9</div>
                            <div class="key" data-key="0" data-finger="pinky-right">)<br>0</div>
                            <div class="key" data-key="-" data-finger="pinky-right">_<br>-</div>
                            <div class="key" data-key="=" data-finger="pinky-right">+<br>=</div>
                            <div class="key key-wide" data-key="Backspace" data-finger="pinky-right">BACKSPACE</div>
                        </div>
                        
                        <!-- Top letter row -->
                        <div class="keyboard-row">
                            <div class="key key-wide" data-key="Tab" data-finger="pinky-left">TAB</div>
                            <div class="key" data-key="q" data-finger="pinky-left">Q</div>
                            <div class="key" data-key="w" data-finger="ring-left">W</div>
                            <div class="key" data-key="e" data-finger="middle-left">E</div>
                            <div class="key" data-key="r" data-finger="index-left">R</div>
                            <div class="key" data-key="t" data-finger="index-left">T</div>
                            <div class="key" data-key="y" data-finger="index-right">Y</div>
                            <div class="key" data-key="u" data-finger="index-right">U</div>
                            <div class="key" data-key="i" data-finger="middle-right">I</div>
                            <div class="key" data-key="o" data-finger="ring-right">O</div>
                            <div class="key" data-key="p" data-finger="pinky-right">P</div>
                            <div class="key" data-key="[" data-finger="pinky-right">{<br>[</div>
                            <div class="key" data-key="]" data-finger="pinky-right">}<br>]</div>
                            <div class="key" data-key="\\" data-finger="pinky-right">|<br>\\</div>
                        </div>
                        
                        <!-- Home row -->
                        <div class="keyboard-row">
                            <div class="key key-caps" data-key="CapsLock" data-finger="pinky-left">CAPS</div>
                            <div class="key home-key" data-key="a" data-finger="pinky-left">A</div>
                            <div class="key home-key" data-key="s" data-finger="ring-left">S</div>
                            <div class="key home-key" data-key="d" data-finger="middle-left">D</div>
                            <div class="key home-key" data-key="f" data-finger="index-left">F</div>
                            <div class="key" data-key="g" data-finger="index-left">G</div>
                            <div class="key" data-key="h" data-finger="index-right">H</div>
                            <div class="key home-key" data-key="j" data-finger="index-right">J</div>
                            <div class="key home-key" data-key="k" data-finger="middle-right">K</div>
                            <div class="key home-key" data-key="l" data-finger="ring-right">L</div>
                            <div class="key home-key" data-key=";" data-finger="pinky-right">:<br>;</div>
                            <div class="key" data-key="'" data-finger="pinky-right">"<br>'</div>
                            <div class="key key-enter" data-key="Enter" data-finger="pinky-right">ENTER</div>
                        </div>
                        
                        <!-- Bottom letter row -->
                        <div class="keyboard-row">
                            <div class="key key-shift" data-key="Shift" data-finger="pinky-left">SHIFT</div>
                            <div class="key" data-key="z" data-finger="pinky-left">Z</div>
                            <div class="key" data-key="x" data-finger="ring-left">X</div>
                            <div class="key" data-key="c" data-finger="middle-left">C</div>
                            <div class="key" data-key="v" data-finger="index-left">V</div>
                            <div class="key" data-key="b" data-finger="index-left">B</div>
                            <div class="key" data-key="n" data-finger="index-right">N</div>
                            <div class="key" data-key="m" data-finger="index-right">M</div>
                            <div class="key" data-key="," data-finger="middle-right">&lt;<br>,</div>
                            <div class="key" data-key="." data-finger="ring-right">&gt;<br>.</div>
                            <div class="key" data-key="/" data-finger="pinky-right">?<br>/</div>
                            <div class="key key-shift" data-key="Shift" data-finger="pinky-right">SHIFT</div>
                        </div>
                        
                        <!-- Space bar row -->
                        <div class="keyboard-row">
                            <div class="key key-ctrl" data-key="Control" data-finger="pinky-left">CTRL</div>
                            <div class="key" data-key="Meta" data-finger="thumb-left">WIN</div>
                            <div class="key" data-key="Alt" data-finger="thumb-left">ALT</div>
                            <div class="key key-space" data-key=" " data-finger="thumb">SPACE</div>
                            <div class="key" data-key="Alt" data-finger="thumb-right">ALT</div>
                            <div class="key" data-key="Meta" data-finger="thumb-right">WIN</div>
                            <div class="key" data-key="ContextMenu" data-finger="pinky-right">MENU</div>
                            <div class="key key-ctrl" data-key="Control" data-finger="pinky-right">CTRL</div>
                        </div>
                    </div>
                    
                    <div class="finger-guide">
                        <div class="finger-info">
                            <div class="finger-group left-hand">
                                <div class="hand-label">LEFT HAND</div>
                                <div class="finger pinky-left">Pinky</div>
                                <div class="finger ring-left">Ring</div>
                                <div class="finger middle-left">Middle</div>
                                <div class="finger index-left">Index</div>
                                <div class="finger thumb-left">Thumb</div>
                            </div>
                            <div class="finger-group right-hand">
                                <div class="hand-label">RIGHT HAND</div>
                                <div class="finger thumb-right">Thumb</div>
                                <div class="finger index-right">Index</div>
                                <div class="finger middle-right">Middle</div>
                                <div class="finger ring-right">Ring</div>
                                <div class="finger pinky-right">Pinky</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="control-panel">
                <button class="arcade-button" id="start-btn">
                    <span class="button-label">START GAME</span>
                </button>
                <button class="arcade-button" id="mode-btn">
                    <span class="button-label">MODE: CLASSIC</span>
                </button>
                <button class="arcade-button" id="difficulty-btn">
                    <span class="button-label">LEVEL: EASY</span>
                </button>
                <button class="arcade-button" id="leaderboard-btn">
                    <span class="button-label">HIGH SCORES</span>
                </button>
            </div>

            <div class="leaderboard-panel" id="leaderboard-panel" style="display: none;">
                <h2 class="panel-title">üèÜ HIGH SCORES üèÜ</h2>
                <div class="leaderboard-tabs">
                    <button class="tab-button active" data-period="today">TODAY</button>
                    <button class="tab-button" data-period="week">WEEK</button>
                    <button class="tab-button" data-period="all">ALL TIME</button>
                </div>
                <div class="leaderboard-list" id="leaderboard-list">
                    <div class="loading-scores">Loading scores...</div>
                </div>
                <button class="close-button" id="close-leaderboard">‚úï</button>
            </div>

            <div class="game-over-panel" id="game-over-panel" style="display: none;">
                <h2 class="game-over-title">GAME OVER</h2>
                <div class="final-stats">
                    <div class="final-stat">
                        <span class="label">Final WPM:</span>
                        <span class="value" id="final-wpm">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="label">Accuracy:</span>
                        <span class="value" id="final-accuracy">0%</span>
                    </div>
                    <div class="final-stat">
                        <span class="label">Total Score:</span>
                        <span class="value" id="final-score">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="label">Best Combo:</span>
                        <span class="value" id="final-combo">0</span>
                    </div>
                </div>
                <div class="name-entry" id="name-entry">
                    <input type="text" id="player-name" class="player-name-input" 
                           placeholder="Enter your name" maxlength="10">
                    <button class="submit-score-btn" id="submit-score">SUBMIT SCORE</button>
                </div>
                <button class="play-again-btn" id="play-again">PLAY AGAIN</button>
            </div>

            <footer class="game-footer">
                <div class="footer-info">
                    <span class="power-level">POWER: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë</span>
                    <span class="system-status">SYSTEM: ONLINE</span>
                    <span class="credits">VROOLI ARCADE ¬© 2025</span>
                </div>
            </footer>
        </div>
    </div>
    
    <script type="module" src="script.js"></script>
</body>
</html>
