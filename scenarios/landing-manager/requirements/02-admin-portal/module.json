{
  "module_id": "admin-portal",
  "title": "Admin Portal Core",
  "priority": "P0",
  "description": "Secure admin portal for managing landing page content, A/B variants, and analytics",
  "requirements": [
    {
      "id": "AGENT-TRIGGER",
      "title": "Agent integration trigger",
      "prd_ref": "OT-P0-005",
      "criticality": "P0",
      "description": "Trigger agent customization run for a specific landing page from factory scenario",
      "validation": [
        {
          "type": "automation",
          "phase": "business",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "notes": "API endpoint or CLI command to spawn Claude Code agent with structured brief"
    },
    {
      "id": "AGENT-INPUT",
      "title": "Structured agent input",
      "prd_ref": "OT-P0-006",
      "criticality": "P0",
      "description": "Agent receives structured brief (text + assets + goals) and writes changes via defined APIs/files only",
      "validation": [
        {
          "type": "automation",
          "phase": "business",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "dependencies": [
        "AGENT-TRIGGER"
      ],
      "notes": "Agent should NEVER directly edit arbitrary files; only use configuration APIs"
    },
    {
      "id": "ADMIN-HIDDEN",
      "title": "Security by obscurity",
      "prd_ref": "OT-P0-007",
      "criticality": "P0",
      "description": "Admin portal not linked from any public page or sitemap",
      "validation": [
        {
          "type": "automation",
          "phase": "integration",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "notes": "Admin routes on /admin path with no public references. BAS playbook created."
    },
    {
      "id": "ADMIN-AUTH",
      "title": "Authentication",
      "prd_ref": "OT-P0-008",
      "criticality": "P0",
      "description": "Admin portal protected by email/password with bcrypt/argon2 password hashing",
      "validation": [
        {
          "type": "automation",
          "phase": "integration",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "notes": "bcrypt authentication implemented (api/auth.go). Session management with httpOnly cookies. BAS playbook created."
    },
    {
      "id": "ADMIN-MODES",
      "title": "Admin home modes",
      "prd_ref": "OT-P0-009",
      "criticality": "P0",
      "description": "Admin home displays exactly two modes: Analytics / Metrics and Customization",
      "validation": [
        {
          "type": "automation",
          "phase": "integration",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "dependencies": [
        "ADMIN-AUTH"
      ],
      "notes": "Admin home page (ui/src/pages/AdminHome.tsx) displays two mode cards. BAS playbook created."
    },
    {
      "id": "ADMIN-NAV",
      "title": "Navigation efficiency",
      "prd_ref": "OT-P0-010",
      "criticality": "P0",
      "description": "Navigate to any customization card in â‰¤ 3 clicks from admin home",
      "validation": [
        {
          "type": "automation",
          "phase": "integration",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "dependencies": [
        "ADMIN-MODES"
      ],
      "notes": "Both mode cards accessible in 1 click from admin home. BAS playbook created."
    },
    {
      "id": "ADMIN-BREADCRUMB",
      "title": "Breadcrumb navigation",
      "prd_ref": "OT-P0-011",
      "criticality": "P0",
      "description": "All admin pages show breadcrumb indicating current location",
      "validation": [
        {
          "type": "automation",
          "phase": "integration",
          "status": "failing",
          "ref": "test/playbooks/capabilities/admin-portal/ui/admin-portal.json"
        }
      ],
      "status": "in_progress",
      "notes": "Breadcrumb component displays 'Admin' on admin home. BAS playbook created."
    }
  ],
  "_metadata": {}
}
