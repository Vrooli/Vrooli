{
  "_metadata": {
    "description": "Parent registry linking operational targets to technical requirements",
    "auto_sync_enabled": true,
    "schema_version": "1.0.0"
  },
  "requirements": [
    {
      "id": "OT-P0-001",
      "title": "Template Registry & Discovery",
      "priority": "P0",
      "status": "complete",
      "prd_ref": "OT-P0-001",
      "description": "Expose templates via CLI/API with metadata for listing, inspection, and selection (availability, metadata quality, multi-template support)",
      "linked_requirements": [
        "TMPL-AVAILABILITY",
        "TMPL-METADATA",
        "TMPL-MULTIPLE"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/template_service_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "ui/src/pages/TemplateAvailability.test.tsx"
        }
      ],
      "notes": "Multi-layer validation via child requirements: API tests (template_service_test.go) validate template listing/metadata/multi-template support, UI tests validate template catalog display and selection. All 3 linked requirements (TMPL-AVAILABILITY, TMPL-METADATA, TMPL-MULTIPLE) complete with API+UI validation."
    },
    {
      "id": "OT-P0-002",
      "title": "Scenario Generation Pipeline",
      "priority": "P0",
      "status": "complete",
      "prd_ref": "OT-P0-002",
      "description": "Generate runnable landing-page scenarios with single command, proper output structure, provenance stamping, and validation",
      "linked_requirements": [
        "TMPL-GENERATION",
        "TMPL-OUTPUT-VALIDATION",
        "TMPL-PROVENANCE"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/generation_core_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "ui/src/pages/TemplateGeneration.test.tsx"
        }
      ],
      "notes": "Multi-layer validation via child requirements: API tests (generation_core_test.go, generation_output_validation_test.go, generation_provenance_test.go) validate generation pipeline correctness, UI tests validate generation form and workflow. All 3 linked requirements (TMPL-GENERATION, TMPL-OUTPUT-VALIDATION, TMPL-PROVENANCE) complete with API+UI validation."
    },
    {
      "id": "OT-P0-003",
      "title": "Agent Integration & Customization",
      "priority": "P0",
      "status": "complete",
      "prd_ref": "OT-P0-003",
      "description": "Trigger agent-based customization with structured briefs and predefined personas",
      "linked_requirements": [
        "AGENT-TRIGGER",
        "TMPL-AGENT-PROFILES"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/main_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "ui/src/pages/AgentTrigger.test.tsx"
        }
      ],
      "notes": "Multi-layer validation via child requirements: API tests (main_test.go, personas_test.go) validate agent triggering and persona catalog, UI tests validate customization form and agent profiles display. All 2 linked requirements (AGENT-TRIGGER, TMPL-AGENT-PROFILES) complete with API+UI validation."
    },
    {
      "id": "OT-P0-004",
      "title": "Template Runtime Alignment",
      "priority": "P0",
      "status": "complete",
      "prd_ref": "OT-P0-004",
      "description": "Keep the landing-page template PRD at `scripts/scenarios/templates/landing-page-react-vite/PRD.md` authoritative, surface it in CLI/UI handoffs, and ensure template runtime documentation/reference coverage before generating new scenarios",
      "linked_requirements": [
        "TMPL-RUNTIME-ALIGNMENT"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/runtime_alignment_test.go"
        }
      ],
      "notes": "README, CLI help, and the landing-page PRD all reference the template runtime spec at `scripts/scenarios/templates/landing-page-react-vite/PRD.md` so generated scenarios inherit a consistent brief."
    },
    {
      "id": "OT-P1-001",
      "title": "Generation Workflow Enhancements",
      "priority": "P1",
      "status": "complete",
      "prd_ref": "OT-P1-001",
      "description": "Add preview links, dry-run planning, generation diagnostics, UI-based lifecycle management (start/stop/logs/access generated scenarios without terminal), and UI-based promotion from staging to production",
      "linked_requirements": [
        "TMPL-PREVIEW-LINKS",
        "TMPL-DRY-RUN",
        "TMPL-LIFECYCLE",
        "TMPL-PROMOTION"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/preview_links_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/generation_dry_run_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/integration_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "ui/src/pages/TemplatePreviewLinks.test.tsx"
        }
      ],
      "notes": "Multi-layer validation (API + UI): API tests validate preview links (preview_links_test.go), dry-run mode (generation_dry_run_test.go), and lifecycle operations (integration_test.go). UI tests validate preview link display (TemplatePreviewLinks.test.tsx). Child requirements include E2E automation (TMPL-DRY-RUN, TMPL-LIFECYCLE, TMPL-PROMOTION) currently failing due to external BAS MinIO bug (documented in PROBLEMS.md). All 4 linked requirements functionally complete - preview links working, dry-run verified via CLI/API/unit tests, lifecycle management fully implemented."
    },
    {
      "id": "OT-P2-001",
      "title": "Ecosystem Expansion",
      "priority": "P2",
      "status": "complete",
      "prd_ref": "OT-P2-001",
      "description": "Template marketplace, migration tooling, and factory-level analytics",
      "linked_requirements": [
        "TMPL-MARKETPLACE",
        "TMPL-MIGRATION",
        "TMPL-GENERATION-ANALYTICS"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "api/analytics_test.go"
        },
        {
          "type": "test",
          "phase": "unit",
          "status": "implemented",
          "ref": "ui/src/pages/TemplateAnalytics.test.tsx"
        }
      ],
      "notes": "P2 expansion in progress: 1/3 linked requirements complete. TMPL-GENERATION-ANALYTICS complete with multi-layer validation (API + UI tests). TMPL-MARKETPLACE and TMPL-MIGRATION remain pending - require business decisions on marketplace trust model and migration strategy."
    }
  ],
  "imports": [
    "01-template-management/module.json"
  ]
}
