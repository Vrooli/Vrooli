{
  "_metadata": {
    "description": "Catalog enumeration and PRD status tracking requirements",
    "domain": "catalog",
    "last_updated": "2025-11-14"
  },
  "requirements": [
    {
      "id": "PCT-CATALOG-ENUMERATE",
      "category": "catalog.api",
      "prd_ref": "Core Components > PRD Catalog Service",
      "title": "Catalog enumerates all scenarios and resources with PRD status",
      "description": "Verifies GET /api/v1/catalog returns complete list of entities by globbing scenarios/*/PRD.md and resources/*/PRD.md, detecting draft presence, and extracting descriptions.",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/catalog_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "TestEnumerateEntities, TestHandleGetCatalog with mock filesystem"
        },
        {
          "type": "test",
          "ref": "api/handlers_catalog_test.go",
          "phase": "integration",
          "status": "implemented",
          "notes": "TestHandleGetCatalog validates catalog API endpoint integration"
        },
        {
          "type": "test",
          "ref": "test/playbooks/capabilities/01-catalog/e2e/catalog-view-and-navigate.json",
          "phase": "business",
          "status": "failing",
          "notes": "End-to-end validation of catalog enumeration and navigation workflow"
        }
      ]
    },
    {
      "id": "PCT-CATALOG-VIEW-PRD",
      "category": "catalog.api",
      "prd_ref": "Functional Requirements > Must Have > Published PRD viewer (read-only, properly formatted markdown)",
      "title": "Published PRD viewer renders markdown correctly",
      "description": "Confirms GET /api/v1/catalog/{type}/{name} returns PRD content with proper markdown formatting.",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/catalog_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "TestHandleGetPublishedPRD validates PRD content retrieval"
        },
        {
          "type": "test",
          "ref": "api/handlers_catalog_test.go",
          "phase": "integration",
          "status": "implemented",
          "notes": "Handler tests validate GET /api/v1/catalog/{type}/{name} endpoint"
        },
        {
          "type": "test",
          "ref": "test/playbooks/capabilities/01-catalog/e2e/catalog-view-and-navigate.json",
          "phase": "business",
          "status": "failing",
          "notes": "E2E validation of navigation to PRD detail view"
        }
      ]
    },
    {
      "id": "PCT-CATALOG-STATUS",
      "category": "catalog.ui",
      "prd_ref": "Catalog View > Status indicators",
      "title": "Catalog displays accurate status badges for each entity",
      "description": "Ensures UI renders âœ… Has PRD, âš ï¸ Violations, âŒ Missing, ðŸ“ Draft Pending badges based on API response.",
      "status": "in_progress",
      "validation": [
        {
          "type": "test",
          "ref": "api/catalog_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Catalog enumeration tests validate status indicators (has_prd, has_draft, violations)"
        },
        {
          "type": "test",
          "ref": "api/handlers_catalog_test.go",
          "phase": "integration",
          "status": "implemented",
          "notes": "Catalog API endpoint tests validate status badge data in response"
        },
        {
          "type": "test",
          "ref": "test/playbooks/capabilities/01-catalog/e2e/catalog-view-and-navigate.json",
          "phase": "business",
          "status": "failing",
          "notes": "E2E validation of catalog status badges rendering"
        }
      ]
    },
    {
      "id": "PCT-CATALOG-FILTER",
      "category": "catalog.ui",
      "prd_ref": "Catalog View > Filter by type, search by name",
      "title": "Catalog supports search and filter operations",
      "description": "Confirms search input filters entities by name/type and UI updates reactively.",
      "status": "complete",
      "validation": [
        {
          "type": "test",
          "ref": "api/catalog_test.go",
          "phase": "unit",
          "status": "implemented",
          "notes": "Catalog tests validate filtering and search logic"
        },
        {
          "type": "test",
          "ref": "api/handlers_catalog_test.go",
          "phase": "integration",
          "status": "implemented",
          "notes": "Handler tests validate catalog API with query parameter filtering"
        }
      ]
    }
  ]
}
