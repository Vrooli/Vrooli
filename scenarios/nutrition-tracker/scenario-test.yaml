name: nutrition-tracker
description: Test suite for Nutrition Tracker scenario
version: 1.0.0

tests:
  - name: API Health Check
    type: http
    endpoint: http://localhost:8081/api/health
    method: GET
    expected_status: 200
    expected_response:
      status: healthy
      service: nutrition-tracker-api

  - name: Create Meal
    type: http
    endpoint: http://localhost:8081/api/meals
    method: POST
    body:
      user_id: test-user
      meal_type: breakfast
      food_description: "Oatmeal with berries"
      calories: 280
      protein: 8
      carbs: 45
      fat: 6
    expected_status: 201

  - name: Get Today's Meals
    type: http
    endpoint: http://localhost:8081/api/meals/today?user_id=test-user
    method: GET
    expected_status: 200

  - name: Search Foods
    type: http
    endpoint: http://localhost:8081/api/foods/search?q=chicken
    method: GET
    expected_status: 200

  - name: Get Nutrition Goals
    type: http
    endpoint: http://localhost:8081/api/goals?user_id=test-user
    method: GET
    expected_status: 200

  - name: Analyze Food via N8N
    type: n8n
    workflow: nutrition-analyzer
    input:
      food_description: "grilled chicken breast with vegetables"
      meal_type: lunch
      user_id: test-user
    expected:
      status: success

  - name: Get Meal Suggestions via N8N
    type: n8n
    workflow: meal-suggester
    input:
      user_id: test-user
      meal_type: dinner
      remaining_calories: 600
      remaining_protein: 25
      remaining_carbs: 75
      remaining_fat: 20
    expected:
      status: success

  - name: CLI Track Food
    type: cli
    command: nutrition-tracker track "apple with peanut butter" --meal-type snack
    expected_output: "Food tracked successfully"

  - name: CLI Search Food
    type: cli
    command: nutrition-tracker search "banana"
    expected_output: "Banana"

  - name: CLI View Goals
    type: cli
    command: nutrition-tracker goals
    expected_output: "Daily Calories"