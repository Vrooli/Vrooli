{
  "module_id": "mini-vrooli-bundling",
  "title": "Mini Vrooli Bundle",
  "priority": "P0",
  "description": "Build a deployable tarball containing only the required Vrooli core + dependencies.",
  "requirements": [
    {
      "id": "STC-P0-002",
      "category": "bundling",
      "prd_ref": "OT-P0-002",
      "title": "Deterministic mini-Vrooli tarball",
      "description": "Given a manifest, produce a tarball that includes required scenarios/resources (from analyzer), always includes packages/, always includes vrooli-autoheal, and excludes unrelated content.",
      "status": "planned",
      "tags": [
        "bundling",
        "tarball",
        "stripper"
      ],
      "validation": [
        {
          "type": "test",
          "phase": "unit",
          "status": "planned",
          "ref": "api/bundling_rules_test.go",
          "notes": "Tag tests with [REQ:STC-P0-002]."
        },
        {
          "type": "playbook",
          "phase": "playbooks",
          "status": "planned",
          "ref": "test/playbooks/vps/build-mini-vrooli-bundle.yaml",
          "notes": "E2E planned: build tarball for landing-page-business-suite and assert expected files exist. Tag with [REQ:STC-P0-002]."
        }
      ]
    },
    {
      "id": "STC-P0-008",
      "category": "bundling",
      "prd_ref": "OT-P0-002",
      "title": "Tarball is reproducible and self-contained",
      "description": "The produced tarball can be scpâ€™d to a fresh VPS and unpacked without missing files (packages/, required scenarios/resources present, no references back to the original repo path).",
      "status": "planned",
      "tags": [
        "bundling",
        "reproducibility"
      ],
      "validation": [
        {
          "type": "playbook",
          "phase": "playbooks",
          "status": "planned",
          "ref": "test/playbooks/vps/bundle-self-contained.yaml",
          "notes": "E2E planned. Tag with [REQ:STC-P0-008]."
        }
      ]
    }
  ]
}
