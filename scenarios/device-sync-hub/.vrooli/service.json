{
  "name": "device-sync-hub",
  "version": "1.0.0",
  "description": "Cross-device file and clipboard synchronization for seamless data sharing",
  "category": "productivity",
  "tags": ["sync", "mobile", "file-sharing", "cross-device", "productivity"],
  
  "services": {
    "api": {
      "type": "nodejs",
      "entry": "api/server.js",
      "port": 3300,
      "environment": {
        "NODE_ENV": "development",
        "API_PORT": "3300",
        "UI_PORT": "3301",
        "AUTH_SERVICE_URL": "http://localhost:3250",
        "STORAGE_PATH": "./data/files",
        "MAX_FILE_SIZE": "10485760",
        "DEFAULT_EXPIRY_HOURS": "24",
        "DATABASE_URL": "${service.postgres.url}",
        "REDIS_URL": "${service.redis.url}"
      },
      "health_check": "/health"
    },
    
    "ui": {
      "type": "static",
      "entry": "ui/index.html", 
      "port": 3301,
      "serve_path": "./ui"
    }
  },
  
  "resources": {
    "required": [
      {
        "name": "scenario-authenticator",
        "type": "scenario",
        "purpose": "User authentication and session management"
      },
      {
        "name": "postgres", 
        "type": "database",
        "purpose": "File metadata and device session storage",
        "schema": "initialization/postgres/schema.sql"
      }
    ],
    "optional": [
      {
        "name": "redis",
        "type": "cache", 
        "purpose": "WebSocket session management and caching"
      }
    ]
  },
  
  "initialization": {
    "postgres": {
      "schema_files": [
        "initialization/postgres/schema.sql"
      ]
    },
    "n8n": {
      "workflows": [
        "initialization/n8n/auth-middleware.json"
      ]
    }
  },
  
  "cli": {
    "binary": "device-sync-hub",
    "install_script": "cli/install.sh"
  },
  
  "api": {
    "base_url": "http://localhost:3300",
    "endpoints": [
      {
        "path": "/api/v1/sync/upload",
        "method": "POST",
        "description": "Upload files or text for cross-device sharing"
      },
      {
        "path": "/api/v1/sync/items", 
        "method": "GET",
        "description": "List all active sync items for user"
      },
      {
        "path": "/api/v1/sync/items/{id}",
        "method": "DELETE", 
        "description": "Delete a sync item immediately"
      },
      {
        "path": "/api/v1/sync/items/{id}/download",
        "method": "GET",
        "description": "Download a sync item"
      },
      {
        "path": "/api/v1/sync/websocket",
        "method": "GET",
        "description": "WebSocket connection for real-time sync"
      }
    ]
  },
  
  "ui_info": {
    "url": "http://localhost:3301",
    "mobile_optimized": true,
    "responsive": true,
    "style": "modern-mobile-first"
  },
  
  "capabilities": [
    "cross-device-file-sharing",
    "real-time-sync", 
    "mobile-first-ui",
    "clipboard-sharing",
    "secure-authentication",
    "automatic-cleanup"
  ],
  
  "integration": {
    "provides": [
      {
        "capability": "device-sync",
        "interface": "api",
        "description": "Cross-device data synchronization"
      }
    ],
    "consumes": [
      {
        "service": "scenario-authenticator",
        "capability": "authentication",
        "interface": "api"
      }
    ]
  },
  
  "testing": {
    "test_file": "scenario-test.yaml",
    "integration_tests": "test/integration.sh",
    "performance_tests": "test/performance.sh"
  },
  
  "deployment": {
    "type": "local",
    "auto_start": true,
    "health_check_interval": 30,
    "restart_on_failure": true
  }
}