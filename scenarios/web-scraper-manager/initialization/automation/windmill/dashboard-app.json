{
  "value": {
    "type": "tabscomponent",
    "tabs": [
      {
        "id": "overview",
        "value": "Overview"
      },
      {
        "id": "agents",
        "value": "Active Agents"
      },
      {
        "id": "results",
        "value": "Recent Results"
      },
      {
        "id": "analytics",
        "value": "Analytics"
      },
      {
        "id": "settings",
        "value": "Settings"
      }
    ],
    "configuration": {
      "overview": {
        "type": "containercomponent",
        "components": [
          {
            "id": "header",
            "type": "textcomponent",
            "configuration": {
              "text": "# ðŸ•·ï¸ Web Scraper Management Dashboard\n## Unified Control Center for Huginn, Browserless & Agent-S2\n**Managing {{agent_count || 0}} agents** | **{{active_scrapes || 0}} active scrapes** | Last updated: {{now.format('HH:mm:ss')}}",
              "style": {
                "fontSize": "16px",
                "fontWeight": "600",
                "color": "#065f46",
                "backgroundColor": "#ecfdf5",
                "padding": "20px",
                "borderRadius": "8px",
                "marginBottom": "20px"
              }
            }
          },
          {
            "id": "summary_grid",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fit, minmax(200px, 1fr))",
                "gap": "15px",
                "marginBottom": "30px"
              }
            },
            "components": [
              {
                "id": "huginn_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#fef3c7",
                    "border": "2px solid #f59e0b",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "huginn_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{huginn_agents || 0}}\n**Huginn Agents**\n*RSS & Social Media*",
                      "style": {"color": "#92400e", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "browserless_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#dbeafe",
                    "border": "2px solid #3b82f6",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "browserless_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{browserless_agents || 0}}\n**Browserless Agents**\n*JavaScript Sites*",
                      "style": {"color": "#1e40af", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "agents2_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f3e8ff",
                    "border": "2px solid #8b5cf6",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "agents2_count",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{agents2_count || 0}}\n**Agent-S2 Agents**\n*AI-Powered Scraping*",
                      "style": {"color": "#6b21a8", "marginBottom": "0"}
                    }
                  }
                ]
              },
              {
                "id": "success_rate_card",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "backgroundColor": "#f0fdf4",
                    "border": "2px solid #22c55e",
                    "borderRadius": "12px",
                    "padding": "15px",
                    "textAlign": "center"
                  }
                },
                "components": [
                  {
                    "id": "success_rate",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "## {{(success_rate || 0).toFixed(1)}}%\n**Success Rate**\n*Last 24 Hours*",
                      "style": {"color": "#15803d", "marginBottom": "0"}
                    }
                  }
                ]
              }
            ]
          },
          {
            "id": "activity_overview",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px",
                "marginBottom": "20px"
              }
            },
            "components": [
              {
                "id": "activity_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸ“Š Scraping Activity (Last 24 Hours)",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "activity_stats",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "display": "grid",
                    "gridTemplateColumns": "repeat(auto-fit, minmax(120px, 1fr))",
                    "gap": "15px"
                  }
                },
                "components": [
                  {
                    "id": "total_scrapes",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**{{total_scrapes || 0}}**\nTotal Scrapes",
                      "style": {"textAlign": "center", "padding": "10px", "backgroundColor": "#f9fafb", "borderRadius": "6px"}
                    }
                  },
                  {
                    "id": "data_points",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**{{data_points || 0}}**\nData Points",
                      "style": {"textAlign": "center", "padding": "10px", "backgroundColor": "#f9fafb", "borderRadius": "6px"}
                    }
                  },
                  {
                    "id": "avg_time",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**{{avg_execution_time || 0}}s**\nAvg Time",
                      "style": {"textAlign": "center", "padding": "10px", "backgroundColor": "#f9fafb", "borderRadius": "6px"}
                    }
                  },
                  {
                    "id": "storage_used",
                    "type": "textcomponent",
                    "configuration": {
                      "text": "**{{storage_used || 0}}MB**\nStorage Used",
                      "style": {"textAlign": "center", "padding": "10px", "backgroundColor": "#f9fafb", "borderRadius": "6px"}
                    }
                  }
                ]
              }
            ]
          },
          {
            "id": "recent_results",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "results_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸ“‹ Recent Scraping Results",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "results_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ recent_results || [] }}",
                  "columns": [
                    {
                      "field": "completed_at",
                      "header": "Time",
                      "type": "datetime",
                      "width": "140px"
                    },
                    {
                      "field": "agent_name",
                      "header": "Agent"
                    },
                    {
                      "field": "platform",
                      "header": "Platform",
                      "type": "badge",
                      "width": "100px",
                      "colorMap": {
                        "huginn": "warning",
                        "browserless": "info",
                        "agent-s2": "purple"
                      }
                    },
                    {
                      "field": "status",
                      "header": "Status",
                      "type": "badge",
                      "width": "80px",
                      "colorMap": {
                        "success": "success",
                        "failed": "danger",
                        "partial": "warning"
                      }
                    },
                    {
                      "field": "extracted_count",
                      "header": "Data Points",
                      "type": "number",
                      "width": "100px"
                    },
                    {
                      "field": "execution_time_ms",
                      "header": "Time (ms)",
                      "type": "number",
                      "width": "100px"
                    }
                  ],
                  "pagination": true,
                  "pageSize": 10,
                  "sortable": true,
                  "defaultSort": {
                    "field": "completed_at",
                    "direction": "desc"
                  }
                }
              }
            ]
          }
        ]
      },
      "agents": {
        "type": "containercomponent",
        "components": [
          {
            "id": "agents_header",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "flex",
                "justifyContent": "space-between",
                "alignItems": "center",
                "marginBottom": "20px"
              }
            },
            "components": [
              {
                "id": "agents_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸ¤– Active Scraping Agents",
                  "style": {"margin": "0"}
                }
              },
              {
                "id": "refresh_agents",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "ðŸ”„ Refresh",
                  "color": "primary",
                  "size": "small",
                  "onClick": {
                    "type": "run_query",
                    "query": "get_agents"
                  }
                }
              }
            ]
          },
          {
            "id": "agents_grid",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "repeat(auto-fill, minmax(300px, 1fr))",
                "gap": "20px"
              }
            },
            "components": [
              {
                "id": "agent_cards",
                "type": "forloopcomponent",
                "configuration": {
                  "data": "={{ scraping_agents || [] }}",
                  "iterator": "agent",
                  "component": {
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "border": "1px solid #e5e7eb",
                        "borderRadius": "12px",
                        "padding": "15px",
                        "backgroundColor": "white",
                        "borderLeftWidth": "4px",
                        "borderLeftColor": "={{ agent.platform === 'huginn' ? '#f59e0b' : agent.platform === 'browserless' ? '#3b82f6' : '#8b5cf6' }}"
                      }
                    },
                    "components": [
                      {
                        "id": "agent_header",
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "justifyContent": "space-between",
                            "alignItems": "center",
                            "marginBottom": "10px"
                          }
                        },
                        "components": [
                          {
                            "id": "agent_name",
                            "type": "textcomponent",
                            "configuration": {
                              "text": "**{{ agent.name }}**",
                              "style": {"margin": "0", "fontSize": "16px"}
                            }
                          },
                          {
                            "id": "enabled_status",
                            "type": "textcomponent",
                            "configuration": {
                              "text": "{{ agent.enabled ? 'ðŸŸ¢' : 'ðŸ”´' }}",
                              "style": {"fontSize": "16px"}
                            }
                          }
                        ]
                      },
                      {
                        "id": "agent_details",
                        "type": "textcomponent",
                        "configuration": {
                          "text": "**Platform:** {{ agent.platform }}\n**Type:** {{ agent.agent_type }}\n**Schedule:** {{ agent.schedule_cron || 'Manual' }}\n**Last Run:** {{ agent.last_run ? new Date(agent.last_run).toLocaleString() : 'Never' }}\n**Success Rate:** {{ (agent.success_rate || 0).toFixed(1) }}%",
                          "style": {"fontSize": "12px", "color": "#4b5563", "lineHeight": "1.4", "marginBottom": "10px"}
                        }
                      },
                      {
                        "id": "agent_actions",
                        "type": "containercomponent",
                        "configuration": {
                          "style": {
                            "display": "flex",
                            "gap": "8px",
                            "flexWrap": "wrap"
                          }
                        },
                        "components": [
                          {
                            "id": "run_now",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "â–¶ï¸ Run",
                              "color": "success",
                              "size": "xs",
                              "onClick": {
                                "type": "confirm_action",
                                "message": "Run {{ agent.name }} now?",
                                "action": {
                                  "type": "run_query",
                                  "query": "run_agent",
                                  "params": {
                                    "agent_id": "{{ agent.id }}"
                                  }
                                }
                              }
                            }
                          },
                          {
                            "id": "pause_agent",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "{{ agent.enabled ? 'â¸ï¸' : 'â–¶ï¸' }}",
                              "color": "{{ agent.enabled ? 'warning' : 'success' }}",
                              "size": "xs",
                              "title": "{{ agent.enabled ? 'Pause' : 'Resume' }}",
                              "onClick": {
                                "type": "run_query",
                                "query": "toggle_agent",
                                "params": {
                                  "agent_id": "{{ agent.id }}",
                                  "enabled": "{{ !agent.enabled }}"
                                }
                              }
                            }
                          },
                          {
                            "id": "view_results",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "ðŸ“Š",
                              "color": "info",
                              "size": "xs",
                              "title": "View Results",
                              "onClick": {
                                "type": "navigate",
                                "tab": "results",
                                "filter": "agent_id={{ agent.id }}"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "results": {
        "type": "containercomponent",
        "components": [
          {
            "id": "results_header",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "flex",
                "justifyContent": "space-between",
                "alignItems": "center",
                "marginBottom": "20px"
              }
            },
            "components": [
              {
                "id": "results_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "### ðŸ“ˆ Scraping Results",
                  "style": {"margin": "0"}
                }
              },
              {
                "id": "export_results",
                "type": "buttoncomponent",
                "configuration": {
                  "text": "ðŸ“¤ Export",
                  "color": "success",
                  "size": "small",
                  "onClick": {
                    "type": "run_query",
                    "query": "export_results"
                  }
                }
              }
            ]
          },
          {
            "id": "filter_section",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "#f9fafb",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "15px",
                "marginBottom": "20px",
                "display": "flex",
                "gap": "15px",
                "flexWrap": "wrap",
                "alignItems": "center"
              }
            },
            "components": [
              {
                "id": "filter_label",
                "type": "textcomponent",
                "configuration": {
                  "text": "**Filters:**",
                  "style": {"margin": "0"}
                }
              },
              {
                "id": "platform_filter",
                "type": "selectcomponent",
                "configuration": {
                  "label": "Platform",
                  "options": [
                    {"value": "all", "label": "All Platforms"},
                    {"value": "huginn", "label": "Huginn"},
                    {"value": "browserless", "label": "Browserless"},
                    {"value": "agent-s2", "label": "Agent-S2"}
                  ],
                  "value": "all",
                  "onChange": {
                    "type": "set_variable",
                    "variable": "platform_filter",
                    "value": "{{ value }}"
                  }
                }
              },
              {
                "id": "status_filter",
                "type": "selectcomponent",
                "configuration": {
                  "label": "Status",
                  "options": [
                    {"value": "all", "label": "All Status"},
                    {"value": "success", "label": "Success"},
                    {"value": "failed", "label": "Failed"},
                    {"value": "partial", "label": "Partial"}
                  ],
                  "value": "all",
                  "onChange": {
                    "type": "set_variable",
                    "variable": "status_filter",
                    "value": "{{ value }}"
                  }
                }
              },
              {
                "id": "date_filter",
                "type": "selectcomponent",
                "configuration": {
                  "label": "Time Range",
                  "options": [
                    {"value": "1h", "label": "Last Hour"},
                    {"value": "24h", "label": "Last 24 Hours"},
                    {"value": "7d", "label": "Last 7 Days"},
                    {"value": "30d", "label": "Last 30 Days"}
                  ],
                  "value": "24h",
                  "onChange": {
                    "type": "set_variable",
                    "variable": "date_filter",
                    "value": "{{ value }}"
                  }
                }
              }
            ]
          },
          {
            "id": "results_table_container",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "detailed_results_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ scraping_results || [] }}",
                  "columns": [
                    {
                      "field": "started_at",
                      "header": "Start Time",
                      "type": "datetime",
                      "width": "140px"
                    },
                    {
                      "field": "agent_name",
                      "header": "Agent"
                    },
                    {
                      "field": "platform",
                      "header": "Platform",
                      "type": "badge",
                      "width": "100px"
                    },
                    {
                      "field": "target_url",
                      "header": "Target URL",
                      "width": "200px",
                      "render": "{{ row.target_url ? row.target_url.substring(0, 40) + '...' : 'N/A' }}"
                    },
                    {
                      "field": "status",
                      "header": "Status",
                      "type": "badge",
                      "width": "80px"
                    },
                    {
                      "field": "extracted_count",
                      "header": "Data Points",
                      "type": "number",
                      "width": "100px"
                    },
                    {
                      "field": "execution_time_ms",
                      "header": "Duration",
                      "width": "100px",
                      "render": "{{ (row.execution_time_ms / 1000).toFixed(1) }}s"
                    },
                    {
                      "field": "actions",
                      "header": "Actions",
                      "width": "100px",
                      "render": {
                        "type": "containercomponent",
                        "components": [
                          {
                            "id": "view_data",
                            "type": "buttoncomponent",
                            "configuration": {
                              "text": "ðŸ‘ï¸",
                              "size": "xs",
                              "color": "info",
                              "title": "View Data",
                              "onClick": {
                                "type": "modal",
                                "title": "Scraped Data - {{ row.agent_name }}",
                                "content": {
                                  "type": "textcomponent",
                                  "configuration": {
                                    "text": "{{ JSON.stringify(row.data, null, 2) }}",
                                    "style": {
                                      "fontFamily": "monospace",
                                      "fontSize": "12px",
                                      "backgroundColor": "#1f2937",
                                      "color": "#f9fafb",
                                      "padding": "15px",
                                      "borderRadius": "4px",
                                      "maxHeight": "400px",
                                      "overflow": "auto"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "pagination": true,
                  "pageSize": 20,
                  "sortable": true,
                  "defaultSort": {
                    "field": "started_at",
                    "direction": "desc"
                  }
                }
              }
            ]
          }
        ]
      },
      "analytics": {
        "type": "containercomponent",
        "components": [
          {
            "id": "analytics_header",
            "type": "textcomponent",
            "configuration": {
              "text": "### ðŸ“Š Scraping Analytics & Performance",
              "style": {"marginBottom": "20px"}
            }
          },
          {
            "id": "charts_section",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "display": "grid",
                "gridTemplateColumns": "1fr 1fr",
                "gap": "20px",
                "marginBottom": "30px"
              }
            },
            "components": [
              {
                "id": "success_rate_chart",
                "type": "chartcomponent",
                "configuration": {
                  "title": "Success Rate by Platform",
                  "type": "doughnut",
                  "data": "={{ platform_success_rates || [] }}",
                  "labelField": "platform",
                  "valueField": "success_rate",
                  "height": "300px"
                }
              },
              {
                "id": "volume_chart",
                "type": "chartcomponent",
                "configuration": {
                  "title": "Data Points Collected (Last 7 Days)",
                  "type": "line",
                  "data": "={{ volume_metrics || [] }}",
                  "xField": "date",
                  "yField": "data_points",
                  "seriesField": "platform",
                  "height": "300px"
                }
              }
            ]
          },
          {
            "id": "performance_metrics",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "performance_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "**Performance Summary (Last 24 Hours)**",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "performance_table",
                "type": "tablecomponent",
                "configuration": {
                  "data": "={{ performance_summary || [] }}",
                  "columns": [
                    {
                      "field": "platform",
                      "header": "Platform",
                      "type": "badge"
                    },
                    {
                      "field": "total_runs",
                      "header": "Total Runs",
                      "type": "number"
                    },
                    {
                      "field": "success_count",
                      "header": "Successful",
                      "type": "number"
                    },
                    {
                      "field": "success_rate",
                      "header": "Success Rate",
                      "render": "{{ (row.success_rate || 0).toFixed(1) }}%"
                    },
                    {
                      "field": "avg_execution_time",
                      "header": "Avg Duration",
                      "render": "{{ (row.avg_execution_time || 0).toFixed(1) }}s"
                    },
                    {
                      "field": "data_points_collected",
                      "header": "Data Points",
                      "type": "number"
                    },
                    {
                      "field": "storage_used_mb",
                      "header": "Storage (MB)",
                      "type": "number",
                      "render": "{{ (row.storage_used_mb || 0).toFixed(1) }}"
                    }
                  ],
                  "pagination": false,
                  "sortable": true
                }
              }
            ]
          }
        ]
      },
      "settings": {
        "type": "containercomponent",
        "components": [
          {
            "id": "settings_header",
            "type": "textcomponent",
            "configuration": {
              "text": "### âš™ï¸ System Settings & Configuration",
              "style": {"marginBottom": "20px"}
            }
          },
          {
            "id": "platform_settings",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px",
                "marginBottom": "20px"
              }
            },
            "components": [
              {
                "id": "platform_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "**Platform Status**",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "platform_status_grid",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "display": "grid",
                    "gridTemplateColumns": "repeat(auto-fit, minmax(200px, 1fr))",
                    "gap": "15px"
                  }
                },
                "components": [
                  {
                    "id": "huginn_status",
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "textAlign": "center",
                        "padding": "15px",
                        "border": "1px solid #e5e7eb",
                        "borderRadius": "8px"
                      }
                    },
                    "components": [
                      {
                        "id": "huginn_status_text",
                        "type": "textcomponent",
                        "configuration": {
                          "text": "**Huginn** ðŸŸ¢\n*Event-driven agents*\nPort: 4111",
                          "style": {"margin": "0"}
                        }
                      }
                    ]
                  },
                  {
                    "id": "browserless_status",
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "textAlign": "center",
                        "padding": "15px",
                        "border": "1px solid #e5e7eb",
                        "borderRadius": "8px"
                      }
                    },
                    "components": [
                      {
                        "id": "browserless_status_text",
                        "type": "textcomponent",
                        "configuration": {
                          "text": "**Browserless** ðŸŸ¢\n*Headless browser*\nPort: 4110",
                          "style": {"margin": "0"}
                        }
                      }
                    ]
                  },
                  {
                    "id": "agents2_status",
                    "type": "containercomponent",
                    "configuration": {
                      "style": {
                        "textAlign": "center",
                        "padding": "15px",
                        "border": "1px solid #e5e7eb",
                        "borderRadius": "8px"
                      }
                    },
                    "components": [
                      {
                        "id": "agents2_status_text",
                        "type": "textcomponent",
                        "configuration": {
                          "text": "**Agent-S2** ðŸŸ¢\n*AI-powered agents*\nPort: 4113",
                          "style": {"margin": "0"}
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "id": "system_actions",
            "type": "containercomponent",
            "configuration": {
              "style": {
                "backgroundColor": "white",
                "border": "1px solid #e5e7eb",
                "borderRadius": "8px",
                "padding": "20px"
              }
            },
            "components": [
              {
                "id": "actions_title",
                "type": "textcomponent",
                "configuration": {
                  "text": "**System Actions**",
                  "style": {"marginBottom": "15px"}
                }
              },
              {
                "id": "action_buttons",
                "type": "containercomponent",
                "configuration": {
                  "style": {
                    "display": "flex",
                    "gap": "15px",
                    "flexWrap": "wrap"
                  }
                },
                "components": [
                  {
                    "id": "refresh_all",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "ðŸ”„ Refresh All Data",
                      "color": "primary",
                      "onClick": {
                        "type": "run_multiple_queries",
                        "queries": ["get_agents", "get_results", "get_analytics"]
                      }
                    }
                  },
                  {
                    "id": "export_config",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "ðŸ“¤ Export Configuration",
                      "color": "info",
                      "onClick": {
                        "type": "run_query",
                        "query": "export_configuration"
                      }
                    }
                  },
                  {
                    "id": "clear_logs",
                    "type": "buttoncomponent",
                    "configuration": {
                      "text": "ðŸ—‘ï¸ Clear Old Logs",
                      "color": "warning",
                      "onClick": {
                        "type": "confirm_action",
                        "message": "Clear logs older than 30 days?",
                        "action": {
                          "type": "run_query",
                          "query": "clear_old_logs"
                        }
                      }
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  },
  "queries": {
    "get_agents": {
      "type": "postgresql",
      "query": "SELECT sa.*, COUNT(sr.id) as total_runs, COALESCE(AVG(CASE WHEN sr.status = 'success' THEN 1 ELSE 0 END) * 100, 0) as success_rate FROM scraping_agents sa LEFT JOIN scraping_results sr ON sa.id = sr.agent_id WHERE sa.enabled = true GROUP BY sa.id ORDER BY sa.created_at DESC",
      "runOnLoad": true,
      "refetchInterval": 30000
    },
    "get_results": {
      "type": "postgresql",
      "query": "SELECT sr.*, sa.name as agent_name, sa.platform FROM scraping_results sr JOIN scraping_agents sa ON sr.agent_id = sa.id WHERE sr.started_at > NOW() - INTERVAL '{{ date_filter || '24h' }}' ORDER BY sr.started_at DESC",
      "runOnLoad": true,
      "refetchInterval": 60000
    },
    "get_analytics": {
      "type": "postgresql",
      "query": "SELECT sa.platform, COUNT(*) as total_runs, COUNT(CASE WHEN sr.status = 'success' THEN 1 END) as success_count, AVG(CASE WHEN sr.status = 'success' THEN 1 ELSE 0 END) * 100 as success_rate, AVG(sr.execution_time_ms::float / 1000) as avg_execution_time, SUM(sr.extracted_count) as data_points_collected FROM scraping_agents sa LEFT JOIN scraping_results sr ON sa.id = sr.agent_id AND sr.started_at > NOW() - INTERVAL '24 hours' GROUP BY sa.platform",
      "runOnLoad": true,
      "refetchInterval": 120000
    },
    "run_agent": {
      "type": "http",
      "url": "http://localhost:5678/webhook/run-agent",
      "method": "POST",
      "body": {"agent_id": "{{ agent_id }}"},
      "runOnLoad": false
    },
    "toggle_agent": {
      "type": "postgresql",
      "query": "UPDATE scraping_agents SET enabled = {{ enabled }}, updated_at = NOW() WHERE id = '{{ agent_id }}'",
      "runOnLoad": false
    }
  },
  "variables": {
    "platform_filter": "all",
    "status_filter": "all",
    "date_filter": "24h",
    "agent_count": 0,
    "active_scrapes": 0,
    "huginn_agents": 0,
    "browserless_agents": 0,
    "agents2_count": 0,
    "success_rate": 0,
    "total_scrapes": 0,
    "data_points": 0,
    "avg_execution_time": 0,
    "storage_used": 0
  }
}